var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;import{g as o,p as i,l as r}from"./index.ddccdc8b.js";import{g as s,q as c,y as d,d as m,c as u,r as p,z as h,A as g,B as f,F as b}from"./vendor.7bcbf4d5.js";const v={title:{text:"项目近30条提交记录",margin:[15,5],x:"center",textAlign:"center",link:"https://github.com/RyanChent/vite-backen-admin/commits"},toolbox:{feature:{saveAsImage:{show:!0},mark:{show:!0},magicType:{show:!0,type:["line","bar"]}}},tooltip:{trigger:"axis",enterable:!0,confine:!0,formatter:"提交次数：{c}"},xAxis:{type:"category",data:[],name:"时间",axisLabel:{interval:0},axisTick:{alignWithLabel:!0}},legend:{show:!0,left:"left"},yAxis:{type:"value",name:"提交数",axisLabel:{interval:0},axisTick:{alignWithLabel:!0}},series:[{data:[],type:"line",name:"vite-backen-admin",smooth:!0,showAllSymbol:!0}]},x=e=>{const m=s(null),u=s({white:performance.timing.domComplete-performance.timing.connectStart});return c((()=>{m.value||(m.value=r("/js/busuanzi.pure.mini.js"))})),d((()=>{document.body.removeChild(m.value)})),((e,o)=>{for(var i in o||(o={}))t.call(o,i)&&l(e,i,o[i]);if(a)for(var i of a(o))n.call(o,i)&&l(e,i,o[i]);return e})({performanceShow:u},(()=>{let e=1;const a=s(v),t=s(!1),n=()=>{t.value=!0,o({page:e,per_page:30}).then((t=>{const n={};a.value.xAxis.data=[...new Set(t.map((({commit:e})=>{var a,t;const l=i((null==(a=e.author)?void 0:a.date)||(null==(t=e.committer)?void 0:t.date),"{y}-{m}-{d}"),o=l.slice(l.indexOf("-")+1);return n[o]?n[o]+=1:n[o]=1,o})))],a.value.series[0].data=Object.values(n),e+=1})).catch(console.log).finally((()=>{t.value=!1}))};return n(),{getCommitData:n,commitEcharts:a,chartLoading:t}})())};const y=function(){return u(b,null,[u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"访问量",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[h(u("span",{id:"busuanzi_value_site_pv"},null),[[g("loading"),!0]]),u("i",{class:"el-icon-s-custom"},null)])]})]}),u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"访问数",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[h(u("span",{id:"busuanzi_value_site_uv"},null),[[g("loading"),!0]]),u("i",{class:"el-icon-s-check"},null)])]})]}),u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"白屏时间",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[u("span",null,[this.performanceShow.white,f(" ms")]),u("i",{class:"el-icon-timer"},null)])]})]})])},w=function(){const e=p("Echarts");return h(u(p("el-card"),{class:"echarts-card","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0,0,0,0.7)","element-loading-text":"统计图加载中，请稍候",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},{default:()=>[this.commitEcharts.xAxis.data.length>0?u(e,{domId:"github-repo-commit",width:"100%",height:"475px",options:this.commitEcharts},null):u(p("el-empty"),{description:"接口调用频繁，请稍后再试"},null)]}),[[g("loading"),this.chartLoading]])},k=m({name:"DashBoard",componentName:"ManagePCDashBoard",setup:e=>x(),render(){return u("div",{class:"manage-dashboard-page"},[y.call(this),w.call(this)])}});export default k;
