var e=Object.assign;import{s as t,u as n,c as r,r as i,i as o,n as a,d as s,h as l,p as u,a as c,w as d,b as A,e as h,f,F as p,o as g,g as m,j as v,k as y,T as b,_,l as w,m as B,q as C,t as E,v as T,x as S,y as k,z as x,A as O,K as U,B as N,C as I,D as F,E as L,G as P,H as Q,I as D,J as M,L as R,M as H,N as j,O as K,P as V,Q as z,R as q,S as W,U as G,V as X,W as J,X as Y,Y as $,Z,$ as ee,a0 as te,a1 as ne,a2 as re,a3 as ie,a4 as oe,a5 as ae,a6 as se,a7 as le,a8 as ue,a9 as ce,aa as de}from"./vendor.b3f3fa7a.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const a=new URL(e,r);if(self[t].moduleMap[a])return n(self[t].moduleMap[a]);const s=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){o(new Error(`Failed to import: ${e}`)),i(l)},onload(){n(self[t].moduleMap[a]),i(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/assets/");
/*!
  * vue-router v4.0.8
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */
const Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,he=e=>Ae?Symbol(e):"_vr_"+e,fe=he("rvlm"),pe=he("rvd"),ge=he("r"),me=he("rl"),ve=he("rvl"),ye="undefined"!=typeof window;const be=Object.assign;function _e(e,t){const n={};for(const r in t){const i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}let we=()=>{};const Be=/\/$/;function Ce(e,t,n="/"){let r,i={},o="",a="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),o=t.slice(s+1,l>-1?l:t.length),i=e(o)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,a=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==a&&"."!==o){if(".."!==o)break;a--}return n.slice(0,a).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function Ee(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Te(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Se(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!ke(e[n],t[n]))return!1;return!0}function ke(e,t){return Array.isArray(e)?xe(e,t):Array.isArray(t)?xe(t,e):e===t}function xe(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var Oe,Ue,Ne,Ie;function Fe(e){if(!e)if(ye){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Be,"")}(Ue=Oe||(Oe={})).pop="pop",Ue.push="push",(Ie=Ne||(Ne={})).back="back",Ie.forward="forward",Ie.unknown="";const Le=/^[^#]+#/;function Pe(e,t){return e.replace(Le,"#")+t}const Qe=()=>({left:window.pageXOffset,top:window.pageYOffset});function De(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function Me(e,t){return(history.state?history.state.position-t:-1)+e}const Re=new Map;function He(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),Ee(n,"")}return Ee(n,e)+r+i}function je(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Qe():null}}function Ke(e){const{history:t,location:n}=window;let r={value:He(e,n)},i={value:t.state};function o(r,o,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:location.protocol+"//"+location.host+e+r;try{t[a?"replaceState":"pushState"](o,"",l),i.value=o}catch(u){console.error(u),n[a?"replace":"assign"](l)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(e,n){const a=be({},i.value,t.state,{forward:e,scroll:Qe()});o(a.current,a,!0),o(e,be({},je(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){o(e,be({},t.state,je(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}}}function Ve(e){return"string"==typeof e||"symbol"==typeof e}const ze={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qe=he("nf");var We,Ge;function Xe(e,t){return be(new Error,{type:e,[qe]:!0},t)}function Je(e,t){return e instanceof Error&&qe in e&&(null==t||!!(e.type&t))}(Ge=We||(We={}))[Ge.aborted=4]="aborted",Ge[Ge.cancelled=8]="cancelled",Ge[Ge.duplicated=16]="duplicated";const Ye={sensitive:!1,strict:!1,start:!0,end:!0},$e=/[.+*?^${}()[\]/\\]/g;function Ze(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function et(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const e=Ze(r[n],i[n]);if(e)return e;n++}return i.length-r.length}const tt={type:0,value:""},nt=/[a-zA-Z0-9_]/;function rt(e,t,n){const r=function(e,t){const n=be({},Ye,t);let r=[],i=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace($e,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:u,regexp:c}=r;o.push({name:e,repeatable:n,optional:u});const d=c||"[^/]+?";if("[^/]+?"!==d){a+=10;try{new RegExp(`(${d})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+s.message)}}let A=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(A=u&&l.length<2?`(?:/${A})`:"/"+A),u&&(A+="?"),i+=A,a+=20,u&&(a+=-8),n&&(a+=-20),".*"===d&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");return{re:a,score:r,keys:o,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(Array.isArray(l)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(l)?l.join("/"):l;if(!u){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[tt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,l=0,u="",c="";function d(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),u="")}function A(){u+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(u&&d(),a()):":"===s?(d(),n=1):A();break;case 4:A(),n=r;break;case 1:"("===s?n=2:nt.test(s)?A():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:n=3:c+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,c="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),i}(e.path),n),i=be(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function it(e,t){const n=[],r=new Map;function i(e,n,r){let s=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ot(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;const u=lt(t,e),c=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)c.push(be({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let d,A;for(const t of c){let{path:c}=t;if(n&&"/"!==c[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(d=rt(t,n,u),r?r.alias.push(d):(A=A||d,A!==d&&A.alias.push(d),s&&e.name&&!at(d)&&o(e.name)),"children"in l){let e=l.children;for(let t=0;t<e.length;t++)i(e[t],d,r&&r.children[t])}r=r||d,a(d)}return A?()=>{o(A)}:we}function o(e){if(Ve(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(e){let t=0;for(;t<n.length&&et(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!at(e)&&r.set(e.record.name,e)}return t=lt({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>i(e))),{addRoute:i,resolve:function(e,t){let i,o,a,s={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw Xe(1,{location:e});a=i.record.name,s=be(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=i.stringify(s)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(s=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw Xe(1,{location:e,currentLocation:t});a=i.record.name,s=be({},t.params,e.params),o=i.stringify(s)}const l=[];let u=i;for(;u;)l.unshift(u.record),u=u.parent;return{name:a,path:o,params:s,matched:l,meta:st(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function ot(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function at(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function st(e){return e.reduce(((e,t)=>be(e,t.meta)),{})}function lt(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const ut=/#/g,ct=/&/g,dt=/\//g,At=/=/g,ht=/\?/g,ft=/\+/g,pt=/%5B/g,gt=/%5D/g,mt=/%5E/g,vt=/%60/g,yt=/%7B/g,bt=/%7C/g,_t=/%7D/g,wt=/%20/g;function Bt(e){return encodeURI(""+e).replace(bt,"|").replace(pt,"[").replace(gt,"]")}function Ct(e){return Bt(e).replace(ft,"%2B").replace(wt,"+").replace(ut,"%23").replace(ct,"%26").replace(vt,"`").replace(yt,"{").replace(_t,"}").replace(mt,"^")}function Et(e){return function(e){return Bt(e).replace(ut,"%23").replace(ht,"%3F")}(e).replace(dt,"%2F")}function Tt(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function St(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(ft," ");let i=e.indexOf("="),o=Tt(i<0?e:e.slice(0,i));if(Object.prototype.hasOwnProperty(o))continue;let a=i<0?null:Tt(e.slice(i+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function kt(e){let t="";for(let n in e){const r=e[n];if(n=Ct(n).replace(At,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&Ct(e))):[r&&Ct(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function xt(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function Ot(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function Ut(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const l=e=>{var l;!1===e?s(Xe(4,{from:n,to:t})):e instanceof Error?s(e):"string"==typeof(l=e)||l&&"object"==typeof l?s(Xe(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),a())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>s(e)))}))}function Nt(e,t,n,r){const i=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if("object"==typeof(o=s)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(s.__vccOpts||s)[t];o&&i.push(Ut(o,n,r,a,e))}else{let o=s();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${a.path}"`));const o=(s=i).__esModule||Ae&&"Module"===s[Symbol.toStringTag]?i.default:i;var s;a.components[e]=o;const l=(o.__vccOpts||o)[t];return l&&Ut(l,n,r,a,e)()}))))}}var o;return i}function It(e){const t=o(ge),i=o(me),a=r((()=>t.resolve(n(e.to)))),s=r((()=>{let{matched:e}=a.value,{length:t}=e;const n=e[t-1];let r=i.matched;if(!n||!r.length)return-1;let o=r.findIndex(Te.bind(null,n));if(o>-1)return o;let s=Lt(e[t-2]);return t>1&&Lt(n)===s&&r[r.length-1].path!==s?r.findIndex(Te.bind(null,e[t-2])):o})),l=r((()=>s.value>-1&&function(e,t){for(let n in t){let r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}(i.params,a.value.params))),u=r((()=>s.value>-1&&s.value===i.matched.length-1&&Se(i.params,a.value.params)));return{route:a,href:r((()=>a.value.href)),isActive:l,isExactActive:u,navigate:function(r={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(r)?t[n(e.replace)?"replace":"push"](n(e.to)):Promise.resolve()}}}const Ft=s({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=i(It(e)),{options:a}=o(ge),s=r((()=>({[Pt(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[Pt(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:l("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}});function Lt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Pt=(e,t,n)=>null!=e?e:null!=t?t:n;function Qt(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const Dt=s({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const i=o(ve),a=r((()=>e.route||i.value)),s=o(pe,0),A=r((()=>a.value.matched[s]));u(pe,s+1),u(fe,A),u(ve,a);const h=c();return d((()=>[h.value,A.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&Te(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=a.value,i=A.value,o=i&&i.components[e.name],s=e.name;if(!o)return Qt(n.default,{Component:o,route:r});const u=i.props[e.name],c=u?!0===u?r.params:"function"==typeof u?u(r):u:null,d=l(o,be({},c,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[s]=null)},ref:h}));return Qt(n.default,{Component:d,route:r})||d}}});function Mt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function Rt(){return o(ge)}function Ht(){return o(me)}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */function jt(e){return void 0===e&&(e=null),o(null!==e?e:"store")}var Kt=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function Vt(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}var zt=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},qt={namespaced:{configurable:!0}};qt.namespaced.get=function(){return!!this._rawModule.namespaced},zt.prototype.addChild=function(e,t){this._children[e]=t},zt.prototype.removeChild=function(e){delete this._children[e]},zt.prototype.getChild=function(e){return this._children[e]},zt.prototype.hasChild=function(e){return e in this._children},zt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},zt.prototype.forEachChild=function(e){Vt(this._children,e)},zt.prototype.forEachGetter=function(e){this._rawModule.getters&&Vt(this._rawModule.getters,e)},zt.prototype.forEachAction=function(e){this._rawModule.actions&&Vt(this._rawModule.actions,e)},zt.prototype.forEachMutation=function(e){this._rawModule.mutations&&Vt(this._rawModule.mutations,e)},Object.defineProperties(zt.prototype,qt);var Wt=function(e){this.register([],e,!1)};function Gt(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Gt(e.concat(r),t.getChild(r),n.modules[r])}}Wt.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Wt.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")}),"")},Wt.prototype.update=function(e){Gt([],this.root,e)},Wt.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new zt(t,n);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);t.modules&&Vt(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},Wt.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},Wt.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Xt=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Wt(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,a=this.commit;this.dispatch=function(e,t){return o.call(i,e,t)},this.commit=function(e,t,n){return a.call(i,e,t,n)},this.strict=r;var s=this._modules.root.state;en(this,s,[],this._modules.root),Zt(this,s),n.forEach((function(e){return e(t)})),(void 0===e.devtools||e.devtools)&&function(e){Kt&&(e._devtoolHook=Kt,Kt.emit("vuex:init",e),Kt.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){Kt.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){Kt.emit("vuex:action",e,t)}),{prepend:!0}))}(this)},Jt={state:{configurable:!0}};function Yt(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function $t(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;en(e,n,[],e._modules.root,!0),Zt(e,n,t)}function Zt(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,a={};Vt(o,(function(t,n){a[n]=function(e,t){return function(){return e(t)}}(t,e),Object.defineProperty(e.getters,n,{get:function(){return a[n]()},enumerable:!0})})),e._state=i({data:t}),e.strict&&function(e){d((function(){return e._state.data}),(function(){}),{deep:!0,flush:"sync"})}(e),r&&n&&e._withCommit((function(){r.data=null}))}function en(e,t,n,r,i){var o=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!o&&!i){var s=tn(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){s[l]=r.state}))}var u=r.context=function(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=nn(n,r,i),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=t+l),e.dispatch(l,a)},commit:r?e.commit:function(n,r,i){var o=nn(n,r,i),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=t+l),e.commit(l,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return function(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}(e,t)}},state:{get:function(){return tn(e.state,n)}}}),i}(e,a,n);r.forEachMutation((function(t,n){!function(e,t,n,r){(e._mutations[t]||(e._mutations[t]=[])).push((function(t){n.call(e,r.state,t)}))}(e,a+n,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,i=t.handler||t;!function(e,t,n,r){(e._actions[t]||(e._actions[t]=[])).push((function(t){var i,o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}(e,r,i,u)})),r.forEachGetter((function(t,n){!function(e,t,n,r){if(e._wrappedGetters[t])return;e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}(e,a+n,t,u)})),r.forEachChild((function(r,o){en(e,t,n.concat(o),r,i)}))}function tn(e,t){return t.reduce((function(e,t){return e[t]}),e)}function nn(e,t,n){var r;return null!==(r=e)&&"object"==typeof r&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}Xt.prototype.install=function(e,t){e.provide(t||"store",this),e.config.globalProperties.$store=this},Jt.state.get=function(){return this._state.data},Jt.state.set=function(e){},Xt.prototype.commit=function(e,t,n){var r=this,i=nn(e,t,n),o=i.type,a=i.payload,s={type:o,payload:a},l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},Xt.prototype.dispatch=function(e,t){var n=this,r=nn(e,t),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(u){}var l=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(u){}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(u){}t(e)}))}))}},Xt.prototype.subscribe=function(e,t){return Yt(e,this._subscribers,t)},Xt.prototype.subscribeAction=function(e,t){return Yt("function"==typeof e?{before:e}:e,this._actionSubscribers,t)},Xt.prototype.watch=function(e,t,n){var r=this;return d((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},Xt.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Xt.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),en(this,this.state,e,this._modules.get(e),n.preserveState),Zt(this,this.state)},Xt.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){delete tn(t.state,e.slice(0,-1))[e[e.length-1]]})),$t(this)},Xt.prototype.hasModule=function(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},Xt.prototype.hotUpdate=function(e){this._modules.update(e),$t(this,!0)},Xt.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Xt.prototype,Jt);const rn=e=>"string"==typeof e&&e.trim().length>0,on=e=>e&&"object"==typeof e,an=e=>["string","symbol","number","boolean"].includes(typeof e),sn=e=>Object.prototype.toString.call(e).slice(8,-1),ln=()=>"undefined"!=typeof navigator&&Boolean(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))||"undefined"!=typeof window&&window.innerWidth<1024,un=e=>e&&"function"==typeof e;let cn;const dn={},An=function(e,t){if(!t)return e();if(void 0===cn){const e=document.createElement("link").relList;cn=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in dn)return;dn[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":cn,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))},hn=s({name:"SubMenus",__file:"@PC/Menus/subMenus",components:{SubMenus:A((()=>An((()=>Promise.resolve().then((function(){return fn}))),void 0)))},props:{depth:{type:Number,default:1},route:{type:[Array,Object],default:()=>[]},t:{type:Function}},setup:(e,{slots:t})=>()=>un(t[`menu-${e.depth}`])?t[`menu-${e.depth}`](e):h(p,null,[Array.isArray(e.route.children)&&e.route.children.length?h(f("el-submenu"),{index:e.route.redirect||e.route.path},{title:()=>h(p,null,[Boolean(e.route.meta&&rn(e.route.meta.icon))&&h("i",{class:e.route.meta.icon},null),e.route.meta&&h("span",null,[e.t(e.route.meta.title)])]),default:()=>e.route.children.map(((t,n)=>!t.hidden&&h(f("sub-menus"),{route:t,key:t.redirect||t.path||n,depth:e.depth+1,t:e.t},null)))}):!e.route.hidden&&h(f("el-menu-item"),{index:e.route.path},{title:()=>h(p,null,[Boolean(e.route.meta&&rn(e.route.meta.icon))&&h("i",{class:e.route.meta.icon},null),e.t(e.route.meta.title)])})])});var fn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hn});
/*!
  * @intlify/shared v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const pn="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,gn=e=>pn?Symbol(e):e,mn=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),vn=e=>"number"==typeof e&&isFinite(e),yn=e=>"[object RegExp]"===Fn(e),bn=e=>Ln(e)&&0===Object.keys(e).length;function _n(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const wn=Object.assign;let Bn;const Cn=()=>Bn||(Bn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function En(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Tn=Object.prototype.hasOwnProperty;function Sn(e,t){return Tn.call(e,t)}const kn=Array.isArray,xn=e=>"function"==typeof e,On=e=>"string"==typeof e,Un=e=>"boolean"==typeof e,Nn=e=>null!==e&&"object"==typeof e,In=Object.prototype.toString,Fn=e=>In.call(e),Ln=e=>"[object Object]"===Fn(e);function Pn(){const e=new Map;return{events:e,on(t,n){const r=e.get(t);r&&r.push(n)||e.set(t,[n])},off(t,n){const r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit(t,n){(e.get(t)||[]).slice().map((e=>e(n))),(e.get("*")||[]).slice().map((e=>e(t,n)))}}}
/*!
  * @intlify/message-resolver v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Qn=Object.prototype.hasOwnProperty;function Dn(e,t){return Qn.call(e,t)}const Mn=e=>null!==e&&"object"==typeof e,Rn=[];Rn[0]={w:[0],i:[3,0],"[":[4],o:[7]},Rn[1]={w:[1],".":[2],"[":[4],o:[7]},Rn[2]={w:[2],i:[3,0],0:[3,0]},Rn[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Rn[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Rn[5]={"'":[4,0],o:8,l:[5,0]},Rn[6]={'"':[4,0],o:8,l:[6,0]};const Hn=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function jn(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Kn(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,Hn.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const Vn=new Map;function zn(e,t){if(!Mn(e))return null;let n=Vn.get(t);if(n||(n=function(e){const t=[];let n,r,i,o,a,s,l,u=-1,c=0,d=0;const A=[];function h(){const t=e[u+1];if(5===c&&"'"===t||6===c&&'"'===t)return u++,i="\\"+t,A[0](),!0}for(A[0]=()=>{void 0===r?r=i:r+=i},A[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},A[2]=()=>{A[0](),d++},A[3]=()=>{if(d>0)d--,c=4,A[0]();else{if(d=0,void 0===r)return!1;if(r=Kn(r),!1===r)return!1;A[1]()}};null!==c;)if(u++,n=e[u],"\\"!==n||!h()){if(o=jn(n),l=Rn[c],a=l[o]||l.l||8,8===a)return;if(c=a[0],void 0!==a[1]&&(s=A[a[1]],s&&(i=n,!1===s())))return;if(7===c)return t}}(t),n&&Vn.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;for(;o<r;){const e=i[n[o]];if(void 0===e)return null;i=e,o++}return i}function qn(e){if(!Mn(e))return e;for(const t in e)if(Dn(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e;for(let e=0;e<r;e++)n[e]in i||(i[n[e]]={}),i=i[n[e]];i[n[r]]=e[t],delete e[t],Mn(i[n[r]])&&qn(i[n[r]])}else Mn(e[t])&&qn(e[t]);return e}
/*!
  * @intlify/runtime v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Wn=e=>e,Gn=e=>"",Xn=e=>0===e.length?"":e.join(""),Jn=e=>null==e?"":kn(e)||Ln(e)&&e.toString===In?JSON.stringify(e,null,2):String(e);function Yn(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function $n(e={}){const t=e.locale,n=function(e){const t=vn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(vn(e.named.count)||vn(e.named.n))?vn(e.named.count)?e.named.count:vn(e.named.n)?e.named.n:t:t}(e),r=Nn(e.pluralRules)&&On(t)&&xn(e.pluralRules[t])?e.pluralRules[t]:Yn,i=Nn(e.pluralRules)&&On(t)&&xn(e.pluralRules[t])?Yn:void 0,o=e.list||[],a=e.named||{};vn(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,a);function s(t){const n=xn(e.messages)?e.messages(t):!!Nn(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):Gn)}const l=Ln(e.processor)&&xn(e.processor.normalize)?e.processor.normalize:Xn,u=Ln(e.processor)&&xn(e.processor.interpolate)?e.processor.interpolate:Jn,c={list:e=>o[e],named:e=>a[e],plural:e=>e[r(n,e.length,i)],linked:(t,n)=>{const r=s(t)(c);return On(n)?(i=n,e.modifiers?e.modifiers[i]:Wn)(r):r;var i},message:s,type:Ln(e.processor)&&On(e.processor.type)?e.processor.type:"text",interpolate:u,normalize:l};return c}
/*!
  * @intlify/message-compiler v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function Zn(e,t,n={}){const{domain:r,messages:i,args:o}=n,a=new SyntaxError(String(e));return a.code=e,t&&(a.location=t),a.domain=r,a}function er(e){throw e}function tr(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const nr=String.fromCharCode(8232),rr=String.fromCharCode(8233);function ir(e){const t=e;let n=0,r=1,i=1,o=0;const a=e=>"\r"===t[e]&&"\n"===t[e+1],s=e=>t[e]===rr,l=e=>t[e]===nr,u=e=>a(e)||(e=>"\n"===t[e])(e)||s(e)||l(e),c=e=>a(e)||s(e)||l(e)?"\n":t[e];function d(){return o=0,u(n)&&(r++,i=0),a(n)&&n++,n++,i++,t[n]}return{index:()=>n,line:()=>r,column:()=>i,peekOffset:()=>o,charAt:c,currentChar:()=>c(n),currentPeek:()=>c(n+o),next:d,peek:function(){return a(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,i=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)d();o=0}}}const or=void 0;function ar(e,t={}){const n=!1!==t.location,r=ir(e),i=()=>r.index(),o=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},a=o(),s=i(),l={currentType:14,offset:s,startLoc:a,endLoc:a,lastType:14,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function d(e,t,n,...r){const i=u();if(t.column+=n,t.offset+=n,c){const n=Zn(e,tr(i.startLoc,t),{domain:"tokenizer",args:r});c(n)}}function A(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=tr(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const h=e=>A(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(d(0,o(),0,t),"")}function p(e){let t="";for(;" "===e.currentPeek()||"\n"===e.currentPeek();)t+=e.currentPeek(),e.peek();return t}function g(e){const t=p(e);return e.skipToPeek(),t}function m(e){if(e===or)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function v(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r=function(e){if(e===or)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function y(e){p(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function b(e,t=!0){const n=(t=!1,r="",i=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!i)||!(" "===r||"\n"===r):" "===o?(e.peek(),n(!0," ",i)):"\n"!==o||(e.peek(),n(!0,"\n",i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function _(e,t){const n=e.currentChar();return n===or?or:t(n)?(e.next(),n):null}function w(e){return _(e,(e=>{const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function B(e){return _(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57}))}function C(e){return _(e,(e=>{const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function E(e){let t="",n="";for(;t=B(e);)n+=t;return n}function T(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return S(e,t,4);case"U":return S(e,t,6);default:return d(3,o(),0,t),""}}function S(e,t,n){f(e,t);let r="";for(let i=0;i<n;i++){const n=C(e);if(!n){d(4,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function k(e){g(e);const t=f(e,"|");return g(e),t}function x(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&d(8,o(),0),e.next(),n=A(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(7,o(),0),e.next(),n=A(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(6,o(),0),n=O(e,t)||h(t),t.braceNest=0,n;default:let r=!0,i=!0,a=!0;if(y(e))return t.braceNest>0&&d(6,o(),0),n=A(t,1,k(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(6,o(),0),t.braceNest=0,U(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r=m(e.currentPeek());return e.resetPeek(),r}(e,t))return n=A(t,5,function(e){g(e);let t="",n="";for(;t=w(e);)n+=t;return e.currentChar()===or&&d(6,o(),0),n}(e)),g(e),n;if(i=v(e,t))return n=A(t,6,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${E(e)}`):t+=E(e),e.currentChar()===or&&d(6,o(),0),t}(e)),g(e),n;if(a=function(e,t){const{currentType:n}=t;if(2!==n)return!1;p(e);const r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=A(t,7,function(e){g(e),f(e,"'");let t="",n="";const r=e=>"'"!==e&&"\n"!==e;for(;t=_(e,r);)n+="\\"===t?T(e):t;const i=e.currentChar();return"\n"===i||i===or?(d(2,o(),0),"\n"===i&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),g(e),n;if(!r&&!i&&!a)return n=A(t,13,function(e){g(e);let t="",n="";const r=e=>"{"!==e&&"}"!==e&&" "!==e&&"\n"!==e;for(;t=_(e,r);)n+=t;return n}(e)),d(1,o(),0,n.value),g(e),n}return n}function O(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||"\n"!==i&&" "!==i||d(9,o(),0),i){case"@":return e.next(),r=A(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),A(t,9,".");case":":return g(e),e.next(),A(t,10,":");default:return y(e)?(r=A(t,1,k(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(8!==n)return!1;p(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;p(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),O(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;p(e);const r=m(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),A(t,12,function(e){let t="",n="";for(;t=w(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?m(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||" "===t||!t)&&("\n"===t?(e.peek(),r()):m(t))},i=r();return e.resetPeek(),i}(e,t)?(g(e),"{"===i?x(e,t)||r:A(t,11,function(e){const t=(n=!1,r)=>{const i=e.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?" "===i?r:"\n"===i?(r+=i,e.next(),t(n,r)):(r+=i,e.next(),t(!0,r)):r};return t(!1,"")}(e))):(8===n&&d(9,o(),0),t.braceNest=0,t.inLinked=!1,U(e,t))}}function U(e,t){let n={type:14};if(t.braceNest>0)return x(e,t)||h(t);if(t.inLinked)return O(e,t)||h(t);const r=e.currentChar();switch(r){case"{":return x(e,t)||h(t);case"}":return d(5,o(),0),e.next(),A(t,3,"}");case"@":return O(e,t)||h(t);default:if(y(e))return n=A(t,1,k(e)),t.braceNest=0,t.inLinked=!1,n;if(b(e))return A(t,0,function(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"}"!==r&&"@"!==r&&r?"%"===r?b(e)?(n+=r,e.next(),t(n)):n:"|"===r?n:" "===r||"\n"===r?b(e)?(n+=r,e.next(),t(n)):y(e)?n:(n+=r,e.next(),t(n)):(n+=r,e.next(),t(n)):n};return t("")}(e));if("%"===r)return e.next(),A(t,4,"%")}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:a}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=a,l.offset=i(),l.startLoc=o(),r.currentChar()===or?A(l,14):U(r,l)},currentOffset:i,currentPosition:o,context:u}}const sr=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function lr(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):"�"}}}function ur(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,t,r,i,...o){const a=e.currentPosition();if(a.offset+=i,a.column+=i,n){const e=Zn(t,tr(r,a),{domain:"parser",args:o});n(e)}}function i(e,n,r){const i={type:e,start:n,end:n};return t&&(i.loc={start:r,end:r}),i}function o(e,n,r,i){e.end=n,i&&(e.type=i),t&&e.loc&&(e.loc.end=r)}function a(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function s(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(5,r,a);return s.index=parseInt(t,10),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(4,r,a);return s.key=t,e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function u(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(9,r,a);return s.value=t.replace(sr,lr),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function c(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let a=e.nextToken();if(9===a.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:a,lastStartLoc:s}=n,l=i(8,a,s);return 12!==t.type?(r(e,11,n.lastStartLoc,0),l.value="",o(l,a,s),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,13,n.lastStartLoc,0,cr(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,a=t.nextConsumeToken||e.nextToken()}switch(10!==a.type&&r(e,13,t.lastStartLoc,0,cr(a)),a=e.nextToken(),2===a.type&&(a=e.nextToken()),a.type){case 11:null==a.value&&r(e,13,t.lastStartLoc,0,cr(a)),n.key=function(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,a.value||"");break;case 5:null==a.value&&r(e,13,t.lastStartLoc,0,cr(a)),n.key=l(e,a.value||"");break;case 6:null==a.value&&r(e,13,t.lastStartLoc,0,cr(a)),n.key=s(e,a.value||"");break;case 7:null==a.value&&r(e,13,t.lastStartLoc,0,cr(a)),n.key=u(e,a.value||"");break;default:r(e,12,t.lastStartLoc,0);const c=e.context(),d=i(7,c.offset,c.startLoc);return d.value="",o(d,c.offset,c.startLoc),n.key=d,o(n,c.offset,c.startLoc),{nextConsumeToken:a,node:n}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function d(e){const t=e.context(),n=i(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let d=null;do{const i=d||e.nextToken();switch(d=null,i.type){case 0:null==i.value&&r(e,13,t.lastStartLoc,0,cr(i)),n.items.push(a(e,i.value||""));break;case 6:null==i.value&&r(e,13,t.lastStartLoc,0,cr(i)),n.items.push(s(e,i.value||""));break;case 5:null==i.value&&r(e,13,t.lastStartLoc,0,cr(i)),n.items.push(l(e,i.value||""));break;case 7:null==i.value&&r(e,13,t.lastStartLoc,0,cr(i)),n.items.push(u(e,i.value||""));break;case 8:const o=c(e);n.items.push(o.node),d=o.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function A(e){const t=e.context(),{offset:n,startLoc:a}=t,s=d(e);return 14===t.currentType?s:function(e,t,n,a){const s=e.context();let l=0===a.items.length;const u=i(1,t,n);u.cases=[],u.cases.push(a);do{const t=d(e);l||(l=0===t.items.length),u.cases.push(t)}while(14!==s.currentType);return l&&r(e,10,n,0),o(u,e.currentOffset(),e.currentPosition()),u}(e,n,a,s)}return{parse:function(n){const a=ar(n,wn({},e)),s=a.context(),l=i(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=A(a),14!==s.currentType&&r(a,13,s.lastStartLoc,0,n[s.offset]||""),o(l,a.currentOffset(),a.currentPosition()),l}}}function cr(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function dr(e,t){for(let n=0;n<e.length;n++)Ar(e[n],t)}function Ar(e,t){switch(e.type){case 1:dr(e.cases,t),t.helper("plural");break;case 2:dr(e.items,t);break;case 6:Ar(e.key,t),t.helper("linked");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function hr(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&Ar(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function fr(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?fr(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i&&(fr(e,t.cases[n]),n!==i-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let o=0;o<i&&(fr(e,t.items[o]),o!==i-1);o++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),fr(e,t.key),t.modifier&&(e.push(", "),fr(e,t.modifier)),e.push(")")}(e,t);break;case 8:case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:case 3:e.push(JSON.stringify(t.value),t)}}function pr(e,t={}){const n=wn({},t),r=ur(n).parse(e);return hr(r,n),((e,t={})=>{const n=On(t.mode)?t.mode:"normal",r=On(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",a=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],l=function(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=t,a={source:e.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};function s(e,t){a.code+=e}function l(e,t=!0){const n=t?i:"";s(o?n+"  ".repeat(e):n)}return{context:()=>a,push:s,indent:function(e=!0){const t=++a.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--a.indentLevel;e&&l(t)},newline:function(){l(a.indentLevel)},helper:e=>`_${e}`,needIndent:()=>a.needIndent}}(e,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:a});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),s.length>0&&(l.push(`const { ${s.map((e=>`${e}: _${e}`)).join(", ")} } = ctx`),l.newline()),l.push("return "),fr(l,e),l.deindent(a),l.push("}");const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}})(r,n)}
/*!
  * @intlify/devtools-if v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const gr="i18n:init";
/*!
  * @intlify/core-base v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let mr=null;const vr=yr("function:translate");function yr(e){return t=>mr&&mr.emit(e,t)}let br;let _r=null;const wr=e=>{_r=e};let Br=0;function Cr(e={}){const t=On(e.version)?e.version:"9.1.6",n=On(e.locale)?e.locale:"en-US",r=kn(e.fallbackLocale)||Ln(e.fallbackLocale)||On(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:n,i=Ln(e.messages)?e.messages:{[n]:{}},o=Ln(e.datetimeFormats)?e.datetimeFormats:{[n]:{}},a=Ln(e.numberFormats)?e.numberFormats:{[n]:{}},s=wn({},e.modifiers||{},{upper:e=>On(e)?e.toUpperCase():e,lower:e=>On(e)?e.toLowerCase():e,capitalize:e=>On(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}),l=e.pluralRules||{},u=xn(e.missing)?e.missing:null,c=!Un(e.missingWarn)&&!yn(e.missingWarn)||e.missingWarn,d=!Un(e.fallbackWarn)&&!yn(e.fallbackWarn)||e.fallbackWarn,A=!!e.fallbackFormat,h=!!e.unresolving,f=xn(e.postTranslation)?e.postTranslation:null,p=Ln(e.processor)?e.processor:null,g=!Un(e.warnHtmlMessage)||e.warnHtmlMessage,m=!!e.escapeParameter,v=xn(e.messageCompiler)?e.messageCompiler:br,y=xn(e.onWarn)?e.onWarn:_n,b=e,_=Nn(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,w=Nn(b.__numberFormatters)?b.__numberFormatters:new Map,B=Nn(b.__meta)?b.__meta:{};Br++;const C={version:t,cid:Br,locale:n,fallbackLocale:r,messages:i,datetimeFormats:o,numberFormats:a,modifiers:s,pluralRules:l,missing:u,missingWarn:c,fallbackWarn:d,fallbackFormat:A,unresolving:h,postTranslation:f,processor:p,warnHtmlMessage:g,escapeParameter:m,messageCompiler:v,onWarn:y,__datetimeFormatters:_,__numberFormatters:w,__meta:B};return __INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){mr&&mr.emit(gr,{timestamp:Date.now(),i18n:e,version:t,meta:n})}(C,t,B),C}function Er(e,t,n,r,i){const{missing:o,onWarn:a}=e;if(null!==o){const r=o(e,n,t,i);return On(r)?r:t}return t}function Tr(e,t,n){const r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(n);if(!i){i=[];let e=[n];for(;kn(e);)e=Sr(i,e,t);const o=kn(t)?t:Ln(t)?t.default?t.default:null:t;e=On(o)?[o]:o,kn(e)&&Sr(i,e,!1),r.__localeChainCache.set(n,i)}return i}function Sr(e,t,n){let r=!0;for(let i=0;i<t.length&&Un(r);i++){const o=t[i];On(o)&&(r=kr(e,t[i],n))}return r}function kr(e,t,n){let r;const i=t.split("-");do{r=xr(e,i.join("-"),n),i.splice(-1,1)}while(i.length&&!0===r);return r}function xr(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(kn(n)||Ln(n))&&n[i]&&(r=n[i])}return r}function Or(e,t,n){e.__localeChainCache=new Map,Tr(e,n,t)}const Ur=e=>e;let Nr=Object.create(null);function Ir(e){return Zn(e,null,void 0)}const Fr=()=>"",Lr=e=>xn(e);function Pr(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,fallbackLocale:o,messages:a}=e,[s,l]=Dr(...t),u=(Un(l.missingWarn)?l.missingWarn:e.missingWarn,Un(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,Un(l.escapeParameter)?l.escapeParameter:e.escapeParameter),c=!!l.resolvedMessage,d=On(l.default)||Un(l.default)?Un(l.default)?s:l.default:n?s:"",A=n||""!==d,h=On(l.locale)?l.locale:e.locale;u&&function(e){kn(e.list)?e.list=e.list.map((e=>On(e)?En(e):e)):Nn(e.named)&&Object.keys(e.named).forEach((t=>{On(e.named[t])&&(e.named[t]=En(e.named[t]))}))}(l);let[f,p,g]=c?[s,h,a[h]||{}]:function(e,t,n,r,i,o){const{messages:a,onWarn:s}=e,l=Tr(e,r,n);let u,c={},d=null;const A="translate";for(let h=0;h<l.length&&(u=l[h],c=a[u]||{},null===(d=zn(c,t))&&(d=c[t]),!On(d)&&!xn(d));h++){const n=Er(e,t,u,0,A);n!==t&&(d=n)}return[d,u,c]}(e,s,h,o),m=s;if(c||On(f)||Lr(f)||A&&(f=d,m=f),!(c||(On(f)||Lr(f))&&On(p)))return i?-1:s;let v=!1;const y=Lr(f)?f:Qr(e,s,p,f,m,(()=>{v=!0}));if(v)return f;const b=function(e,t,n){return t(n)}(0,y,$n(function(e,t,n,r){const{modifiers:i,pluralRules:o}=e,a={locale:t,modifiers:i,pluralRules:o,messages:r=>{const i=zn(n,r);if(On(i)){let n=!1;const o=Qr(e,r,t,i,r,(()=>{n=!0}));return n?Fr:o}return Lr(i)?i:Fr}};e.processor&&(a.processor=e.processor);r.list&&(a.list=r.list);r.named&&(a.named=r.named);vn(r.plural)&&(a.pluralIndex=r.plural);return a}(e,p,g,l))),_=r?r(b):b;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:On(s)?s:Lr(f)?f.key:"",locale:p||(Lr(f)?f.locale:""),format:On(f)?f:Lr(f)?f.source:"",message:_};t.meta=wn({},e.__meta,_r||{}),vr(t)}return _}function Qr(e,t,n,r,i,o){const{messageCompiler:a,warnHtmlMessage:s}=e;if(Lr(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}const l=a(r,function(e,t,n,r,i,o){return{warnHtmlMessage:i,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>mn({l:e,k:t,s:n}))(t,n,e)}}(0,n,i,0,s,o));return l.locale=n,l.key=t,l.source=r,l}function Dr(...e){const[t,n,r]=e,i={};if(!On(t)&&!vn(t)&&!Lr(t))throw Ir(14);const o=vn(t)?String(t):(Lr(t),t);return vn(n)?i.plural=n:On(n)?i.default=n:Ln(n)&&!bn(n)?i.named=n:kn(n)&&(i.list=n),vn(r)?i.plural=r:On(r)?i.default=r:Ln(r)&&wn(i,r),[o,i]}function Mr(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=e,{__datetimeFormatters:a}=e,[s,l,u,c]=Rr(...t);Un(u.missingWarn)?u.missingWarn:e.missingWarn;Un(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,A=On(u.locale)?u.locale:e.locale,h=Tr(e,i,A);if(!On(s)||""===s)return new Intl.DateTimeFormat(A).format(l);let f,p={},g=null;for(let y=0;y<h.length&&(f=h[y],p=n[f]||{},g=p[s],!Ln(g));y++)Er(e,s,f,0,"datetime format");if(!Ln(g)||!On(f))return r?-1:s;let m=`${f}__${s}`;bn(c)||(m=`${m}__${JSON.stringify(c)}`);let v=a.get(m);return v||(v=new Intl.DateTimeFormat(f,wn({},g,c)),a.set(m,v)),d?v.formatToParts(l):v.format(l)}function Rr(...e){const[t,n,r,i]=e;let o,a={},s={};if(On(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Ir(16);o=new Date(t);try{o.toISOString()}catch(l){throw Ir(16)}}else if("[object Date]"===Fn(t)){if(isNaN(t.getTime()))throw Ir(15);o=t}else{if(!vn(t))throw Ir(14);o=t}return On(n)?a.key=n:Ln(n)&&(a=n),On(r)?a.locale=r:Ln(r)&&(s=r),Ln(i)&&(s=i),[a.key||"",o,a,s]}function Hr(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function jr(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=e,{__numberFormatters:a}=e,[s,l,u,c]=Kr(...t);Un(u.missingWarn)?u.missingWarn:e.missingWarn;Un(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const d=!!u.part,A=On(u.locale)?u.locale:e.locale,h=Tr(e,i,A);if(!On(s)||""===s)return new Intl.NumberFormat(A).format(l);let f,p={},g=null;for(let y=0;y<h.length&&(f=h[y],p=n[f]||{},g=p[s],!Ln(g));y++)Er(e,s,f,0,"number format");if(!Ln(g)||!On(f))return r?-1:s;let m=`${f}__${s}`;bn(c)||(m=`${m}__${JSON.stringify(c)}`);let v=a.get(m);return v||(v=new Intl.NumberFormat(f,wn({},g,c)),a.set(m,v)),d?v.formatToParts(l):v.format(l)}function Kr(...e){const[t,n,r,i]=e;let o={},a={};if(!vn(t))throw Ir(14);const s=t;return On(n)?o.key=n:Ln(n)&&(o=n),On(r)?o.locale=r:Ln(r)&&(a=r),Ln(i)&&(a=i),[o.key||"",s,o,a]}function Vr(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}function zr(){return"undefined"!=typeof navigator?window:"undefined"!=typeof global?global:{}}function qr(e,t){const n=zr().__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n)n.emit("devtools-plugin:setup",e,t);else{const n=zr();(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t})}}
/*!
  * @intlify/vue-devtools v9.1.6
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const Wr={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},Gr={"vue-i18n-resource-inspector":"Search for scopes ..."},Xr={"vue-i18n-timeline":16764185};function Jr(e,...t){return Zn(e,null,void 0)}const Yr=gn("__transrateVNode"),$r=gn("__datetimeParts"),Zr=gn("__numberParts"),ei=gn("__enableEmitter"),ti=gn("__disableEmitter"),ni=gn("__setPluralRules");let ri=0;function ii(e){return(t,n,r,i)=>e(n,r,y()||void 0,i)}function oi(e,t){const{messages:n,__i18n:r}=t,i=Ln(n)?n:kn(r)?{}:{[e]:{}};if(kn(r)&&r.forEach((({locale:e,resource:t})=>{e?(i[e]=i[e]||{},si(t,i[e])):si(t,i)})),t.flatJson)for(const o in i)Sn(i,o)&&qn(i[o]);return i}const ai=e=>!Nn(e)||kn(e);function si(e,t){if(ai(e)||ai(t))throw Jr(20);for(const n in e)Sn(e,n)&&(ai(e[n])||ai(t[n])?t[n]=e[n]:si(e[n],t[n]))}function li(e={}){const{__root:t}=e,n=void 0===t;let i=!Un(e.inheritLocale)||e.inheritLocale;const o=c(t&&i?t.locale.value:On(e.locale)?e.locale:"en-US"),a=c(t&&i?t.fallbackLocale.value:On(e.fallbackLocale)||kn(e.fallbackLocale)||Ln(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o.value),s=c(oi(o.value,e)),l=c(Ln(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),u=c(Ln(e.numberFormats)?e.numberFormats:{[o.value]:{}});let A=t?t.missingWarn:!Un(e.missingWarn)&&!yn(e.missingWarn)||e.missingWarn,f=t?t.fallbackWarn:!Un(e.fallbackWarn)&&!yn(e.fallbackWarn)||e.fallbackWarn,p=t?t.fallbackRoot:!Un(e.fallbackRoot)||e.fallbackRoot,g=!!e.fallbackFormat,m=xn(e.missing)?e.missing:null,v=xn(e.missing)?ii(e.missing):null,_=xn(e.postTranslation)?e.postTranslation:null,w=!Un(e.warnHtmlMessage)||e.warnHtmlMessage,B=!!e.escapeParameter;const C=t?t.modifiers:Ln(e.modifiers)?e.modifiers:{};let E,T=e.pluralRules||t&&t.pluralRules;E=Cr({version:"9.1.6",locale:o.value,fallbackLocale:a.value,messages:s.value,datetimeFormats:l.value,numberFormats:u.value,modifiers:C,pluralRules:T,missing:null===v?void 0:v,missingWarn:A,fallbackWarn:f,fallbackFormat:g,unresolving:!0,postTranslation:null===_?void 0:_,warnHtmlMessage:w,escapeParameter:B,__datetimeFormatters:Ln(E)?E.__datetimeFormatters:void 0,__numberFormatters:Ln(E)?E.__numberFormatters:void 0,__v_emitter:Ln(E)?E.__v_emitter:void 0,__meta:{framework:"vue"}}),Or(E,o.value,a.value);const S=r({get:()=>o.value,set:e=>{o.value=e,E.locale=o.value}}),k=r({get:()=>a.value,set:e=>{a.value=e,E.fallbackLocale=a.value,Or(E,o.value,e)}}),x=r((()=>s.value)),O=r((()=>l.value)),U=r((()=>u.value));function N(e,n,r,i,c,d){let A;if(o.value,a.value,s.value,l.value,u.value,__INTLIFY_PROD_DEVTOOLS__)try{wr((()=>{const e=y();return e&&e.type.__INTLIFY_META__?{__INTLIFY_META__:e.type.__INTLIFY_META__}:null})()),A=e(E)}finally{wr(null)}else A=e(E);if(vn(A)&&-1===A){const[e,r]=n();return t&&p?i(t):c(e)}if(d(A))return A;throw Jr(14)}function I(...e){return N((t=>Pr(t,...e)),(()=>Dr(...e)),0,(t=>t.t(...e)),(e=>e),(e=>On(e)))}const F={normalize:function(e){return e.map((e=>On(e)?h(b,null,e,0):e))},interpolate:e=>e,type:"vnode"};function L(e){return s.value[e]||{}}ri++,t&&(d(t.locale,(e=>{i&&(o.value=e,E.locale=e,Or(E,o.value,a.value))})),d(t.fallbackLocale,(e=>{i&&(a.value=e,E.fallbackLocale=e,Or(E,o.value,a.value))})));return{id:ri,locale:S,fallbackLocale:k,get inheritLocale(){return i},set inheritLocale(e){i=e,e&&t&&(o.value=t.locale.value,a.value=t.fallbackLocale.value,Or(E,o.value,a.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:x,datetimeFormats:O,numberFormats:U,get modifiers(){return C},get pluralRules(){return T||{}},get isGlobal(){return n},get missingWarn(){return A},set missingWarn(e){A=e,E.missingWarn=A},get fallbackWarn(){return f},set fallbackWarn(e){f=e,E.fallbackWarn=f},get fallbackRoot(){return p},set fallbackRoot(e){p=e},get fallbackFormat(){return g},set fallbackFormat(e){g=e,E.fallbackFormat=g},get warnHtmlMessage(){return w},set warnHtmlMessage(e){w=e,E.warnHtmlMessage=e},get escapeParameter(){return B},set escapeParameter(e){B=e,E.escapeParameter=e},t:I,rt:function(...e){const[t,n,r]=e;if(r&&!Nn(r))throw Jr(15);return I(t,n,wn({resolvedMessage:!0},r||{}))},d:function(...e){return N((t=>Mr(t,...e)),(()=>Rr(...e)),0,(t=>t.d(...e)),(()=>""),(e=>On(e)))},n:function(...e){return N((t=>jr(t,...e)),(()=>Kr(...e)),0,(t=>t.n(...e)),(()=>""),(e=>On(e)))},te:function(e,t){return null!==zn(L(On(t)?t:o.value),e)},tm:function(e){const n=function(e){let t=null;const n=Tr(E,a.value,o.value);for(let r=0;r<n.length;r++){const i=zn(s.value[n[r]]||{},e);if(null!=i){t=i;break}}return t}(e);return null!=n?n:t&&t.tm(e)||{}},getLocaleMessage:L,setLocaleMessage:function(e,t){s.value[e]=t,E.messages=s.value},mergeLocaleMessage:function(e,t){s.value[e]=s.value[e]||{},si(t,s.value[e]),E.messages=s.value},getDateTimeFormat:function(e){return l.value[e]||{}},setDateTimeFormat:function(e,t){l.value[e]=t,E.datetimeFormats=l.value,Hr(E,e,t)},mergeDateTimeFormat:function(e,t){l.value[e]=wn(l.value[e]||{},t),E.datetimeFormats=l.value,Hr(E,e,t)},getNumberFormat:function(e){return u.value[e]||{}},setNumberFormat:function(e,t){u.value[e]=t,E.numberFormats=u.value,Vr(E,e,t)},mergeNumberFormat:function(e,t){u.value[e]=wn(u.value[e]||{},t),E.numberFormats=u.value,Vr(E,e,t)},getPostTranslationHandler:function(){return xn(_)?_:null},setPostTranslationHandler:function(e){_=e,E.postTranslation=e},getMissingHandler:function(){return m},setMissingHandler:function(e){null!==e&&(v=ii(e)),m=e,E.missing=v},[Yr]:function(...e){return N((t=>{let n;const r=t;try{r.processor=F,n=Pr(r,...e)}finally{r.processor=null}return n}),(()=>Dr(...e)),0,(t=>t[Yr](...e)),(e=>[h(b,null,e,0)]),(e=>kn(e)))},[Zr]:function(...e){return N((t=>jr(t,...e)),(()=>Kr(...e)),0,(t=>t[Zr](...e)),(()=>[]),(e=>On(e)||kn(e)))},[$r]:function(...e){return N((t=>Mr(t,...e)),(()=>Rr(...e)),0,(t=>t[$r](...e)),(()=>[]),(e=>On(e)||kn(e)))},[ni]:function(e){T=e,E.pluralRules=T}}}function ui(e={}){const t=li(function(e){const t=On(e.locale)?e.locale:"en-US",n=On(e.fallbackLocale)||kn(e.fallbackLocale)||Ln(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=xn(e.missing)?e.missing:void 0,i=!Un(e.silentTranslationWarn)&&!yn(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!Un(e.silentFallbackWarn)&&!yn(e.silentFallbackWarn)||!e.silentFallbackWarn,a=!Un(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,l=Ln(e.modifiers)?e.modifiers:{},u=e.pluralizationRules,c=xn(e.postTranslation)?e.postTranslation:void 0,d=!On(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,A=!!e.escapeParameterHtml,h=!Un(e.sync)||e.sync;let f=e.messages;if(Ln(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return wn(r,t[n]),e}),f||{})}const{__i18n:p,__root:g}=e,m=e.datetimeFormats,v=e.numberFormats;return{locale:t,fallbackLocale:n,messages:f,flatJson:e.flatJson,datetimeFormats:m,numberFormats:v,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:u,postTranslation:c,warnHtmlMessage:d,escapeParameter:A,inheritLocale:h,__i18n:p,__root:g}}(e)),n={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return Un(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=Un(e)?!e:e},get silentFallbackWarn(){return Un(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=Un(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,o={};let a=null,s=null;if(!On(n))throw Jr(15);const l=n;return On(r)?o.locale=r:kn(r)?a=r:Ln(r)&&(s=r),kn(i)?a=i:Ln(i)&&(s=i),t.t(l,a||s||{},o)},rt:(...e)=>t.rt(...e),tc(...e){const[n,r,i]=e,o={plural:1};let a=null,s=null;if(!On(n))throw Jr(15);const l=n;return On(r)?o.locale=r:vn(r)?o.plural=r:kn(r)?a=r:Ln(r)&&(s=r),On(i)?o.locale=i:kn(i)?a=i:Ln(i)&&(s=i),t.t(l,a||s||{},o)},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>t.d(...e),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>t.n(...e),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1,__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:r}=e;r&&r(t,n)}};return n}const ci={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}},di={name:"i18n-t",props:wn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>vn(e)||!isNaN(e)}},ci),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||ki({useScope:e.scope}),o=Object.keys(n).filter((e=>"_"!==e));return()=>{const n={};e.locale&&(n.locale=e.locale),void 0!==e.plural&&(n.plural=On(e.plural)?+e.plural:e.plural);const a=function({slots:e},t){return 1===t.length&&"default"===t[0]?e.default?e.default():[]:t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}(t,o),s=i[Yr](e.keypath,a,n),u=wn({},r);return On(e.tag)||Nn(e.tag)?l(e.tag,u,s):l(p,u,s)}}};function Ai(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let a={};e.locale&&(t.locale=e.locale),On(e.format)?t.key=e.format:Nn(e.format)&&(On(e.format.key)&&(t.key=e.format.key),a=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?wn({},t,{[r]:e.format[r]}):t),{}));const s=r(e.value,t,a);let u=[t.key];kn(s)?u=s.map(((e,t)=>{const n=i[e.type];return n?n({[e.type]:e.value,index:t,parts:s}):[e.value]})):On(s)&&(u=[s]);const c=wn({},o);return On(e.tag)||Nn(e.tag)?l(e.tag,c,u):l(p,c,u)}}const hi=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],fi={name:"i18n-n",props:wn({value:{type:Number,required:!0},format:{type:[String,Object]}},ci),setup(e,t){const n=e.i18n||ki({useScope:"parent"});return Ai(e,t,hi,((...e)=>n[Zr](...e)))}},pi=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],gi={name:"i18n-d",props:wn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ci),setup(e,t){const n=e.i18n||ki({useScope:"parent"});return Ai(e,t,pi,((...e)=>n[$r](...e)))}};function mi(e){const t=(t,{instance:n,value:r,modifiers:i})=>{if(!n||!n.$)throw Jr(22);const o=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),a=function(e){if(On(e))return{path:e};if(Ln(e)){if(!("path"in e))throw Jr(19);return e}throw Jr(20)}(r);t.textContent=o.t(...function(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,a={},s=r||{};On(n)&&(a.locale=n);vn(i)&&(a.plural=i);vn(o)&&(a.plural=o);return[t,s,a]}(a))};return{beforeMount:t,beforeUpdate:t}}let vi;async function yi(e,t){return new Promise(((n,r)=>{try{qr({id:"vue-devtools-plugin-vue-i18n",label:Wr["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:["vue-i18n: composer properties"],app:e},(r=>{vi=r,r.on.visitComponentTree((({componentInstance:e,treeNode:n})=>{!function(e,t,n){const r="composition"===n.mode?n.global:n.global.__composer;if(e&&e.vnode.el.__VUE_I18N__&&e.vnode.el.__VUE_I18N__!==r){const n={label:`i18n (${e.type.name||e.type.displayName||e.type.__file} Scope)`,textColor:0,backgroundColor:16764185};t.tags.push(n)}}(e,n,t)})),r.on.inspectComponent((({componentInstance:e,instanceData:n})=>{e.vnode.el.__VUE_I18N__&&n&&("legacy"===t.mode?e.vnode.el.__VUE_I18N__!==t.global.__composer&&bi(n,e.vnode.el.__VUE_I18N__):bi(n,e.vnode.el.__VUE_I18N__))})),r.addInspector({id:"vue-i18n-resource-inspector",label:Wr["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:Gr["vue-i18n-resource-inspector"]}),r.on.getInspectorTree((n=>{n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId&&function(e,t){e.rootNodes.push({id:"global",label:"Global Scope"});const n="composition"===t.mode?t.global:t.global.__composer;for(const[r,i]of t.__instances){const o="composition"===t.mode?i:i.__composer;if(n===o)continue;const a=r.type.name||r.type.displayName||r.type.__file;e.rootNodes.push({id:o.id.toString(),label:`${a} Scope`})}}(n,t)})),r.on.getInspectorState((n=>{n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId&&function(e,t){const n=Ei(e.nodeId,t);n&&(e.state=function(e){const t={},n="Locale related info",r=[{type:n,key:"locale",editable:!0,value:e.locale.value},{type:n,key:"fallbackLocale",editable:!0,value:e.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:e.availableLocales},{type:n,key:"inheritLocale",editable:!0,value:e.inheritLocale}];t[n]=r;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:_i(e.messages.value)}];t[i]=o;const a="Datetime formats info",s=[{type:a,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}];t[a]=s;const l="Datetime formats info",u=[{type:l,key:"numberFormats",editable:!1,value:e.numberFormats.value}];return t[l]=u,t}(n))}(n,t)})),r.on.editInspectorState((n=>{n.app===e&&"vue-i18n-resource-inspector"===n.inspectorId&&function(e,t){const n=Ei(e.nodeId,t);if(n){const[t]=e.path;"locale"===t&&On(e.state.value)?n.locale.value=e.state.value:"fallbackLocale"===t&&(On(e.state.value)||kn(e.state.value)||Nn(e.state.value))?n.fallbackLocale.value=e.state.value:"inheritLocale"===t&&Un(e.state.value)&&(n.inheritLocale=e.state.value)}}(n,t)})),r.addTimelineLayer({id:"vue-i18n-timeline",label:Wr["vue-i18n-timeline"],color:Xr["vue-i18n-timeline"]}),n(!0)}))}catch(i){console.error(i),r(!1)}}))}function bi(e,t){const n="vue-i18n: composer properties";e.state.push({type:n,key:"locale",editable:!0,value:t.locale.value}),e.state.push({type:n,key:"availableLocales",editable:!1,value:t.availableLocales}),e.state.push({type:n,key:"fallbackLocale",editable:!0,value:t.fallbackLocale.value}),e.state.push({type:n,key:"inheritLocale",editable:!0,value:t.inheritLocale}),e.state.push({type:n,key:"messages",editable:!1,value:_i(t.messages.value)}),e.state.push({type:n,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}),e.state.push({type:n,key:"numberFormats",editable:!1,value:t.numberFormats.value})}function _i(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];var i;xn(r)&&"source"in r?t[n]={_custom:{type:"function",display:"<span>ƒ</span> "+((i=r).source?`("${Bi(i.source)}")`:"(?)")}}:Nn(r)?t[n]=_i(r):t[n]=r})),t}const wi={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function Bi(e){return e.replace(/[<>"&]/g,Ci)}function Ci(e){return wi[e]||e}function Ei(e,t){if("global"===e)return"composition"===t.mode?t.global:t.global.__composer;{const n=Array.from(t.__instances.values()).find((t=>t.id.toString()===e));return n?"composition"===t.mode?n:n.__composer:null}}function Ti(e,t){if(vi){let n;t&&"groupId"in t&&(n=t.groupId,delete t.groupId),vi.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:e,groupId:n,time:Date.now(),meta:{},data:t||{},logType:"compile-error"===e?"error":"fallback"===e||"missing"===e?"warning":"default"}})}}function Si(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ni](t.pluralizationRules||e.pluralizationRules);const n=oi(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}function ki(e={}){const t=y();if(null==t)throw Jr(16);if(!t.appContext.app.__VUE_I18N_SYMBOL__)throw Jr(17);const n=o(t.appContext.app.__VUE_I18N_SYMBOL__);if(!n)throw Jr(22);const r="composition"===n.mode?n.global:n.global.__composer,i=bn(e)?"__i18n"in t.type?"local":"global":e.useScope?e.useScope:"local";if("global"===i){let n=Nn(e.messages)?e.messages:{};"__i18nGlobal"in t.type&&(n=oi(r.locale.value,{messages:n,__i18n:t.type.__i18nGlobal}));const i=Object.keys(n);if(i.length&&i.forEach((e=>{r.mergeLocaleMessage(e,n[e])})),Nn(e.datetimeFormats)){const t=Object.keys(e.datetimeFormats);t.length&&t.forEach((t=>{r.mergeDateTimeFormat(t,e.datetimeFormats[t])}))}if(Nn(e.numberFormats)){const t=Object.keys(e.numberFormats);t.length&&t.forEach((t=>{r.mergeNumberFormat(t,e.numberFormats[t])}))}return r}if("parent"===i){let e=function(e,t){let n=null;const r=t.root;let i=t.parent;for(;null!=i;){const t=e;if("composition"===e.mode)n=t.__getInstance(i);else{const e=t.__getInstance(i);null!=e&&(n=e.__composer)}if(null!=n)break;if(r===i)break;i=i.parent}return n}(n,t);return null==e&&(e=r),e}if("legacy"===n.mode)throw Jr(18);const a=n;let s=a.__getInstance(t);if(null==s){const n=t.type,i=wn({},e);n.__i18n&&(i.__i18n=n.__i18n),r&&(i.__root=r),s=li(i),function(e,t,n){let r=null;g((()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&t.vnode.el){t.vnode.el.__VUE_I18N__=n,r=Pn();const e=n;e[ei]&&e[ei](r),r.on("*",Ti)}}),t),m((()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&t.vnode.el&&t.vnode.el.__VUE_I18N__){r&&r.off("*",Ti);const e=n;e[ti]&&e[ti](),delete t.vnode.el.__VUE_I18N__}e.__deleteInstance(t)}),t)}(a,t,s),a.__setInstance(t,s)}return s}const xi=["locale","fallbackLocale","availableLocales"],Oi=["t","rt","d","n","tm"];var Ui;if(br=function(e,t={}){{const n=(t.onCacheKey||Ur)(e),r=Nr[n];if(r)return r;let i=!1;const o=t.onError||er;t.onError=e=>{i=!0,o(e)};const{code:a}=pr(e,t),s=new Function(`return ${a}`)();return i?s:Nr[n]=s}},"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(Cn().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(Cn().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __VUE_I18N_PROD_DEVTOOLS__&&(Cn().__VUE_I18N_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(Cn().__INTLIFY_PROD_DEVTOOLS__=!1),__INTLIFY_PROD_DEVTOOLS__){const e=Cn();e.__INTLIFY__=!0,Ui=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,mr=Ui}var Ni=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"dialogs-page":"弹窗","icons-page":"图标","nest-menu-page":"嵌套菜单","login-page":"登录","personal-info":"个人信息","show-editor-page":"带预览","editor-page":"富文本编辑器","charts-page":"统计图","ordinary-charts-page":"普通统计图","video-page":"视频播放器","user-page":"用户","404-page":"找不到网页","table-page":"表格","basic-component":"基础组件","external-link":"外链","vuepress-blog":"Vuepress Blog","vant-next":"Vant Next","vue-router":"Vue Router4 Api","element-plus":"Element Plus","vue3-api":"Vue3 Api","backen-admin":"Vite Backen Admin","upload-page":"文件上传","steps-page":"步骤页","component-page":"拖拽生成页","json-page":"Json编辑器","tree-page":"树","transfer-page":"穿梭框","object-page":"Object编辑器","array-page":"Array编辑器",logout:"退出登录"}});var Ii=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"iconfont vite-icon":"系统图标","vant-icon":"vant图标","el-icon":"element图标","change-language-success":"切换成功，当前语言为中文","zh-cn":"中文",en:"英语",id:"id",label:"内容",admin:"管理员",customer:"普通用户",username:"用户名",passwords:"密码",verify:"验证码","please.input.something":"请输入","please.select.something":"请选择",login:"登录",register:"注册","login.success":"登陆成功",welcome:"欢迎回来",close:"关闭","close-right":"关闭右侧","close-other":"关闭其他","remove component":"移除组件",modelValue:"绑定值",MobileFooter:"手机底部导航",MobileHeader:"手机顶部导航",MobileMenus:"手机菜单",ContextMenu:"右键菜单",Dialogs:"自定义弹窗",Editor:"富文本编辑器",HeadSearch:"顶部查询",Steps:"自定义步骤页",SvgIcon:"自定义Svg",Upload:"自定义上传",MaximizeButton:"最大化按钮",MinimizeButton:"最小化按钮",FullScreen:"全屏",I18nSwitch:"国际化",PersonInfo:"自定义个人信息",RightNav:"自定义顶部右侧导航",ImagePreview:"图片预览",SubMenus:"自定义子菜单",FilePreview:"自定义文件预览",UploadList:"自定义上传列表",ElAffix:"Element固钉",ElAside:"Element侧边栏",ElBacktop:"Element返回顶部",ElBadge:"Element标记",ElBreadcrumb:"Element面包屑",ElBreadcrumbItem:"Element面包屑项",ElButtonGroup:"Element按钮组",ElCalendar:"Element日历",ElCarousel:"Element走马灯",ElCarouselItem:"Element走马灯项",ElCascader:"Element级联选择器",ElCascaderPanel:"Element级联面板",ElCheckbox:"Element复选框",ElCheckboxButton:"Element复选按钮",ElCheckboxGroup:"Element复选组",ElCheckTag:"Element复选标签",ElCol:"Element列",ElCollapse:"Element折叠面板",ElCollapseItem:"Element折叠面板项",ElCollapseTransition:"Element折叠过渡",ElColorPicker:"Element颜色选择器",ElContainer:"Element容器",ElDatePicker:"Element日期选择器",ElDialog:"Element弹窗",ElDivider:"Element分割线",ElDrawer:"Element抽屉",ElDropdown:"Element下拉",ElDropdownItem:"Element下拉项",ElDropdownMenu:"Element下拉菜单",ElEmpty:"Element空描述",ElFooter:"Element底部",ElForm:"Element表单",ElFormItem:"Element表单项",ElHeader:"Element顶部",ElIcon:"Element图标",ElImage:"Element图片",ElImageViewer:"Element图片预览",ElInput:"Element输入框",ElInputNumber:"Element计数器",true:"是",false:"否",undefined:""}}),Fi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{domId:"统计图序号",height:"高度",width:"宽度",minWidth:"最小宽度",minHeight:"最小高度",options:"选项",Echarts:"统计图"}}),Li=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{title:"标题",description:"描述",closable:"显示关闭",closeText:"关闭文本",effect:"风格",showIcon:"显示图标",center:"居中",ElAlert:"Element警告"}}),Pi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{valueKey:"显示的键名",debounce:"去抖延时",placement:"弹出位置",popperClass:"弹出框样式类名",triggerOnFocus:"focus显示列表",selectWhenUnmatched:"无匹配显示下拉",hideLoading:"隐藏加载图标",popperAppendToBody:"下拉列表插入到body中",highlightFirstItem:"高亮第一项",fetchSuggestions:"获取建议项钩子",ElAutocomplete:"Element带输入建议"}}),Qi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{src:"链接",shape:"形状",size:"大小",ElAvatar:"Element头像"}}),Di=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{loading:"加载中",icon:"图标",nativeType:"原生类型",plain:"朴素",autofocus:"自动聚焦",round:"圆角",circle:"圆形",ElButton:"Element按钮"}}),Mi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{header:"卡片头",shadow:"阴影",bodyStyle:"内容样式",ElCard:"Element卡片"}}),Ri=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{action:"接口",multiple:"多选",name:"接口键",drag:"拖拽上传",showFileList:"显示文件列表",accept:"允许文件格式",type:"类型",autoUpload:"自动上传",listType:"列表类型",limit:"限制数量",filesize:"限制文件大小",draggable:"支持拖拽",withCredentials:"带cookie上传",disabled:"禁用",beforeUpload:"上传前钩子",beforeRemove:"删除前钩子",onRemove:"删除钩子",onChange:"状态改变钩子",onPreview:"预览钩子",onSuccess:"成功钩子",onProgress:"处理中钩子",onError:"错误钩子",fileList:"文件列表",httpRequest:"自定义上传钩子",onExceed:"超出钩子",ImageUpload:"图片上传",headers:"头部参数",data:"数据"}}),Hi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{String:"字符串",Number:"数字",Symbol:"Symbol",Boolean:"布尔值",Array:"数组",Object:"对象",Function:"函数",JsonEditor:"Json编辑器"}}),ji=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{fit:"适应类型",showHeader:"显示列头",selectOnIndeterminate:"选中所有行",indent:"树节点缩进",pagination:"分页",paginationAlign:"分页对齐方式",stripe:"斑马纹",border:"边框",showSummary:"显示合计行",highlightCurrentRow:"高亮当前行",defaultExpandAll:"默认展开全部",lazy:"树节点懒加载",treeProps:"树节点配置",columns:"列配置",Table:"带翻页的表格"}}),Ki=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{Transfer:"穿梭框",filterable:"可搜索",filterPlaceholder:"搜索框占位符",titles:"列表标题",buttonTexts:"按钮文案",targetOrder:"右侧排序策略",leftDefaultChecked:"左侧默认勾选",rightDefaultChecked:"右侧默认勾选",format:"格式文案",props:"字段别名",selectedKeys:"选中值"}}),Vi=Object.values({"./menu.ts":Ni,"./page.ts":Ii,"./components/chart.ts":Fi,"./components/el-alert.ts":Li,"./components/el-autocomplete.ts":Pi,"./components/el-avatar.ts":Qi,"./components/el-button.ts":Di,"./components/el-card.ts":Mi,"./components/imageupload.ts":Ri,"./components/jsoneditor.ts":Hi,"./components/table.ts":ji,"./components/transfer.ts":Ki}).reduce(((t,{default:n})=>e(e({},t),n)),{});var zi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"dialogs-page":"Dialogs","icons-page":"Icons","nest-menu-page":"NestMenu","login-page":"Login","personal-info":"Person Info","editor-page":"Editor","show-editor-page":"With Preview","charts-page":"Charts","ordinary-charts-page":"Ordinary Charts","video-page":"Video Player","user-page":"User","404-page":"404 NotFound","table-page":"Table","basic-component":"Basic Component","external-link":"External Links","vuepress-blog":"Vuepress Blog","vant-next":"Vant Next","element-plus":"Element Plus","vue3-api":"Vue3 Api","vue-router":"Vue Router4 Api","backen-admin":"Vite Backen Admin","upload-page":"Upload","steps-page":"Steps","component-page":"Components","json-page":"Json Editor","object-page":"Object Editor","array-page":"Array Editor","tree-page":"Tree","transfer-page":"Transfer",logout:"Logout"}});var qi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"vant-icon":"vant icon","iconfont vite-icon":"vite icon","el-icon":"element icon","change-language-success":"change successfully. Now the language is English","zh-cn":"Chinese",admin:"Admin",customer:"Customer",en:"English",id:"ID",label:"Label",username:"username",passwords:"password",verify:"captcha","please.input.something":"please input ","please.select.something":"please select ",login:"Login",register:"Register","login.success":"Login successfully",welcome:"welcome to you",close:"Close","close-right":"Close right","close-other":"Close other","remove component":"Remove Component",true:"yes",false:"no",undefined:""}}),Wi=Object.values({"./menu.ts":zi,"./page.ts":qi}).reduce(((t,{default:n})=>e(e({},t),n)),{}),Gi={name:"zh-cn",el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}};const Xi={[_.name]:e({el:_.el},Wi),[Gi.name]:e({el:Gi.el},Vi)},Ji=function(e={}){const t=__VUE_I18N_LEGACY_API__&&Un(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!!e.globalInjection,r=new Map,i=__VUE_I18N_LEGACY_API__&&t?ui(e):li(e),o=gn(""),a={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(e,...r){if(__VUE_I18N_PROD_DEVTOOLS__&&(e.__VUE_I18N__=a),e.__VUE_I18N_SYMBOL__=o,e.provide(e.__VUE_I18N_SYMBOL__,a),!t&&n&&function(e,t){const n=Object.create(null);xi.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw Jr(22);const i=v(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,Oi.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw Jr(22);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}))}(e,a.global),__VUE_I18N_FULL_INSTALL__&&function(e,t,...n){const r=Ln(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!Un(r.globalInstall)||r.globalInstall)&&(e.component(i?"i18n":di.name,di),e.component(fi.name,fi),e.component(gi.name,gi)),e.directive("t",mi(t))}(e,a,...r),__VUE_I18N_LEGACY_API__&&t&&e.mixin(function(e,t,n){return{beforeCreate(){const r=y();if(!r)throw Jr(22);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=t,this===this.$root?this.$i18n=Si(e,n):this.$i18n=ui(n)}else i.__i18n?this===this.$root?this.$i18n=Si(e,i):this.$i18n=ui({__i18n:i.__i18n,__root:t}):this.$i18n=e;e.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){if(__VUE_I18N_PROD_DEVTOOLS__){this.$el.__VUE_I18N__=this.$i18n.__composer;const e=this.__v_emitter=Pn(),t=this.$i18n;t.__enableEmitter&&t.__enableEmitter(e),e.on("*",Ti)}},beforeUnmount(){const e=y();if(!e)throw Jr(22);if(__VUE_I18N_PROD_DEVTOOLS__){this.__v_emitter&&(this.__v_emitter.off("*",Ti),delete this.__v_emitter);const e=this.$i18n;e.__disableEmitter&&e.__disableEmitter(),delete this.$el.__VUE_I18N__}delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(e),delete this.$i18n}}}(i,i.__composer,a)),__VUE_I18N_PROD_DEVTOOLS__){if(!(await yi(e,a)))throw Jr(21);const n=Pn();if(t){const e=i;e.__enableEmitter&&e.__enableEmitter(n)}else{const e=i;e[ei]&&e[ei](n)}n.on("*",Ti)}},get global(){return i},__instances:r,__getInstance:e=>r.get(e)||null,__setInstance(e,t){r.set(e,t)},__deleteInstance(e){r.delete(e)}};return a}({legacy:!1,locale:Gi.name,fallbackLocale:_.name,messages:Xi,silentTranslationWarn:!1}),{t:Yi}=Ji.global;const $i=s({name:"Menus",componentName:"ManageMenus",__file:"@PC/Menus",components:{SubMenus:hn},setup(e){const t=jt(),n=r((()=>t.state.permission.routes)),i=Rt(),o=i.currentRoute,a=c(rn(n.value[0].redirect)?n.value[0].redirect:n.value[0].path);d((()=>o.value.path),(()=>{a.value=o.value.path}),{immediate:!0});const s=e=>{["http","//"].some((t=>e.startsWith(t)))?location.href=e:i.replace(e)};return()=>{let e;return h(f("el-menu"),{defaultActive:a.value,onSelect:s,"unique-opened":!0,collapse:t.state.menus.collapse},"function"==typeof(r=e=n.value.map(((e,t)=>Array.isArray(e.children)&&e.children.length?h(f("sub-menus"),{key:e.redirect||e.path||t,route:e,t:Yi},null):!e.hidden&&h(f("el-menu-item"),{key:e.path||t,index:e.path},{default:()=>e.meta&&rn(e.meta.icon)&&h("i",{class:e.meta.icon},null),title:()=>e.meta&&rn(e.meta.title)&&Yi(e.meta.title)}))))||"[object Object]"===Object.prototype.toString.call(r)&&!w(r)?e:{default:()=>[e]});var r}}});var Zi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$i}),eo=C(B((function(e,t){var n;window,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/index.js":function(e,t,n){n.r(t),n("./src/sass/index.scss");var r=n("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=r),t.default=r},"./src/js/browser.js":function(e,t,n){n.r(t);var r={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!e.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t.default=r},"./src/js/functions.js":function(e,t,n){n.r(t),n.d(t,"addWrapper",(function(){return a})),n.d(t,"capitalizePrint",(function(){return s})),n.d(t,"collectStyles",(function(){return l})),n.d(t,"addHeader",(function(){return c})),n.d(t,"cleanUp",(function(){return d})),n.d(t,"isRawHTML",(function(){return A}));var r=n("./src/js/modal.js"),i=n("./src/js/browser.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return'<div style="font-family:'+t.font+" !important; font-size: "+t.font_size+' !important; width:100%;">'+e+"</div>"}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,t){for(var n="",r=(document.defaultView||window).getComputedStyle(e,""),i=0;i<r.length;i++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(r[i])||u(t.targetStyles,r[i]))&&r.getPropertyValue(r[i])&&(n+=r[i]+":"+r.getPropertyValue(r[i])+";");return n+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}function u(e,t){for(var n=0;n<e.length;n++)if("object"===o(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function c(e,t){var n=document.createElement("div");if(A(t.header))n.innerHTML=t.header;else{var r=document.createElement("h1"),i=document.createTextNode(t.header);r.appendChild(i),r.setAttribute("style",t.headerStyle),n.appendChild(r)}e.insertBefore(n,e.childNodes[0])}function d(e){e.showModal&&r.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(i.default.isChrome()||i.default.isFirefox())&&(t="focus"),window.addEventListener(t,(function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var r=document.getElementById(e.frameId);r&&r.remove()}))}function A(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}},"./src/js/html.js":function(e,t,n){n.r(t);var r=n("./src/js/functions.js"),i=n("./src/js/print.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=e.cloneNode(),i=Array.prototype.slice.call(e.childNodes),o=0;o<i.length;o++)if(-1===t.ignoreElements.indexOf(i[o].id)){var s=a(i[o],t);n.appendChild(s)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",Object(r.collectStyles)(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0)}return n}t.default={print:function(e,t){var n,s="object"===o(n=e.printable)&&n&&(n instanceof HTMLElement||1===n.nodeType)?e.printable:document.getElementById(e.printable);s?(e.printableElement=a(s,e),e.header&&Object(r.addHeader)(e.printableElement,e),i.default.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":function(e,t,n){n.r(t);var r=n("./src/js/functions.js"),i=n("./src/js/print.js"),o=n("./src/js/browser.js");t.default={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,o.default.isFirefox()){var r=n.src;n.src=r}var i=document.createElement("div");i.appendChild(n),e.printableElement.appendChild(i)})),e.header&&Object(r.addHeader)(e.printableElement,e),i.default.send(e,t)}}},"./src/js/init.js":function(e,t,n){n.r(t);var r=n("./src/js/browser.js"),i=n("./src/js/modal.js"),o=n("./src/js/pdf.js"),a=n("./src/js/html.js"),s=n("./src/js/raw-html.js"),l=n("./src/js/image.js"),u=n("./src/js/json.js");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["pdf","html","image","json","raw-html"];t.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(c(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable=void 0!==t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]=void 0!==t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+c(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!=typeof e.type||-1===d.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&i.default.show(e),e.onLoadingStart&&e.onLoadingStart();var A=document.getElementById(e.frameId);A&&A.parentNode.removeChild(A);var h=document.createElement("iframe");switch(r.default.isFirefox()?h.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):h.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),h.setAttribute("id",e.frameId),"pdf"!==e.type&&(h.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){h.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),h.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var f=window.open(e.fallbackPrintable,"_blank");f.focus(),e.onIncompatibleBrowser()}catch(p){e.onError(p)}finally{e.showModal&&i.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else o.default.print(e,h);break;case"image":l.default.print(e,h);break;case"html":a.default.print(e,h);break;case"raw-html":s.default.print(e,h);break;case"json":u.default.print(e,h)}}}},"./src/js/json.js":function(e,t,n){n.r(t);var r=n("./src/js/functions.js"),i=n("./src/js/print.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default={print:function(e,t){if("object"!==o(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===o(t)?t.field:t,displayName:"object"===o(t)?t.displayName:t,columnSize:"object"===o(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&Object(r.addHeader)(e.printableElement,e),e.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,i='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var o=0;o<n.length;o++)i+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+Object(r.capitalizePrint)(n[o].displayName)+"</th>";i+="</tr>",e.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var a=0;a<t.length;a++){i+="<tr>";for(var s=0;s<n.length;s++){var l=t[a],u=n[s].field.split(".");if(u.length>1)for(var c=0;c<u.length;c++)l=l[u[c]];else l=l[n[s].field];i+='<td style="width:'+n[s].columnSize+e.gridStyle+'">'+l+"</td>"}i+="</tr>"}return i+="</tbody></table>"}(e),i.default.send(e,t)}}},"./src/js/modal.js":function(e,t,n){n.r(t);var r={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var i=document.createElement("div");i.setAttribute("class","printClose"),i.setAttribute("id","printClose"),n.appendChild(i);var o=document.createElement("span");o.setAttribute("class","printSpinner"),n.appendChild(o);var a=document.createTextNode(e.modalMessage);n.appendChild(a),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",(function(){r.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t.default=r},"./src/js/pdf.js":function(e,t,n){n.r(t);var r=n("./src/js/print.js"),i=n("./src/js/functions.js");function o(e,t,n){var i=new window.Blob([n],{type:"application/pdf"});i=window.URL.createObjectURL(i),t.setAttribute("src",i),r.default.send(e,t)}t.default={print:function(e,t){if(e.base64){var n=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));o(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("error",(function(){Object(i.cleanUp)(e),e.onError(r.statusText,r)})),r.addEventListener("load",(function(){if(-1===[200,201].indexOf(r.status))return Object(i.cleanUp)(e),void e.onError(r.statusText,r);o(e,t,r.response)})),r.open("GET",e.printable,!0),r.send()}}}},"./src/js/print.js":function(e,t,n){n.r(t);var r=n("./src/js/browser.js"),i=n("./src/js/functions.js"),o={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var i=document.createElement("style");i.innerHTML=e.style,t.head.appendChild(i)}var o=t.getElementsByTagName("img");o.length>0?function(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return function(e){return new Promise((function(t){!function n(){e&&void 0!==e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)}()}))}(e)}));return Promise.all(t)}(Array.from(o)).then((function(){return a(n,e)})):a(n,e)}else r.default.isFirefox()?setTimeout((function(){return a(n,e)}),1e3):a(n,e)}}};function a(e,t){try{if(e.focus(),r.default.isEdge()||r.default.isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(n){e.contentWindow.print()}else e.contentWindow.print()}catch(o){t.onError(o)}finally{r.default.isFirefox()&&(e.style.visibility="hidden",e.style.left="-1px"),Object(i.cleanUp)(t)}}t.default=o},"./src/js/raw-html.js":function(e,t,n){n.r(t);var r=n("./src/js/print.js");t.default={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,r.default.send(e,t)}}},"./src/sass/index.scss":function(e,t,n){},0:function(e,t,n){e.exports=n("./src/index.js")}}).default},e.exports=n()}))),to=function(e,t){return(to=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function no(e,t){function n(){this.constructor=e}to(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ro=function(){return(ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function io(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function oo(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}for(var ao=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t){return new e(t.left,t.top,t.width,t.height)},e}(),so=function(e){return ao.fromClientRect(e.getBoundingClientRect())},lo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},uo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var a=e[i];a<=65535?r.push(a):(a-=65536,r.push(55296+(a>>10),a%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ao="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ho=0;ho<co.length;ho++)Ao[co.charCodeAt(ho)]=ho;var fo,po,go,mo,vo,yo,bo,_o,wo,Bo,Co=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Eo=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),To=10,So=13,ko=15,xo=17,Oo=18,Uo=19,No=20,Io=21,Fo=22,Lo=24,Po=25,Qo=26,Do=27,Mo=28,Ro=30,Ho=32,jo=33,Ko=34,Vo=35,zo=37,qo=38,Wo=39,Go=40,Xo=42,Jo=(mo=function(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(a):new Array(a),c=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<s;t+=4)n=Ao[e.charCodeAt(t)],r=Ao[e.charCodeAt(t+1)],i=Ao[e.charCodeAt(t+2)],o=Ao[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|i>>2,c[l++]=(3&i)<<6|63&o;return u}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),vo=Array.isArray(mo)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(mo):new Uint32Array(mo),yo=Array.isArray(mo)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(mo):new Uint16Array(mo),bo=Co(yo,12,vo[4]/2),_o=2===vo[5]?Co(yo,(24+vo[4])/2):(fo=vo,po=Math.ceil((24+vo[4])/4),fo.slice?fo.slice(po,go):new Uint32Array(Array.prototype.slice.call(fo,po,go))),new Eo(vo[0],vo[1],vo[2],vo[3],bo,_o)),Yo=[Ro,36],$o=[1,2,3,5],Zo=[To,8],ea=[Do,Qo],ta=$o.concat(Zo),na=[qo,Wo,Go,Ko,Vo],ra=[ko,So],ia=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((l=r[++o])===t)return!0;if(l!==To)break}if(i===To)for(o=n;o>0;){var a=r[--o];if(Array.isArray(e)?-1!==e.indexOf(a):e===a)for(var s=n;s<=r.length;){var l;if((l=r[++s])===t)return!0;if(l!==To)break}if(a!==To)break}return!1},oa=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==To)return r;n--}return 0},aa=function(e,t,n,r,i){if(0===n[r])return"×";var o=r-1;if(Array.isArray(i)&&!0===i[o])return"×";var a=o-1,s=o+1,l=t[o],u=a>=0?t[a]:0,c=t[s];if(2===l&&3===c)return"×";if(-1!==$o.indexOf(l))return"!";if(-1!==$o.indexOf(c))return"×";if(-1!==Zo.indexOf(c))return"×";if(8===oa(o,t))return"÷";if(11===Jo.get(e[o])&&(c===zo||c===Ho||c===jo))return"×";if(7===l||7===c)return"×";if(9===l)return"×";if(-1===[To,So,ko].indexOf(l)&&9===c)return"×";if(-1!==[xo,Oo,Uo,Lo,Mo].indexOf(c))return"×";if(oa(o,t)===Fo)return"×";if(ia(23,Fo,o,t))return"×";if(ia([xo,Oo],Io,o,t))return"×";if(ia(12,12,o,t))return"×";if(l===To)return"÷";if(23===l||23===c)return"×";if(16===c||16===l)return"÷";if(-1!==[So,ko,Io].indexOf(c)||14===l)return"×";if(36===u&&-1!==ra.indexOf(l))return"×";if(l===Mo&&36===c)return"×";if(c===No&&-1!==Yo.concat(No,Uo,Po,zo,Ho,jo).indexOf(l))return"×";if(-1!==Yo.indexOf(c)&&l===Po||-1!==Yo.indexOf(l)&&c===Po)return"×";if(l===Do&&-1!==[zo,Ho,jo].indexOf(c)||-1!==[zo,Ho,jo].indexOf(l)&&c===Qo)return"×";if(-1!==Yo.indexOf(l)&&-1!==ea.indexOf(c)||-1!==ea.indexOf(l)&&-1!==Yo.indexOf(c))return"×";if(-1!==[Do,Qo].indexOf(l)&&(c===Po||-1!==[Fo,ko].indexOf(c)&&t[s+1]===Po)||-1!==[Fo,ko].indexOf(l)&&c===Po||l===Po&&-1!==[Po,Mo,Lo].indexOf(c))return"×";if(-1!==[Po,Mo,Lo,xo,Oo].indexOf(c))for(var d=o;d>=0;){if((A=t[d])===Po)return"×";if(-1===[Mo,Lo].indexOf(A))break;d--}if(-1!==[Do,Qo].indexOf(c))for(d=-1!==[xo,Oo].indexOf(l)?a:o;d>=0;){var A;if((A=t[d])===Po)return"×";if(-1===[Mo,Lo].indexOf(A))break;d--}if(qo===l&&-1!==[qo,Wo,Ko,Vo].indexOf(c)||-1!==[Wo,Ko].indexOf(l)&&-1!==[Wo,Go].indexOf(c)||-1!==[Go,Vo].indexOf(l)&&c===Go)return"×";if(-1!==na.indexOf(l)&&-1!==[No,Qo].indexOf(c)||-1!==na.indexOf(c)&&l===Do)return"×";if(-1!==Yo.indexOf(l)&&-1!==Yo.indexOf(c))return"×";if(l===Lo&&-1!==Yo.indexOf(c))return"×";if(-1!==Yo.concat(Po).indexOf(l)&&c===Fo||-1!==Yo.concat(Po).indexOf(c)&&l===Oo)return"×";if(41===l&&41===c){for(var h=n[o],f=1;h>0&&41===t[--h];)f++;if(f%2!=0)return"×"}return l===Ho&&c===jo?"×":"÷"},sa=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var a=Jo.get(e);if(a>50?(i.push(!0),a-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(Ro);var s=n[o-1];return-1===ta.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(Ro))}return r.push(o),31===a?n.push("strict"===t?Io:zo):a===Xo||29===a?n.push(Ro):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(zo):n.push(Ro):void n.push(a)})),[r,n,i]}(e,t.lineBreak),r=n[0],i=n[1],o=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[Po,Ro,Xo].indexOf(e)?zo:e}))),[r,i,"keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0]},la=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return uo.apply(void 0,this.codePoints.slice(this.start,this.end))},e}();(Bo=wo||(wo={}))[Bo.STRING_TOKEN=0]="STRING_TOKEN",Bo[Bo.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",Bo[Bo.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",Bo[Bo.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",Bo[Bo.COMMA_TOKEN=4]="COMMA_TOKEN",Bo[Bo.HASH_TOKEN=5]="HASH_TOKEN",Bo[Bo.DELIM_TOKEN=6]="DELIM_TOKEN",Bo[Bo.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",Bo[Bo.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",Bo[Bo.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",Bo[Bo.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",Bo[Bo.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",Bo[Bo.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",Bo[Bo.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",Bo[Bo.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",Bo[Bo.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",Bo[Bo.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",Bo[Bo.NUMBER_TOKEN=17]="NUMBER_TOKEN",Bo[Bo.FUNCTION=18]="FUNCTION",Bo[Bo.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",Bo[Bo.IDENT_TOKEN=20]="IDENT_TOKEN",Bo[Bo.COLUMN_TOKEN=21]="COLUMN_TOKEN",Bo[Bo.URL_TOKEN=22]="URL_TOKEN",Bo[Bo.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",Bo[Bo.CDC_TOKEN=24]="CDC_TOKEN",Bo[Bo.CDO_TOKEN=25]="CDO_TOKEN",Bo[Bo.COLON_TOKEN=26]="COLON_TOKEN",Bo[Bo.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",Bo[Bo.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",Bo[Bo.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",Bo[Bo.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",Bo[Bo.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",Bo[Bo.EOF_TOKEN=32]="EOF_TOKEN";var ua=function(e){return e>=48&&e<=57},ca=function(e){return ua(e)||e>=65&&e<=70||e>=97&&e<=102},da=function(e){return 10===e||9===e||32===e},Aa=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},ha=function(e){return Aa(e)||ua(e)||45===e},fa=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},pa=function(e,t){return 92===e&&10!==t},ga=function(e,t,n){return 45===e?Aa(t)||pa(t,n):!!Aa(e)||!(92!==e||!pa(e,t))},ma=function(e,t,n){return 43===e||45===e?!!ua(t)||46===t&&ua(n):ua(46===e?t:e)},va=function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var r=[];ua(e[t]);)r.push(e[t++]);var i=r.length?parseInt(uo.apply(void 0,r),10):0;46===e[t]&&t++;for(var o=[];ua(e[t]);)o.push(e[t++]);var a=o.length,s=a?parseInt(uo.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var l=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(l=-1),t++);for(var u=[];ua(e[t]);)u.push(e[t++]);var c=u.length?parseInt(uo.apply(void 0,u),10):0;return n*(i+s*Math.pow(10,-a))*Math.pow(10,l*c)},ya={type:wo.LEFT_PARENTHESIS_TOKEN},ba={type:wo.RIGHT_PARENTHESIS_TOKEN},_a={type:wo.COMMA_TOKEN},wa={type:wo.SUFFIX_MATCH_TOKEN},Ba={type:wo.PREFIX_MATCH_TOKEN},Ca={type:wo.COLUMN_TOKEN},Ea={type:wo.DASH_MATCH_TOKEN},Ta={type:wo.INCLUDE_MATCH_TOKEN},Sa={type:wo.LEFT_CURLY_BRACKET_TOKEN},ka={type:wo.RIGHT_CURLY_BRACKET_TOKEN},xa={type:wo.SUBSTRING_MATCH_TOKEN},Oa={type:wo.BAD_URL_TOKEN},Ua={type:wo.BAD_STRING_TOKEN},Na={type:wo.CDO_TOKEN},Ia={type:wo.CDC_TOKEN},Fa={type:wo.COLON_TOKEN},La={type:wo.SEMICOLON_TOKEN},Pa={type:wo.LEFT_SQUARE_BRACKET_TOKEN},Qa={type:wo.RIGHT_SQUARE_BRACKET_TOKEN},Da={type:wo.WHITESPACE_TOKEN},Ma={type:wo.EOF_TOKEN},Ra=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(lo(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Ma;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ha(t)||pa(n,r)){var i=ga(t,n,r)?2:1,o=this.consumeName();return{type:wo.HASH_TOKEN,value:o,flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),wa;break;case 39:return this.consumeStringToken(39);case 40:return ya;case 41:return ba;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),xa;break;case 43:if(ma(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return _a;case 45:var a=e,s=this.peekCodePoint(0),l=this.peekCodePoint(1);if(ma(a,s,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ga(a,s,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===s&&62===l)return this.consumeCodePoint(),this.consumeCodePoint(),Ia;break;case 46:if(ma(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return Fa;case 59:return La;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Na;break;case 64:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),A=this.peekCodePoint(2);if(ga(c,d,A)){o=this.consumeName();return{type:wo.AT_KEYWORD_TOKEN,value:o}}break;case 91:return Pa;case 92:if(pa(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Qa;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ba;break;case 123:return Sa;case 125:return ka;case 117:case 85:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return 43!==h||!ca(f)&&63!==f||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ea;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Ca;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ta;break;case-1:return Ma}return da(e)?(this.consumeWhiteSpace(),Da):ua(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Aa(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:wo.DELIM_TOKEN,value:uo(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ca(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(uo.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),i=parseInt(uo.apply(void 0,e.map((function(e){return 63===e?70:e}))),16);return{type:wo.UNICODE_RANGE_TOKEN,start:r,end:i}}var o=parseInt(uo.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&ca(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];ca(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();i=parseInt(uo.apply(void 0,a),16);return{type:wo.UNICODE_RANGE_TOKEN,start:o,end:i}}return{type:wo.UNICODE_RANGE_TOKEN,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:wo.FUNCTION_TOKEN,value:e}):{type:wo.IDENT_TOKEN,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:wo.URL_TOKEN,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===wo.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:wo.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),Oa)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:wo.URL_TOKEN,value:uo.apply(void 0,e)};if(da(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:wo.URL_TOKEN,value:uo.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Oa);if(34===r||39===r||40===r||fa(r))return this.consumeBadUrlRemnants(),Oa;if(92===r){if(!pa(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Oa;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;da(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;pa(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(6e4,e);t+=uo.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:wo.STRING_TOKEN,value:t};if(10===r)return this._value.splice(0,n),Ua;if(92===r){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):pa(r,i)&&(t+=this.consumeStringSlice(n),t+=uo(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&ua(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&ua(i)||ua(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ua(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[va(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ga(r,i,o)){var a=this.consumeName();return{type:wo.DIMENSION_TOKEN,number:t,flags:n,unit:a}}return 37===r?(this.consumeCodePoint(),{type:wo.PERCENTAGE_TOKEN,number:t,flags:n}):{type:wo.NUMBER_TOKEN,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ca(e)){for(var t=uo(e);ca(this.peekCodePoint(0))&&t.length<6;)t+=uo(this.consumeCodePoint());da(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||function(e){return e>=55296&&e<=57343}(n)||n>1114111?65533:n}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ha(t))e+=uo(t);else{if(!pa(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=uo(this.consumeEscapedCodePoint())}}},e}(),Ha=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Ra;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===wo.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===wo.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(e.type===wo.WHITESPACE_TOKEN);if(e.type===wo.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===wo.EOF_TOKEN)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case wo.LEFT_CURLY_BRACKET_TOKEN:case wo.LEFT_SQUARE_BRACKET_TOKEN:case wo.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case wo.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===wo.EOF_TOKEN||Ja(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:wo.FUNCTION};;){var n=this.consumeToken();if(n.type===wo.EOF_TOKEN||n.type===wo.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Ma:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),ja=function(e){return e.type===wo.DIMENSION_TOKEN},Ka=function(e){return e.type===wo.NUMBER_TOKEN},Va=function(e){return e.type===wo.IDENT_TOKEN},za=function(e){return e.type===wo.STRING_TOKEN},qa=function(e,t){return Va(e)&&e.value===t},Wa=function(e){return e.type!==wo.WHITESPACE_TOKEN},Ga=function(e){return e.type!==wo.WHITESPACE_TOKEN&&e.type!==wo.COMMA_TOKEN},Xa=function(e){var t=[],n=[];return e.forEach((function(e){if(e.type===wo.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==wo.WHITESPACE_TOKEN&&n.push(e)})),n.length&&t.push(n),t},Ja=function(e,t){return t===wo.LEFT_CURLY_BRACKET_TOKEN&&e.type===wo.RIGHT_CURLY_BRACKET_TOKEN||(t===wo.LEFT_SQUARE_BRACKET_TOKEN&&e.type===wo.RIGHT_SQUARE_BRACKET_TOKEN||t===wo.LEFT_PARENTHESIS_TOKEN&&e.type===wo.RIGHT_PARENTHESIS_TOKEN)},Ya=function(e){return e.type===wo.NUMBER_TOKEN||e.type===wo.DIMENSION_TOKEN},$a=function(e){return e.type===wo.PERCENTAGE_TOKEN||Ya(e)},Za=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},es={type:wo.NUMBER_TOKEN,number:0,flags:4},ts={type:wo.PERCENTAGE_TOKEN,number:50,flags:4},ns={type:wo.PERCENTAGE_TOKEN,number:100,flags:4},rs=function(e,t,n){var r=e[0],i=e[1];return[is(r,t),is(void 0!==i?i:r,n)]},is=function(e,t){if(e.type===wo.PERCENTAGE_TOKEN)return e.number/100*t;if(ja(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},os=function(e){if(e.type===wo.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},as=function(e){return e.type===wo.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},ss=function(e){switch(e.filter(Va).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[es,es];case"to top":case"bottom":return ls(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[es,ns];case"to right":case"left":return ls(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ns,ns];case"to bottom":case"top":return ls(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ns,es];case"to left":case"right":return ls(270)}return 0},ls=function(e){return Math.PI*e/180},us=function(e){if(e.type===wo.FUNCTION){var t=_s[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===wo.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);return As(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===e.value.length){n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);var o=e.value.substring(3,4);return As(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length){n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6);return As(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===e.value.length){n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return As(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===wo.IDENT_TOKEN){var a=ws[e.value.toUpperCase()];if(void 0!==a)return a}return ws.TRANSPARENT},cs=function(e){return 0==(255&e)},ds=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},As=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},hs=function(e,t){if(e.type===wo.NUMBER_TOKEN)return e.number;if(e.type===wo.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},fs=function(e){var t=e.filter(Ga);if(3===t.length){var n=t.map(hs),r=n[0],i=n[1],o=n[2];return As(r,i,o,1)}if(4===t.length){var a=t.map(hs),s=(r=a[0],i=a[1],o=a[2],a[3]);return As(r,i,o,s)}return 0};function ps(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var gs,ms,vs,ys,bs=function(e){var t=e.filter(Ga),n=t[0],r=t[1],i=t[2],o=t[3],a=(n.type===wo.NUMBER_TOKEN?ls(n.number):os(n))/(2*Math.PI),s=$a(r)?r.number/100:0,l=$a(i)?i.number/100:0,u=void 0!==o&&$a(o)?is(o,1):1;if(0===s)return As(255*l,255*l,255*l,1);var c=l<=.5?l*(s+1):l+s-l*s,d=2*l-c,A=ps(d,c,a+1/3),h=ps(d,c,a),f=ps(d,c,a-1/3);return As(255*A,255*h,255*f,u)},_s={hsl:bs,hsla:bs,rgb:fs,rgba:fs},ws={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(ms=gs||(gs={}))[ms.VALUE=0]="VALUE",ms[ms.LIST=1]="LIST",ms[ms.IDENT_VALUE=2]="IDENT_VALUE",ms[ms.TYPE_VALUE=3]="TYPE_VALUE",ms[ms.TOKEN_VALUE=4]="TOKEN_VALUE",(ys=vs||(vs={}))[ys.BORDER_BOX=0]="BORDER_BOX",ys[ys.PADDING_BOX=1]="PADDING_BOX",ys[ys.CONTENT_BOX=2]="CONTENT_BOX";var Bs,Cs,Es={name:"background-clip",initialValue:"border-box",prefix:!1,type:gs.LIST,parse:function(e){return e.map((function(e){if(Va(e))switch(e.value){case"padding-box":return vs.PADDING_BOX;case"content-box":return vs.CONTENT_BOX}return vs.BORDER_BOX}))}},Ts={name:"background-color",initialValue:"transparent",prefix:!1,type:gs.TYPE_VALUE,format:"color"},Ss=function(e){var t=us(e[0]),n=e[1];return n&&$a(n)?{color:t,stop:n}:{color:t,stop:null}},ks=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=es),null===r.stop&&(r.stop=ns);for(var i=[],o=0,a=0;a<e.length;a++){var s=e[a].stop;if(null!==s){var l=is(s,t);l>o?i.push(l):i.push(o),o=l}else i.push(null)}var u=null;for(a=0;a<i.length;a++){var c=i[a];if(null===c)null===u&&(u=a);else if(null!==u){for(var d=a-u,A=(c-i[u-1])/(d+1),h=1;h<=d;h++)i[u+h-1]=A*h;u=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},xs=function(e,t,n){var r="number"==typeof e?e:function(e,t,n){var r=t/2,i=n/2,o=is(e[0],t)-r,a=i-is(e[1],n);return(Math.atan2(a,o)+2*Math.PI)%(2*Math.PI)}(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,a=n/2,s=i/2,l=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[i,o-u,o+u,a-l,a+l]},Os=function(e,t){return Math.sqrt(e*e+t*t)},Us=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],a=t[1],s=Os(n-o,r-a);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Ns=function(e){var t=ls(180),n=[];return Xa(e).forEach((function(e,r){if(0===r){var i=e[0];if(i.type===wo.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(t=ss(e));if(as(i))return void(t=(os(i)+ls(270))%ls(360))}var o=Ss(e);n.push(o)})),{angle:t,stops:n,type:Bs.LINEAR_GRADIENT}},Is=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Fs=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},Ls=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ps={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(Ps,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(i){return!1}return!0}(document);return Object.defineProperty(Ps,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var a=Fs(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ls(a).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height="100px",Is(i)?Ls(Fs(n,n,0,0,a)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),Is(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Ps,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ps,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ps,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ps,"SUPPORT_CORS_XHR",{value:e}),e}},Qs=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.create=function(t){e.instances[t.id]=new e(t)},e.destroy=function(t){delete e.instances[t]},e.getInstance=function(t){var n=e.instances[t];if(void 0===n)throw new Error("No logger instance found with id "+t);return n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},e.instances={},e}(),Ds=function(){function e(){}return e.create=function(t,n){return e._caches[t]=new Ms(t,n)},e.destroy=function(t){delete e._caches[t]},e.open=function(t){var n=e._caches[t];if(void 0!==n)return n;throw new Error('Cache with key "'+t+'" not found')},e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e.getInstance=function(){var t=e._current;if(null===t)throw new Error("No cache instance attached");return t},e.attachInstance=function(t){e._current=t},e.detachInstance=function(){e._current=null},e._caches={},e._origin="about:blank",e._current=null,e}(),Ms=function(){function e(e,t){this.id=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:qs(e)||Ks(e)?(this._cache[e]=this.loadImage(e),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return io(this,void 0,void 0,(function(){var t,n,r,i,o=this;return oo(this,(function(a){switch(a.label){case 0:return t=Ds.isSameOrigin(e),n=!Vs(e)&&!0===this._options.useCORS&&Ps.SUPPORT_CORS_IMAGES&&!t,r=!Vs(e)&&!t&&"string"==typeof this._options.proxy&&Ps.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Vs(e)||r||n?(i=e,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=a.sent(),a.label=2;case 2:return Qs.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(zs(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return e(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,a.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var a=Ps.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;if(s.onload=function(){if(200===s.status)if("text"===a)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(s.response)}else o("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=o,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+r)}}s.send()}))},e}(),Rs=/^data:image\/svg\+xml/i,Hs=/^data:image\/.*;base64,/i,js=/^data:image\/.*/i,Ks=function(e){return Ps.SUPPORT_SVG_DRAWING||!Ws(e)},Vs=function(e){return js.test(e)},zs=function(e){return Hs.test(e)},qs=function(e){return"blob"===e.substr(0,4)},Ws=function(e){return"svg"===e.substr(-3).toLowerCase()||Rs.test(e)},Gs=function(e){var t=Xs.CIRCLE,n=Ys.FARTHEST_CORNER,r=[],i=[];return Xa(e).forEach((function(e,o){var a=!0;if(0===o?a=e.reduce((function(e,t){if(Va(t))switch(t.value){case"center":return i.push(ts),!1;case"top":case"left":return i.push(es),!1;case"right":case"bottom":return i.push(ns),!1}else if($a(t)||Ya(t))return i.push(t),!1;return e}),a):1===o&&(a=e.reduce((function(e,r){if(Va(r))switch(r.value){case"circle":return t=Xs.CIRCLE,!1;case"ellipse":return t=Xs.ELLIPSE,!1;case"contain":case"closest-side":return n=Ys.CLOSEST_SIDE,!1;case"farthest-side":return n=Ys.FARTHEST_SIDE,!1;case"closest-corner":return n=Ys.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return n=Ys.FARTHEST_CORNER,!1}else if(Ya(r)||$a(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e}),a)),a){var s=Ss(e);r.push(s)}})),{size:n,shape:t,stops:r,position:i,type:Bs.RADIAL_GRADIENT}};(Cs=Bs||(Bs={}))[Cs.URL=0]="URL",Cs[Cs.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",Cs[Cs.RADIAL_GRADIENT=2]="RADIAL_GRADIENT";var Xs,Js,Ys,$s;(Js=Xs||(Xs={}))[Js.CIRCLE=0]="CIRCLE",Js[Js.ELLIPSE=1]="ELLIPSE",($s=Ys||(Ys={}))[$s.CLOSEST_SIDE=0]="CLOSEST_SIDE",$s[$s.FARTHEST_SIDE=1]="FARTHEST_SIDE",$s[$s.CLOSEST_CORNER=2]="CLOSEST_CORNER",$s[$s.FARTHEST_CORNER=3]="FARTHEST_CORNER";var Zs=function(e){if(e.type===wo.URL_TOKEN){var t={url:e.value,type:Bs.URL};return Ds.getInstance().addImage(e.value),t}if(e.type===wo.FUNCTION){var n=nl[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(e.values)}throw new Error("Unsupported image type")};var el,tl,nl={"linear-gradient":function(e){var t=ls(180),n=[];return Xa(e).forEach((function(e,r){if(0===r){var i=e[0];if(i.type===wo.IDENT_TOKEN&&"to"===i.value)return void(t=ss(e));if(as(i))return void(t=os(i))}var o=Ss(e);n.push(o)})),{angle:t,stops:n,type:Bs.LINEAR_GRADIENT}},"-moz-linear-gradient":Ns,"-ms-linear-gradient":Ns,"-o-linear-gradient":Ns,"-webkit-linear-gradient":Ns,"radial-gradient":function(e){var t=Xs.CIRCLE,n=Ys.FARTHEST_CORNER,r=[],i=[];return Xa(e).forEach((function(e,o){var a=!0;if(0===o){var s=!1;a=e.reduce((function(e,r){if(s)if(Va(r))switch(r.value){case"center":return i.push(ts),e;case"top":case"left":return i.push(es),e;case"right":case"bottom":return i.push(ns),e}else($a(r)||Ya(r))&&i.push(r);else if(Va(r))switch(r.value){case"circle":return t=Xs.CIRCLE,!1;case"ellipse":return t=Xs.ELLIPSE,!1;case"at":return s=!0,!1;case"closest-side":return n=Ys.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return n=Ys.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return n=Ys.CLOSEST_CORNER,!1;case"farthest-corner":return n=Ys.FARTHEST_CORNER,!1}else if(Ya(r)||$a(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e}),a)}if(a){var l=Ss(e);r.push(l)}})),{size:n,shape:t,stops:r,position:i,type:Bs.RADIAL_GRADIENT}},"-moz-radial-gradient":Gs,"-ms-radial-gradient":Gs,"-o-radial-gradient":Gs,"-webkit-radial-gradient":Gs,"-webkit-gradient":function(e){var t=ls(180),n=[],r=Bs.LINEAR_GRADIENT,i=Xs.CIRCLE,o=Ys.FARTHEST_CORNER;return Xa(e).forEach((function(e,t){var i=e[0];if(0===t){if(Va(i)&&"linear"===i.value)return void(r=Bs.LINEAR_GRADIENT);if(Va(i)&&"radial"===i.value)return void(r=Bs.RADIAL_GRADIENT)}if(i.type===wo.FUNCTION)if("from"===i.name){var o=us(i.values[0]);n.push({stop:es,color:o})}else if("to"===i.name){o=us(i.values[0]);n.push({stop:ns,color:o})}else if("color-stop"===i.name){var a=i.values.filter(Ga);if(2===a.length){o=us(a[1]);var s=a[0];Ka(s)&&n.push({stop:{type:wo.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:o})}}})),r===Bs.LINEAR_GRADIENT?{angle:(t+ls(180))%ls(360),stops:n,type:r}:{size:o,shape:i,stops:n,position:[],type:r}}},rl={name:"background-image",initialValue:"none",type:gs.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===wo.IDENT_TOKEN&&"none"===t.value?[]:e.filter((function(e){return Ga(e)&&function(e){return e.type!==wo.FUNCTION||nl[e.name]}(e)})).map(Zs)}},il={name:"background-origin",initialValue:"border-box",prefix:!1,type:gs.LIST,parse:function(e){return e.map((function(e){if(Va(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},ol={name:"background-position",initialValue:"0% 0%",type:gs.LIST,prefix:!1,parse:function(e){return Xa(e).map((function(e){return e.filter($a)})).map(Za)}};(tl=el||(el={}))[tl.REPEAT=0]="REPEAT",tl[tl.NO_REPEAT=1]="NO_REPEAT",tl[tl.REPEAT_X=2]="REPEAT_X",tl[tl.REPEAT_Y=3]="REPEAT_Y";var al,sl,ll={name:"background-repeat",initialValue:"repeat",prefix:!1,type:gs.LIST,parse:function(e){return Xa(e).map((function(e){return e.filter(Va).map((function(e){return e.value})).join(" ")})).map(ul)}},ul=function(e){switch(e){case"no-repeat":return el.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return el.REPEAT_X;case"repeat-y":case"no-repeat repeat":return el.REPEAT_Y;case"repeat":default:return el.REPEAT}};(sl=al||(al={})).AUTO="auto",sl.CONTAIN="contain",sl.COVER="cover";var cl,dl,Al={name:"background-size",initialValue:"0",prefix:!1,type:gs.LIST,parse:function(e){return Xa(e).map((function(e){return e.filter(hl)}))}},hl=function(e){return Va(e)||$a(e)},fl=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:gs.TYPE_VALUE,format:"color"}},pl=fl("top"),gl=fl("right"),ml=fl("bottom"),vl=fl("left"),yl=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:gs.LIST,parse:function(e){return Za(e.filter($a))}}},bl=yl("top-left"),_l=yl("top-right"),wl=yl("bottom-right"),Bl=yl("bottom-left");(dl=cl||(cl={}))[dl.NONE=0]="NONE",dl[dl.SOLID=1]="SOLID";var Cl,El,Tl=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"none":return cl.NONE}return cl.SOLID}}},Sl=Tl("top"),kl=Tl("right"),xl=Tl("bottom"),Ol=Tl("left"),Ul=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:gs.VALUE,prefix:!1,parse:function(e){return ja(e)?e.number:0}}},Nl=Ul("top"),Il=Ul("right"),Fl=Ul("bottom"),Ll=Ul("left"),Pl={name:"color",initialValue:"transparent",prefix:!1,type:gs.TYPE_VALUE,format:"color"},Ql={name:"display",initialValue:"inline-block",prefix:!1,type:gs.LIST,parse:function(e){return e.filter(Va).reduce((function(e,t){return e|Dl(t.value)}),0)}},Dl=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(El=Cl||(Cl={}))[El.NONE=0]="NONE",El[El.LEFT=1]="LEFT",El[El.RIGHT=2]="RIGHT",El[El.INLINE_START=3]="INLINE_START",El[El.INLINE_END=4]="INLINE_END";var Ml,Rl,Hl={name:"float",initialValue:"none",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"left":return Cl.LEFT;case"right":return Cl.RIGHT;case"inline-start":return Cl.INLINE_START;case"inline-end":return Cl.INLINE_END}return Cl.NONE}},jl={name:"letter-spacing",initialValue:"0",prefix:!1,type:gs.VALUE,parse:function(e){return e.type===wo.IDENT_TOKEN&&"normal"===e.value?0:e.type===wo.NUMBER_TOKEN||e.type===wo.DIMENSION_TOKEN?e.number:0}};(Rl=Ml||(Ml={})).NORMAL="normal",Rl.STRICT="strict";var Kl,Vl,zl={name:"line-break",initialValue:"normal",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"strict":return Ml.STRICT;case"normal":default:return Ml.NORMAL}}},ql={name:"line-height",initialValue:"normal",prefix:!1,type:gs.TOKEN_VALUE},Wl={name:"list-style-image",initialValue:"none",type:gs.VALUE,prefix:!1,parse:function(e){return e.type===wo.IDENT_TOKEN&&"none"===e.value?null:Zs(e)}};(Vl=Kl||(Kl={}))[Vl.INSIDE=0]="INSIDE",Vl[Vl.OUTSIDE=1]="OUTSIDE";var Gl,Xl,Jl={name:"list-style-position",initialValue:"outside",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"inside":return Kl.INSIDE;case"outside":default:return Kl.OUTSIDE}}};(Xl=Gl||(Gl={}))[Xl.NONE=-1]="NONE",Xl[Xl.DISC=0]="DISC",Xl[Xl.CIRCLE=1]="CIRCLE",Xl[Xl.SQUARE=2]="SQUARE",Xl[Xl.DECIMAL=3]="DECIMAL",Xl[Xl.CJK_DECIMAL=4]="CJK_DECIMAL",Xl[Xl.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",Xl[Xl.LOWER_ROMAN=6]="LOWER_ROMAN",Xl[Xl.UPPER_ROMAN=7]="UPPER_ROMAN",Xl[Xl.LOWER_GREEK=8]="LOWER_GREEK",Xl[Xl.LOWER_ALPHA=9]="LOWER_ALPHA",Xl[Xl.UPPER_ALPHA=10]="UPPER_ALPHA",Xl[Xl.ARABIC_INDIC=11]="ARABIC_INDIC",Xl[Xl.ARMENIAN=12]="ARMENIAN",Xl[Xl.BENGALI=13]="BENGALI",Xl[Xl.CAMBODIAN=14]="CAMBODIAN",Xl[Xl.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",Xl[Xl.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",Xl[Xl.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",Xl[Xl.DEVANAGARI=18]="DEVANAGARI",Xl[Xl.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",Xl[Xl.GEORGIAN=20]="GEORGIAN",Xl[Xl.GUJARATI=21]="GUJARATI",Xl[Xl.GURMUKHI=22]="GURMUKHI",Xl[Xl.HEBREW=22]="HEBREW",Xl[Xl.HIRAGANA=23]="HIRAGANA",Xl[Xl.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",Xl[Xl.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",Xl[Xl.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",Xl[Xl.KANNADA=27]="KANNADA",Xl[Xl.KATAKANA=28]="KATAKANA",Xl[Xl.KATAKANA_IROHA=29]="KATAKANA_IROHA",Xl[Xl.KHMER=30]="KHMER",Xl[Xl.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",Xl[Xl.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",Xl[Xl.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",Xl[Xl.LAO=34]="LAO",Xl[Xl.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",Xl[Xl.MALAYALAM=36]="MALAYALAM",Xl[Xl.MONGOLIAN=37]="MONGOLIAN",Xl[Xl.MYANMAR=38]="MYANMAR",Xl[Xl.ORIYA=39]="ORIYA",Xl[Xl.PERSIAN=40]="PERSIAN",Xl[Xl.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",Xl[Xl.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",Xl[Xl.TAMIL=43]="TAMIL",Xl[Xl.TELUGU=44]="TELUGU",Xl[Xl.THAI=45]="THAI",Xl[Xl.TIBETAN=46]="TIBETAN",Xl[Xl.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",Xl[Xl.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",Xl[Xl.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",Xl[Xl.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",Xl[Xl.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED";var Yl,$l,Zl={name:"list-style-type",initialValue:"none",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"disc":return Gl.DISC;case"circle":return Gl.CIRCLE;case"square":return Gl.SQUARE;case"decimal":return Gl.DECIMAL;case"cjk-decimal":return Gl.CJK_DECIMAL;case"decimal-leading-zero":return Gl.DECIMAL_LEADING_ZERO;case"lower-roman":return Gl.LOWER_ROMAN;case"upper-roman":return Gl.UPPER_ROMAN;case"lower-greek":return Gl.LOWER_GREEK;case"lower-alpha":return Gl.LOWER_ALPHA;case"upper-alpha":return Gl.UPPER_ALPHA;case"arabic-indic":return Gl.ARABIC_INDIC;case"armenian":return Gl.ARMENIAN;case"bengali":return Gl.BENGALI;case"cambodian":return Gl.CAMBODIAN;case"cjk-earthly-branch":return Gl.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Gl.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Gl.CJK_IDEOGRAPHIC;case"devanagari":return Gl.DEVANAGARI;case"ethiopic-numeric":return Gl.ETHIOPIC_NUMERIC;case"georgian":return Gl.GEORGIAN;case"gujarati":return Gl.GUJARATI;case"gurmukhi":return Gl.GURMUKHI;case"hebrew":return Gl.HEBREW;case"hiragana":return Gl.HIRAGANA;case"hiragana-iroha":return Gl.HIRAGANA_IROHA;case"japanese-formal":return Gl.JAPANESE_FORMAL;case"japanese-informal":return Gl.JAPANESE_INFORMAL;case"kannada":return Gl.KANNADA;case"katakana":return Gl.KATAKANA;case"katakana-iroha":return Gl.KATAKANA_IROHA;case"khmer":return Gl.KHMER;case"korean-hangul-formal":return Gl.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Gl.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Gl.KOREAN_HANJA_INFORMAL;case"lao":return Gl.LAO;case"lower-armenian":return Gl.LOWER_ARMENIAN;case"malayalam":return Gl.MALAYALAM;case"mongolian":return Gl.MONGOLIAN;case"myanmar":return Gl.MYANMAR;case"oriya":return Gl.ORIYA;case"persian":return Gl.PERSIAN;case"simp-chinese-formal":return Gl.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Gl.SIMP_CHINESE_INFORMAL;case"tamil":return Gl.TAMIL;case"telugu":return Gl.TELUGU;case"thai":return Gl.THAI;case"tibetan":return Gl.TIBETAN;case"trad-chinese-formal":return Gl.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Gl.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Gl.UPPER_ARMENIAN;case"disclosure-open":return Gl.DISCLOSURE_OPEN;case"disclosure-closed":return Gl.DISCLOSURE_CLOSED;case"none":default:return Gl.NONE}}},eu=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:gs.TOKEN_VALUE}},tu=eu("top"),nu=eu("right"),ru=eu("bottom"),iu=eu("left");($l=Yl||(Yl={}))[$l.VISIBLE=0]="VISIBLE",$l[$l.HIDDEN=1]="HIDDEN",$l[$l.SCROLL=2]="SCROLL",$l[$l.AUTO=3]="AUTO";var ou,au,su={name:"overflow",initialValue:"visible",prefix:!1,type:gs.LIST,parse:function(e){return e.filter(Va).map((function(e){switch(e.value){case"hidden":return Yl.HIDDEN;case"scroll":return Yl.SCROLL;case"auto":return Yl.AUTO;case"visible":default:return Yl.VISIBLE}}))}};(au=ou||(ou={})).NORMAL="normal",au.BREAK_WORD="break-word";var lu,uu,cu={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return ou.BREAK_WORD;case"normal":default:return ou.NORMAL}}},du=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:gs.TYPE_VALUE,format:"length-percentage"}},Au=du("top"),hu=du("right"),fu=du("bottom"),pu=du("left");(uu=lu||(lu={}))[uu.LEFT=0]="LEFT",uu[uu.CENTER=1]="CENTER",uu[uu.RIGHT=2]="RIGHT";var gu,mu,vu={name:"text-align",initialValue:"left",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"right":return lu.RIGHT;case"center":case"justify":return lu.CENTER;case"left":default:return lu.LEFT}}};(mu=gu||(gu={}))[mu.STATIC=0]="STATIC",mu[mu.RELATIVE=1]="RELATIVE",mu[mu.ABSOLUTE=2]="ABSOLUTE",mu[mu.FIXED=3]="FIXED",mu[mu.STICKY=4]="STICKY";var yu,bu,_u={name:"position",initialValue:"static",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"relative":return gu.RELATIVE;case"absolute":return gu.ABSOLUTE;case"fixed":return gu.FIXED;case"sticky":return gu.STICKY}return gu.STATIC}},wu={name:"text-shadow",initialValue:"none",type:gs.LIST,prefix:!1,parse:function(e){return 1===e.length&&qa(e[0],"none")?[]:Xa(e).map((function(e){for(var t={color:ws.TRANSPARENT,offsetX:es,offsetY:es,blur:es},n=0,r=0;r<e.length;r++){var i=e[r];Ya(i)?(0===n?t.offsetX=i:1===n?t.offsetY=i:t.blur=i,n++):t.color=us(i)}return t}))}};(bu=yu||(yu={}))[bu.NONE=0]="NONE",bu[bu.LOWERCASE=1]="LOWERCASE",bu[bu.UPPERCASE=2]="UPPERCASE",bu[bu.CAPITALIZE=3]="CAPITALIZE";var Bu,Cu,Eu={name:"text-transform",initialValue:"none",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return yu.UPPERCASE;case"lowercase":return yu.LOWERCASE;case"capitalize":return yu.CAPITALIZE}return yu.NONE}},Tu={name:"transform",initialValue:"none",prefix:!0,type:gs.VALUE,parse:function(e){if(e.type===wo.IDENT_TOKEN&&"none"===e.value)return null;if(e.type===wo.FUNCTION){var t=Su[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Su={matrix:function(e){var t=e.filter((function(e){return e.type===wo.NUMBER_TOKEN})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return e.type===wo.NUMBER_TOKEN})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],16===t.length?[n,r,i,o,a,s]:null}},ku={type:wo.PERCENTAGE_TOKEN,number:50,flags:4},xu=[ku,ku],Ou={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:gs.LIST,parse:function(e){var t=e.filter($a);return 2!==t.length?xu:[t[0],t[1]]}};(Cu=Bu||(Bu={}))[Cu.VISIBLE=0]="VISIBLE",Cu[Cu.HIDDEN=1]="HIDDEN",Cu[Cu.COLLAPSE=2]="COLLAPSE";var Uu,Nu,Iu={name:"visible",initialValue:"none",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return Bu.HIDDEN;case"collapse":return Bu.COLLAPSE;case"visible":default:return Bu.VISIBLE}}};(Nu=Uu||(Uu={})).NORMAL="normal",Nu.BREAK_ALL="break-all",Nu.KEEP_ALL="keep-all";var Fu,Lu,Pu={name:"word-break",initialValue:"normal",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return Uu.BREAK_ALL;case"keep-all":return Uu.KEEP_ALL;case"normal":default:return Uu.NORMAL}}},Qu={name:"z-index",initialValue:"auto",prefix:!1,type:gs.VALUE,parse:function(e){if(e.type===wo.IDENT_TOKEN)return{auto:!0,order:0};if(Ka(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Du={name:"opacity",initialValue:"1",type:gs.VALUE,prefix:!1,parse:function(e){return Ka(e)?e.number:1}},Mu={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:gs.TYPE_VALUE,format:"color"},Ru={name:"text-decoration-line",initialValue:"none",prefix:!1,type:gs.LIST,parse:function(e){return e.filter(Va).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Hu={name:"font-family",initialValue:"",prefix:!1,type:gs.LIST,parse:function(e){var t=[],n=[];return e.forEach((function(e){switch(e.type){case wo.IDENT_TOKEN:case wo.STRING_TOKEN:t.push(e.value);break;case wo.NUMBER_TOKEN:t.push(e.number.toString());break;case wo.COMMA_TOKEN:n.push(t.join(" ")),t.length=0}})),t.length&&n.push(t.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ju={name:"font-size",initialValue:"0",prefix:!1,type:gs.TYPE_VALUE,format:"length"},Ku={name:"font-weight",initialValue:"normal",type:gs.VALUE,prefix:!1,parse:function(e){if(Ka(e))return e.number;if(Va(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Vu={name:"font-variant",initialValue:"none",type:gs.LIST,prefix:!1,parse:function(e){return e.filter(Va).map((function(e){return e.value}))}};(Lu=Fu||(Fu={})).NORMAL="normal",Lu.ITALIC="italic",Lu.OBLIQUE="oblique";var zu,qu,Wu={name:"font-style",initialValue:"normal",prefix:!1,type:gs.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return Fu.OBLIQUE;case"italic":return Fu.ITALIC;case"normal":default:return Fu.NORMAL}}},Gu=function(e,t){return 0!=(e&t)},Xu={name:"content",initialValue:"none",type:gs.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===wo.IDENT_TOKEN&&"none"===t.value?[]:e}},Ju={name:"counter-increment",initialValue:"none",prefix:!0,type:gs.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===wo.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],r=e.filter(Wa),i=0;i<r.length;i++){var o=r[i],a=r[i+1];if(o.type===wo.IDENT_TOKEN){var s=a&&Ka(a)?a.number:1;n.push({counter:o.value,increment:s})}}return n}},Yu={name:"counter-reset",initialValue:"none",prefix:!0,type:gs.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter(Wa),r=0;r<n.length;r++){var i=n[r],o=n[r+1];if(Va(i)&&"none"!==i.value){var a=o&&Ka(o)?o.number:0;t.push({counter:i.value,reset:a})}}return t}},$u={name:"quotes",initialValue:"none",prefix:!0,type:gs.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===wo.IDENT_TOKEN&&"none"===t.value)return null;var n=[],r=e.filter(za);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var o=r[i].value,a=r[i+1].value;n.push({open:o,close:a})}return n}},Zu=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ec={name:"box-shadow",initialValue:"none",type:gs.LIST,prefix:!1,parse:function(e){return 1===e.length&&qa(e[0],"none")?[]:Xa(e).map((function(e){for(var t={color:255,offsetX:es,offsetY:es,blur:es,spread:es,inset:!1},n=0,r=0;r<e.length;r++){var i=e[r];qa(i,"inset")?t.inset=!0:Ya(i)?(0===n?t.offsetX=i:1===n?t.offsetY=i:2===n?t.blur=i:t.spread=i,n++):t.color=us(i)}return t}))}},tc=function(){function e(e){this.backgroundClip=ic(Es,e.backgroundClip),this.backgroundColor=ic(Ts,e.backgroundColor),this.backgroundImage=ic(rl,e.backgroundImage),this.backgroundOrigin=ic(il,e.backgroundOrigin),this.backgroundPosition=ic(ol,e.backgroundPosition),this.backgroundRepeat=ic(ll,e.backgroundRepeat),this.backgroundSize=ic(Al,e.backgroundSize),this.borderTopColor=ic(pl,e.borderTopColor),this.borderRightColor=ic(gl,e.borderRightColor),this.borderBottomColor=ic(ml,e.borderBottomColor),this.borderLeftColor=ic(vl,e.borderLeftColor),this.borderTopLeftRadius=ic(bl,e.borderTopLeftRadius),this.borderTopRightRadius=ic(_l,e.borderTopRightRadius),this.borderBottomRightRadius=ic(wl,e.borderBottomRightRadius),this.borderBottomLeftRadius=ic(Bl,e.borderBottomLeftRadius),this.borderTopStyle=ic(Sl,e.borderTopStyle),this.borderRightStyle=ic(kl,e.borderRightStyle),this.borderBottomStyle=ic(xl,e.borderBottomStyle),this.borderLeftStyle=ic(Ol,e.borderLeftStyle),this.borderTopWidth=ic(Nl,e.borderTopWidth),this.borderRightWidth=ic(Il,e.borderRightWidth),this.borderBottomWidth=ic(Fl,e.borderBottomWidth),this.borderLeftWidth=ic(Ll,e.borderLeftWidth),this.boxShadow=ic(ec,e.boxShadow),this.color=ic(Pl,e.color),this.display=ic(Ql,e.display),this.float=ic(Hl,e.cssFloat),this.fontFamily=ic(Hu,e.fontFamily),this.fontSize=ic(ju,e.fontSize),this.fontStyle=ic(Wu,e.fontStyle),this.fontVariant=ic(Vu,e.fontVariant),this.fontWeight=ic(Ku,e.fontWeight),this.letterSpacing=ic(jl,e.letterSpacing),this.lineBreak=ic(zl,e.lineBreak),this.lineHeight=ic(ql,e.lineHeight),this.listStyleImage=ic(Wl,e.listStyleImage),this.listStylePosition=ic(Jl,e.listStylePosition),this.listStyleType=ic(Zl,e.listStyleType),this.marginTop=ic(tu,e.marginTop),this.marginRight=ic(nu,e.marginRight),this.marginBottom=ic(ru,e.marginBottom),this.marginLeft=ic(iu,e.marginLeft),this.opacity=ic(Du,e.opacity);var t=ic(su,e.overflow);this.overflowX=t[0],this.overflowY=t[t.length>1?1:0],this.overflowWrap=ic(cu,e.overflowWrap),this.paddingTop=ic(Au,e.paddingTop),this.paddingRight=ic(hu,e.paddingRight),this.paddingBottom=ic(fu,e.paddingBottom),this.paddingLeft=ic(pu,e.paddingLeft),this.position=ic(_u,e.position),this.textAlign=ic(vu,e.textAlign),this.textDecorationColor=ic(Mu,e.textDecorationColor||e.color),this.textDecorationLine=ic(Ru,e.textDecorationLine),this.textShadow=ic(wu,e.textShadow),this.textTransform=ic(Eu,e.textTransform),this.transform=ic(Tu,e.transform),this.transformOrigin=ic(Ou,e.transformOrigin),this.visibility=ic(Iu,e.visibility),this.wordBreak=ic(Pu,e.wordBreak),this.zIndex=ic(Qu,e.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Bu.VISIBLE},e.prototype.isTransparent=function(){return cs(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==gu.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==Cl.NONE},e.prototype.isInlineLevel=function(){return Gu(this.display,4)||Gu(this.display,33554432)||Gu(this.display,268435456)||Gu(this.display,536870912)||Gu(this.display,67108864)||Gu(this.display,134217728)},e}(),nc=function(e){this.content=ic(Xu,e.content),this.quotes=ic($u,e.quotes)},rc=function(e){this.counterIncrement=ic(Ju,e.counterIncrement),this.counterReset=ic(Yu,e.counterReset)},ic=function(e,t){var n=new Ra,r=null!=t?t.toString():e.initialValue;n.write(r);var i=new Ha(n.read());switch(e.type){case gs.IDENT_VALUE:var o=i.parseComponentValue();return e.parse(Va(o)?o.value:e.initialValue);case gs.VALUE:return e.parse(i.parseComponentValue());case gs.LIST:return e.parse(i.parseComponentValues());case gs.TOKEN_VALUE:return i.parseComponentValue();case gs.TYPE_VALUE:switch(e.format){case"angle":return os(i.parseComponentValue());case"color":return us(i.parseComponentValue());case"image":return Zs(i.parseComponentValue());case"length":var a=i.parseComponentValue();return Ya(a)?a:es;case"length-percentage":var s=i.parseComponentValue();return $a(s)?s:es}}throw new Error("Attempting to parse unsupported css format type "+e.format)},oc=function(e){this.styles=new tc(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&Pc(e)&&(e.style.transform="none"),this.bounds=so(e),this.flags=0},ac=function(e,t){this.text=e,this.bounds=t},sc=function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var i=so(n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return new ao(0,0,0,0)},lc=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),ao.fromClientRect(i.getBoundingClientRect())},uc=function(e,t){return 0!==t.letterSpacing?lo(e).map((function(e){return uo(e)})):cc(e,t)},cc=function(e,t){for(var n,r=function(e,t){var n=lo(e),r=sa(n,t),i=r[0],o=r[1],a=r[2],s=n.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var e="×";u<s&&"×"===(e=aa(n,o,i,++u,a)););if("×"!==e||u===s){var t=new la(n,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===ou.BREAK_WORD?"break-word":t.wordBreak}),i=[];!(n=r.next()).done;)n.value&&i.push(n.value.slice());return i},dc=function(e,t){this.text=Ac(e.data,t.textTransform),this.textBounds=function(e,t,n){var r=uc(e,t),i=[],o=0;return r.forEach((function(e){if(t.textDecorationLine.length||e.trim().length>0)if(Ps.SUPPORT_RANGE_BOUNDS)i.push(new ac(e,lc(n,o,e.length)));else{var r=n.splitText(e.length);i.push(new ac(e,sc(n))),n=r}else Ps.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));o+=e.length})),i}(this.text,t,e)},Ac=function(e,t){switch(t){case yu.LOWERCASE:return e.toLowerCase();case yu.CAPITALIZE:return e.replace(hc,fc);case yu.UPPERCASE:return e.toUpperCase();default:return e}},hc=/(^|\s|:|-|\(|\))([a-z])/g,fc=function(e,t,n){return e.length>0?t+n.toUpperCase():e},pc=function(e){function t(t){var n=e.call(this,t)||this;return n.src=t.currentSrc||t.src,n.intrinsicWidth=t.naturalWidth,n.intrinsicHeight=t.naturalHeight,Ds.getInstance().addImage(n.src),n}return no(t,e),t}(oc),gc=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=t,n.intrinsicWidth=t.width,n.intrinsicHeight=t.height,n}return no(t,e),t}(oc),mc=function(e){function t(t){var n=e.call(this,t)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,Ds.getInstance().addImage(n.svg),n}return no(t,e),t}(oc),vc=function(e){function t(t){var n=e.call(this,t)||this;return n.value=t.value,n}return no(t,e),t}(oc),yc=function(e){function t(t){var n=e.call(this,t)||this;return n.start=t.start,n.reversed="boolean"==typeof t.reversed&&!0===t.reversed,n}return no(t,e),t}(oc),bc=[{type:wo.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],_c=[{type:wo.PERCENTAGE_TOKEN,flags:0,number:50}],wc="password",Bc=function(e){function t(t){var n,r,i,o=e.call(this,t)||this;switch(o.type=t.type.toLowerCase(),o.checked=t.checked,o.value=0===(r=(n=t).type===wc?new Array(n.value.length+1).join("•"):n.value).length?n.placeholder||"":r,"checkbox"!==o.type&&"radio"!==o.type||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=cl.SOLID,o.styles.backgroundClip=[vs.BORDER_BOX],o.styles.backgroundOrigin=[0],o.bounds=(i=o.bounds).width>i.height?new ao(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new ao(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),o.type){case"checkbox":o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=bc;break;case"radio":o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=_c}return o}return no(t,e),t}(oc),Cc=function(e){function t(t){var n=e.call(this,t)||this,r=t.options[t.selectedIndex||0];return n.value=r&&r.text||"",n}return no(t,e),t}(oc),Ec=function(e){function t(t){var n=e.call(this,t)||this;return n.value=t.value,n}return no(t,e),t}(oc),Tc=function(e){return us(Ha.create(e).parseComponentValue())},Sc=function(e){function t(t){var n=e.call(this,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){n.tree=Uc(t.contentWindow.document.documentElement);var r=t.contentWindow.document.documentElement?Tc(getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):ws.TRANSPARENT,i=t.contentWindow.document.body?Tc(getComputedStyle(t.contentWindow.document.body).backgroundColor):ws.TRANSPARENT;n.backgroundColor=cs(r)?cs(i)?n.styles.backgroundColor:i:r}}catch(o){}return n}return no(t,e),t}(oc),kc=["OL","UL","MENU"],xc=function(e,t,n){for(var r=e.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,Fc(r)&&r.data.trim().length>0)t.textNodes.push(new dc(r,t.styles));else if(Lc(r)){var o=Oc(r);o.styles.isVisible()&&(Nc(r,o,n)?o.flags|=4:Ic(o.styles)&&(o.flags|=2),-1!==kc.indexOf(r.tagName)&&(o.flags|=8),t.elements.push(o),Gc(r)||Hc(r)||Xc(r)||xc(r,o,n))}},Oc=function(e){return Vc(e)?new pc(e):Kc(e)?new gc(e):Hc(e)?new mc(e):Dc(e)?new vc(e):Mc(e)?new yc(e):Rc(e)?new Bc(e):Xc(e)?new Cc(e):Gc(e)?new Ec(e):zc(e)?new Sc(e):new oc(e)},Uc=function(e){var t=Oc(e);return t.flags|=4,xc(e,t,t),t},Nc=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||jc(e)&&n.styles.isTransparent()},Ic=function(e){return e.isPositioned()||e.isFloating()},Fc=function(e){return e.nodeType===Node.TEXT_NODE},Lc=function(e){return e.nodeType===Node.ELEMENT_NODE},Pc=function(e){return Lc(e)&&void 0!==e.style&&!Qc(e)},Qc=function(e){return"object"==typeof e.className},Dc=function(e){return"LI"===e.tagName},Mc=function(e){return"OL"===e.tagName},Rc=function(e){return"INPUT"===e.tagName},Hc=function(e){return"svg"===e.tagName},jc=function(e){return"BODY"===e.tagName},Kc=function(e){return"CANVAS"===e.tagName},Vc=function(e){return"IMG"===e.tagName},zc=function(e){return"IFRAME"===e.tagName},qc=function(e){return"STYLE"===e.tagName},Wc=function(e){return"SCRIPT"===e.tagName},Gc=function(e){return"TEXTAREA"===e.tagName},Xc=function(e){return"SELECT"===e.tagName},Jc=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Yc={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$c={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Zc={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},ed={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},td=function(e,t,n,r,i,o){return e<t||e>n?ad(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},nd=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},rd=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(nd(Math.abs(e),o,r,(function(e){return uo(Math.floor(e%o)+t)}))+i)},id=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return nd(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},od=function(e,t,n,r,i,o){if(e<-9999||e>9999)return ad(e,Gl.CJK_DECIMAL,i.length>0);var a=Math.abs(e),s=i;if(0===a)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var u=a%10;0===u&&Gu(o,1)&&""!==s?s=t[u]+s:u>1||1===u&&0===l||1===u&&1===l&&Gu(o,2)||1===u&&1===l&&Gu(o,4)&&e>100||1===u&&l>1&&Gu(o,8)?s=t[u]+(l>0?n[l-1]:"")+s:1===u&&l>0&&(s=n[l-1]+s),a=Math.floor(a/10)}return(e<0?r:"")+s},ad=function(e,t,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"",a=n?" ":"";switch(t){case Gl.DISC:return"•"+a;case Gl.CIRCLE:return"◦"+a;case Gl.SQUARE:return"◾"+a;case Gl.DECIMAL_LEADING_ZERO:var s=rd(e,48,57,!0,r);return s.length<4?"0"+s:s;case Gl.CJK_DECIMAL:return id(e,"〇一二三四五六七八九",i);case Gl.LOWER_ROMAN:return td(e,1,3999,Yc,Gl.DECIMAL,r).toLowerCase();case Gl.UPPER_ROMAN:return td(e,1,3999,Yc,Gl.DECIMAL,r);case Gl.LOWER_GREEK:return rd(e,945,969,!1,r);case Gl.LOWER_ALPHA:return rd(e,97,122,!1,r);case Gl.UPPER_ALPHA:return rd(e,65,90,!1,r);case Gl.ARABIC_INDIC:return rd(e,1632,1641,!0,r);case Gl.ARMENIAN:case Gl.UPPER_ARMENIAN:return td(e,1,9999,$c,Gl.DECIMAL,r);case Gl.LOWER_ARMENIAN:return td(e,1,9999,$c,Gl.DECIMAL,r).toLowerCase();case Gl.BENGALI:return rd(e,2534,2543,!0,r);case Gl.CAMBODIAN:case Gl.KHMER:return rd(e,6112,6121,!0,r);case Gl.CJK_EARTHLY_BRANCH:return id(e,"子丑寅卯辰巳午未申酉戌亥",i);case Gl.CJK_HEAVENLY_STEM:return id(e,"甲乙丙丁戊己庚辛壬癸",i);case Gl.CJK_IDEOGRAPHIC:case Gl.TRAD_CHINESE_INFORMAL:return od(e,"零一二三四五六七八九","十百千萬","負",i,14);case Gl.TRAD_CHINESE_FORMAL:return od(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case Gl.SIMP_CHINESE_INFORMAL:return od(e,"零一二三四五六七八九","十百千萬","负",i,14);case Gl.SIMP_CHINESE_FORMAL:return od(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case Gl.JAPANESE_INFORMAL:return od(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case Gl.JAPANESE_FORMAL:return od(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case Gl.KOREAN_HANGUL_FORMAL:return od(e,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case Gl.KOREAN_HANJA_INFORMAL:return od(e,"零一二三四五六七八九","十百千萬","마이너스",o,0);case Gl.KOREAN_HANJA_FORMAL:return od(e,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case Gl.DEVANAGARI:return rd(e,2406,2415,!0,r);case Gl.GEORGIAN:return td(e,1,19999,ed,Gl.DECIMAL,r);case Gl.GUJARATI:return rd(e,2790,2799,!0,r);case Gl.GURMUKHI:return rd(e,2662,2671,!0,r);case Gl.HEBREW:return td(e,1,10999,Zc,Gl.DECIMAL,r);case Gl.HIRAGANA:return id(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Gl.HIRAGANA_IROHA:return id(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Gl.KANNADA:return rd(e,3302,3311,!0,r);case Gl.KATAKANA:return id(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case Gl.KATAKANA_IROHA:return id(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case Gl.LAO:return rd(e,3792,3801,!0,r);case Gl.MONGOLIAN:return rd(e,6160,6169,!0,r);case Gl.MYANMAR:return rd(e,4160,4169,!0,r);case Gl.ORIYA:return rd(e,2918,2927,!0,r);case Gl.PERSIAN:return rd(e,1776,1785,!0,r);case Gl.TAMIL:return rd(e,3046,3055,!0,r);case Gl.TELUGU:return rd(e,3174,3183,!0,r);case Gl.THAI:return rd(e,3664,3673,!0,r);case Gl.TIBETAN:return rd(e,3872,3881,!0,r);case Gl.DECIMAL:default:return rd(e,48,57,!0,r)}},sd=function(){function e(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new Jc,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,r=cd(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=r.contentWindow,s=a.document,l=dd(r).then((function(){return io(n,void 0,void 0,(function(){var e;return oo(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(pd),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(s.documentElement.style.top=-t.top+"px",s.documentElement.style.left=-t.left+"px",s.documentElement.style.position="absolute")),e=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(s)})).then((function(){return r}))]:[2,r]}}))}))}));return s.open(),s.write(hd(document.doctype)+"<html></html>"),fd(this.referenceElement.ownerDocument,i,o),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),l},e.prototype.createElementClone=function(e){if(Kc(e))return this.createCanvasClone(e);if(qc(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Vc(t)&&"lazy"===t.loading&&(t.loading="eager"),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(i){if(Qs.getInstance(this.options.id).error("Unable to access cssRules property",i),"SecurityError"!==i.name)throw i}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(o){Qs.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),i=n.getContext("2d");return i&&(r?i.putImageData(r.getImageData(0,0,e.width,e.height),0,0):i.drawImage(e,0,0)),n}catch(o){}return n},e.prototype.cloneNode=function(e){if(Fc(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&Lc(e)&&(Pc(e)||Qc(e))){var n=this.createElementClone(e),r=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&Pc(n)&&(this.clonedReferenceElement=n),jc(n)&&vd(n);for(var a=this.counters.parse(new rc(r)),s=this.resolvePseudoContent(e,n,i,zu.BEFORE),l=e.firstChild;l;l=l.nextSibling)Lc(l)&&(Wc(l)||l.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&Lc(l)&&qc(l)||n.appendChild(this.cloneNode(l));s&&n.insertBefore(s,n.firstChild);var u=this.resolvePseudoContent(e,n,o,zu.AFTER);return u&&n.appendChild(u),this.counters.pop(a),r&&(this.options.copyStyles||Qc(e))&&!zc(e)&&Ad(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Gc(e)||Xc(e))&&(Gc(n)||Xc(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,a=t.ownerDocument;if(a&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new rc(n));var s=new nc(n),l=a.createElement("html2canvaspseudoelement");Ad(n,l),s.content.forEach((function(t){if(t.type===wo.STRING_TOKEN)l.appendChild(a.createTextNode(t.value));else if(t.type===wo.URL_TOKEN){var n=a.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(t.type===wo.FUNCTION){if("attr"===t.name){var r=t.values.filter(Va);r.length&&l.appendChild(a.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Ga),u=o[0],c=o[1];if(u&&Va(u)){var d=i.counters.getCounterValue(u.value),A=c&&Va(c)?Zl.parse(c.value):Gl.DECIMAL;l.appendChild(a.createTextNode(ad(d,A,!1)))}}else if("counters"===t.name){var h=t.values.filter(Ga),f=(u=h[0],h[1]);c=h[2];if(u&&Va(u)){var p=i.counters.getCounterValues(u.value),g=c&&Va(c)?Zl.parse(c.value):Gl.DECIMAL,m=f&&f.type===wo.STRING_TOKEN?f.value:"",v=p.map((function(e){return ad(e,g,!1)})).join(m);l.appendChild(a.createTextNode(v))}}}else if(t.type===wo.IDENT_TOKEN)switch(t.value){case"open-quote":l.appendChild(a.createTextNode(Zu(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(Zu(s.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(t.value))}})),l.className=gd+" "+md;var u=r===zu.BEFORE?" "+gd:" "+md;return Qc(t)?t.className.baseValue+=u:t.className+=u,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();(qu=zu||(zu={}))[qu.BEFORE=0]="BEFORE",qu[qu.AFTER=1]="AFTER";var ld,ud,cd=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(n),n},dd=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=i.onreadystatechange=function(){r.onload=e.onload=i.onreadystatechange=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},Ad=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},hd=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},fd=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},pd=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},gd="___html2canvas___pseudoelement_before",md="___html2canvas___pseudoelement_after",vd=function(e){yd(e,"."+gd+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+md+':after{\n    content: "" !important;\n    display: none !important;\n}')},yd=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}};(ud=ld||(ld={}))[ud.VECTOR=0]="VECTOR",ud[ud.BEZIER_CURVE=1]="BEZIER_CURVE";var bd,_d,wd=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Bd=function(){function e(e,t){this.type=ld.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Cd=function(e,t,n){return new Bd(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ed=function(){function e(e,t,n,r){this.type=ld.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Cd(this.start,this.startControl,t),i=Cd(this.startControl,this.endControl,t),o=Cd(this.endControl,this.end,t),a=Cd(r,i,t),s=Cd(i,o,t),l=Cd(a,s,t);return n?new e(this.start,r,a,l):new e(l,s,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Td=function(e){return e.type===ld.BEZIER_CURVE},Sd=function(e){var t=e.styles,n=e.bounds,r=rs(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],a=rs(t.borderTopRightRadius,n.width,n.height),s=a[0],l=a[1],u=rs(t.borderBottomRightRadius,n.width,n.height),c=u[0],d=u[1],A=rs(t.borderBottomLeftRadius,n.width,n.height),h=A[0],f=A[1],p=[];p.push((i+s)/n.width),p.push((h+c)/n.width),p.push((o+f)/n.height),p.push((l+d)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,o/=g,s/=g,l/=g,c/=g,d/=g,h/=g,f/=g);var m=n.width-s,v=n.height-d,y=n.width-c,b=n.height-f,_=t.borderTopWidth,w=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,E=is(t.paddingTop,e.bounds.width),T=is(t.paddingRight,e.bounds.width),S=is(t.paddingBottom,e.bounds.width),k=is(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=i>0||o>0?kd(n.left,n.top,i,o,bd.TOP_LEFT):new Bd(n.left,n.top),this.topRightBorderBox=s>0||l>0?kd(n.left+m,n.top,s,l,bd.TOP_RIGHT):new Bd(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||d>0?kd(n.left+y,n.top+v,c,d,bd.BOTTOM_RIGHT):new Bd(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?kd(n.left,n.top+b,h,f,bd.BOTTOM_LEFT):new Bd(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?kd(n.left+C,n.top+_,Math.max(0,i-C),Math.max(0,o-_),bd.TOP_LEFT):new Bd(n.left+C,n.top+_),this.topRightPaddingBox=s>0||l>0?kd(n.left+Math.min(m,n.width+C),n.top+_,m>n.width+C?0:s-C,l-_,bd.TOP_RIGHT):new Bd(n.left+n.width-w,n.top+_),this.bottomRightPaddingBox=c>0||d>0?kd(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height+_),Math.max(0,c-w),d-B,bd.BOTTOM_RIGHT):new Bd(n.left+n.width-w,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||f>0?kd(n.left+C,n.top+b,Math.max(0,h-C),f-B,bd.BOTTOM_LEFT):new Bd(n.left+C,n.top+n.height-B),this.topLeftContentBox=i>0||o>0?kd(n.left+C+k,n.top+_+E,Math.max(0,i-(C+k)),Math.max(0,o-(_+E)),bd.TOP_LEFT):new Bd(n.left+C+k,n.top+_+E),this.topRightContentBox=s>0||l>0?kd(n.left+Math.min(m,n.width+C+k),n.top+_+E,m>n.width+C+k?0:s-C+k,l-(_+E),bd.TOP_RIGHT):new Bd(n.left+n.width-(w+T),n.top+_+E),this.bottomRightContentBox=c>0||d>0?kd(n.left+Math.min(y,n.width-(C+k)),n.top+Math.min(v,n.height+_+E),Math.max(0,c-(w+T)),d-(B+S),bd.BOTTOM_RIGHT):new Bd(n.left+n.width-(w+T),n.top+n.height-(B+S)),this.bottomLeftContentBox=h>0||f>0?kd(n.left+C+k,n.top+b,Math.max(0,h-(C+k)),f-(B+S),bd.BOTTOM_LEFT):new Bd(n.left+C+k,n.top+n.height-(B+S))};(_d=bd||(bd={}))[_d.TOP_LEFT=0]="TOP_LEFT",_d[_d.TOP_RIGHT=1]="TOP_RIGHT",_d[_d.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",_d[_d.BOTTOM_LEFT=3]="BOTTOM_LEFT";var kd=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,s=r*o,l=e+n,u=t+r;switch(i){case bd.TOP_LEFT:return new Ed(new Bd(e,u),new Bd(e,u-s),new Bd(l-a,t),new Bd(l,t));case bd.TOP_RIGHT:return new Ed(new Bd(e,t),new Bd(e+a,t),new Bd(l,u-s),new Bd(l,u));case bd.BOTTOM_RIGHT:return new Ed(new Bd(l,t),new Bd(l,t+s),new Bd(e+a,u),new Bd(e,u));case bd.BOTTOM_LEFT:default:return new Ed(new Bd(l,u),new Bd(l-a,u),new Bd(e,t+s),new Bd(e,t))}},xd=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Od=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ud=function(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6},Nd=function(e,t){this.type=1,this.target=t,this.path=e},Id=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Fd=function(){function e(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new Sd(e),null!==e.styles.transform){var n=e.bounds.left+e.styles.transformOrigin[0].number,r=e.bounds.top+e.styles.transformOrigin[1].number,i=e.styles.transform;this.effects.push(new Ud(n,r,i))}if(e.styles.overflowX!==Yl.VISIBLE){var o=xd(this.curves),a=Od(this.curves);wd(o,a)?this.effects.push(new Nd(o,6)):(this.effects.push(new Nd(o,2)),this.effects.push(new Nd(a,4)))}}return e.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==Yl.VISIBLE){var t=xd(this.curves),n=Od(this.curves);wd(t,n)||e.push(new Nd(n,6))}return e},e}(),Ld=function(e,t,n,r){e.container.elements.forEach((function(i){var o=Gu(i.flags,4),a=Gu(i.flags,2),s=new Fd(i,e.getParentEffects());Gu(i.styles.display,2048)&&r.push(s);var l=Gu(i.flags,8)?[]:r;if(o||a){var u=o||i.styles.isPositioned()?n:t,c=new Id(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var A=0;u.negativeZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order?(A=t,!1):A>0})),u.negativeZIndex.splice(A,0,c)}else if(d>0){var h=0;u.positiveZIndex.some((function(e,t){return d>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),u.positiveZIndex.splice(h,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);Ld(s,c,o?c:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Ld(s,t,n,l);Gu(i.flags,8)&&Pd(i,l)}))},Pd=function(e,t){for(var n=e instanceof yc?e.start:1,r=e instanceof yc&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof vc&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=ad(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},Qd=function(e,t,n,r){var i=[];return Td(e)?i.push(e.subdivide(.5,!1)):i.push(e),Td(n)?i.push(n.subdivide(.5,!0)):i.push(n),Td(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Td(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Dd=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Md=function(e){var t=e.styles,n=e.bounds,r=is(t.paddingLeft,n.width),i=is(t.paddingRight,n.width),o=is(t.paddingTop,n.width),a=is(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+a))},Rd=function(e,t,n){var r,i,o=(r=Vd(e.styles.backgroundOrigin,t),i=e,0===r?i.bounds:2===r?Md(i):Dd(i)),a=function(e,t){return e===vs.BORDER_BOX?t.bounds:e===vs.CONTENT_BOX?Md(t):Dd(t)}(Vd(e.styles.backgroundClip,t),e),s=Kd(Vd(e.styles.backgroundSize,t),n,o),l=s[0],u=s[1],c=rs(Vd(e.styles.backgroundPosition,t),o.width-l,o.height-u);return[zd(Vd(e.styles.backgroundRepeat,t),c,s,o,a),Math.round(o.left+c[0]),Math.round(o.top+c[1]),l,u]},Hd=function(e){return Va(e)&&e.value===al.AUTO},jd=function(e){return"number"==typeof e},Kd=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1];if($a(a)&&s&&$a(s))return[is(a,n.width),is(s,n.height)];var l=jd(o);if(Va(a)&&(a.value===al.CONTAIN||a.value===al.COVER))return jd(o)?n.width/n.height<o!=(a.value===al.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var u=jd(r),c=jd(i),d=u||c;if(Hd(a)&&(!s||Hd(s)))return u&&c?[r,i]:l||d?d&&l?[u?r:i*o,c?i:r/o]:[u?r:n.width,c?i:n.height]:[n.width,n.height];if(l){var A=0,h=0;return $a(a)?A=is(a,n.width):$a(s)&&(h=is(s,n.height)),Hd(a)?A=h*o:s&&!Hd(s)||(h=A/o),[A,h]}var f=null,p=null;if($a(a)?f=is(a,n.width):s&&$a(s)&&(p=is(s,n.height)),null===f||s&&!Hd(s)||(p=u&&c?f/r*i:n.height),null!==p&&Hd(a)&&(f=u&&c?p/i*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},Vd=function(e,t){var n=e[t];return void 0===n?e[0]:n},zd=function(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],l=n[1];switch(e){case el.REPEAT_X:return[new Bd(Math.round(r.left),Math.round(r.top+a)),new Bd(Math.round(r.left+r.width),Math.round(r.top+a)),new Bd(Math.round(r.left+r.width),Math.round(l+r.top+a)),new Bd(Math.round(r.left),Math.round(l+r.top+a))];case el.REPEAT_Y:return[new Bd(Math.round(r.left+o),Math.round(r.top)),new Bd(Math.round(r.left+o+s),Math.round(r.top)),new Bd(Math.round(r.left+o+s),Math.round(r.height+r.top)),new Bd(Math.round(r.left+o),Math.round(r.height+r.top))];case el.NO_REPEAT:return[new Bd(Math.round(r.left+o),Math.round(r.top+a)),new Bd(Math.round(r.left+o+s),Math.round(r.top+a)),new Bd(Math.round(r.left+o+s),Math.round(r.top+a+l)),new Bd(Math.round(r.left+o),Math.round(r.top+a+l))];default:return[new Bd(Math.round(i.left),Math.round(i.top)),new Bd(Math.round(i.left+i.width),Math.round(i.top)),new Bd(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Bd(Math.round(i.left),Math.round(i.height+i.top))]}},qd=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",o.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(i),n.appendChild(r);var a=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:a,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Wd=function(){function e(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,e.canvas||(this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"),this.fontMetrics=new qd(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Qs.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter((function(e){return Gu(e.target,t)})).forEach((function(e){return n.applyEffect(e)}))},e.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),function(e){return 1===e.type}(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(e){return io(this,void 0,void 0,(function(){var t;return oo(this,(function(n){switch(n.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(e){return io(this,void 0,void 0,(function(){return oo(this,(function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height):lo(e.text).map((function(e){return uo(e)})).reduce((function(t,r){return n.ctx.fillText(r,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(r).width}),e.bounds.left)},e.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),r=ja(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},e.prototype.renderTextNode=function(e,t){return io(this,void 0,void 0,(function(){var n,r,i,o,a=this;return oo(this,(function(s){return n=this.createFontStyle(t),r=n[0],i=n[1],o=n[2],this.ctx.font=r,e.textBounds.forEach((function(e){a.ctx.fillStyle=ds(t.color),a.renderTextWithLetterSpacing(e,t.letterSpacing);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){a.ctx.shadowColor=ds(t.color),a.ctx.shadowOffsetX=t.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=t.offsetY.number*a.options.scale,a.ctx.shadowBlur=t.blur.number,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),t.textDecorationLine.length&&(a.ctx.fillStyle=ds(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:var n=a.fontMetrics.getMetrics(i,o).baseline;a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var r=a.fontMetrics.getMetrics(i,o).middle;a.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+r),e.bounds.width,1)}})))})),[2]}))}))},e.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Md(e),i=Od(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return io(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,c,d,A,h,f,p;return oo(this,(function(g){switch(g.label){case 0:this.applyEffects(t.effects,4),n=t.container,r=t.curves,i=n.styles,o=0,a=n.textNodes,g.label=1;case 1:return o<a.length?(s=a[o],[4,this.renderTextNode(s,i)]):[3,4];case 2:g.sent(),g.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof pc))return[3,8];g.label=5;case 5:return g.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return h=g.sent(),this.renderReplacedElement(n,r,h),[3,8];case 7:return g.sent(),Qs.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof gc&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof mc))return[3,12];g.label=9;case 9:return g.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return h=g.sent(),this.renderReplacedElement(n,r,h),[3,12];case 11:return g.sent(),Qs.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Sc&&n.tree?[4,new e({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:l=g.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),g.label=14;case 14:if(n instanceof Bc&&(u=Math.min(n.bounds.width,n.bounds.height),"checkbox"===n.type?n.checked&&(this.ctx.save(),this.path([new Bd(n.bounds.left+.39363*u,n.bounds.top+.79*u),new Bd(n.bounds.left+.16*u,n.bounds.top+.5549*u),new Bd(n.bounds.left+.27347*u,n.bounds.top+.44071*u),new Bd(n.bounds.left+.39694*u,n.bounds.top+.5649*u),new Bd(n.bounds.left+.72983*u,n.bounds.top+.23*u),new Bd(n.bounds.left+.84*u,n.bounds.top+.34085*u),new Bd(n.bounds.left+.39363*u,n.bounds.top+.79*u)]),this.ctx.fillStyle=ds(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===n.type&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ds(707406591),this.ctx.fill(),this.ctx.restore())),Gd(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=ds(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Jd(n.styles.textAlign),p=Md(n),c=0,n.styles.textAlign){case lu.CENTER:c+=p.width/2;break;case lu.RIGHT:c+=p.width}d=p.add(c,0,0,-p.height/2+1),this.ctx.save(),this.path([new Bd(p.left,p.top),new Bd(p.left+p.width,p.top),new Bd(p.left+p.width,p.top+p.height),new Bd(p.left,p.top+p.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ac(n.value,d),i.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Gu(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((A=n.styles.listStyleImage).type!==Bs.URL)return[3,18];h=void 0,f=A.url,g.label=15;case 15:return g.trys.push([15,17,,18]),[4,this.options.cache.match(f)];case 16:return h=g.sent(),this.ctx.drawImage(h,n.bounds.left-(h.width+10),n.bounds.top),[3,18];case 17:return g.sent(),Qs.getInstance(this.options.id).error("Error loading list-style-image "+f),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==Gl.NONE&&(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=ds(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",p=new ao(n.bounds.left,n.bounds.top+is(n.styles.paddingTop,n.bounds.width),n.bounds.width,(m=i.lineHeight,v=i.fontSize.number,(Va(m)&&"normal"===m.value?1.2*v:m.type===wo.NUMBER_TOKEN?v*m.number:$a(m)?is(m,v):v)/2+1)),this.renderTextWithLetterSpacing(new ac(t.listValue,p),i.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),g.label=20;case 20:return[2]}var m,v}))}))},e.prototype.renderStackContent=function(e){return io(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,u,c,d,A,h,f,p;return oo(this,(function(g){switch(g.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:g.sent(),t=0,n=e.negativeZIndex,g.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:g.sent(),g.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:g.sent(),r=0,i=e.nonInlineLevel,g.label=7;case 7:return r<i.length?(p=i[r],[4,this.renderNode(p)]):[3,10];case 8:g.sent(),g.label=9;case 9:return r++,[3,7];case 10:o=0,a=e.nonPositionedFloats,g.label=11;case 11:return o<a.length?(p=a[o],[4,this.renderStack(p)]):[3,14];case 12:g.sent(),g.label=13;case 13:return o++,[3,11];case 14:s=0,l=e.nonPositionedInlineLevel,g.label=15;case 15:return s<l.length?(p=l[s],[4,this.renderStack(p)]):[3,18];case 16:g.sent(),g.label=17;case 17:return s++,[3,15];case 18:u=0,c=e.inlineLevel,g.label=19;case 19:return u<c.length?(p=c[u],[4,this.renderNode(p)]):[3,22];case 20:g.sent(),g.label=21;case 21:return u++,[3,19];case 22:d=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return d<A.length?(p=A[d],[4,this.renderStack(p)]):[3,26];case 24:g.sent(),g.label=25;case 25:return d++,[3,23];case 26:h=0,f=e.positiveZIndex,g.label=27;case 27:return h<f.length?(p=f[h],[4,this.renderStack(p)]):[3,30];case 28:g.sent(),g.label=29;case 29:return h++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},e.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=Td(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Td(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},e.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},e.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r=this.canvas.ownerDocument.createElement("canvas");return r.width=t,r.height=n,r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),r},e.prototype.renderBackgroundImage=function(e){return io(this,void 0,void 0,(function(){var t,n,r,i,o,a;return oo(this,(function(s){switch(s.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var i,o,a,s,l,u,c,d,A,h,f,p,g,m,v,y,b,_,w,B,C,E,T,S,k,x,O,U,N,I,F;return oo(this,(function(L){switch(L.label){case 0:if(n.type!==Bs.URL)return[3,5];i=void 0,o=n.url,L.label=1;case 1:return L.trys.push([1,3,,4]),[4,r.options.cache.match(o)];case 2:return i=L.sent(),[3,4];case 3:return L.sent(),Qs.getInstance(r.options.id).error("Error loading background-image "+o),[3,4];case 4:return i&&(a=Rd(e,t,[i.width,i.height,i.width/i.height]),y=a[0],E=a[1],T=a[2],w=a[3],B=a[4],m=r.ctx.createPattern(r.resizeImage(i,w,B),"repeat"),r.renderRepeat(y,m,E,T)),[3,6];case 5:n.type===Bs.LINEAR_GRADIENT?(s=Rd(e,t,[null,null,null]),y=s[0],E=s[1],T=s[2],w=s[3],B=s[4],l=xs(n.angle,w,B),u=l[0],c=l[1],d=l[2],A=l[3],h=l[4],(f=document.createElement("canvas")).width=w,f.height=B,p=f.getContext("2d"),g=p.createLinearGradient(c,A,d,h),ks(n.stops,u).forEach((function(e){return g.addColorStop(e.stop,ds(e.color))})),p.fillStyle=g,p.fillRect(0,0,w,B),w>0&&B>0&&(m=r.ctx.createPattern(f,"repeat"),r.renderRepeat(y,m,E,T))):function(e){return e.type===Bs.RADIAL_GRADIENT}(n)&&(v=Rd(e,t,[null,null,null]),y=v[0],b=v[1],_=v[2],w=v[3],B=v[4],C=0===n.position.length?[ts]:n.position,E=is(C[0],w),T=is(C[C.length-1],B),S=function(e,t,n,r,i){var o=0,a=0;switch(e.size){case Ys.CLOSEST_SIDE:e.shape===Xs.CIRCLE?o=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===Xs.ELLIPSE&&(o=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case Ys.CLOSEST_CORNER:if(e.shape===Xs.CIRCLE)o=a=Math.min(Os(t,n),Os(t,n-i),Os(t-r,n),Os(t-r,n-i));else if(e.shape===Xs.ELLIPSE){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=Us(r,i,t,n,!0),u=l[0],c=l[1];a=s*(o=Os(u-t,(c-n)/s))}break;case Ys.FARTHEST_SIDE:e.shape===Xs.CIRCLE?o=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===Xs.ELLIPSE&&(o=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case Ys.FARTHEST_CORNER:if(e.shape===Xs.CIRCLE)o=a=Math.max(Os(t,n),Os(t,n-i),Os(t-r,n),Os(t-r,n-i));else if(e.shape===Xs.ELLIPSE){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var d=Us(r,i,t,n,!1);u=d[0],c=d[1],a=s*(o=Os(u-t,(c-n)/s))}}return Array.isArray(e.size)&&(o=is(e.size[0],r),a=2===e.size.length?is(e.size[1],i):o),[o,a]}(n,E,T,w,B),k=S[0],x=S[1],k>0&&k>0&&(O=r.ctx.createRadialGradient(b+E,_+T,0,b+E,_+T,k),ks(n.stops,2*k).forEach((function(e){return O.addColorStop(e.stop,ds(e.color))})),r.path(y),r.ctx.fillStyle=O,k!==x?(U=e.bounds.left+.5*e.bounds.width,N=e.bounds.top+.5*e.bounds.height,F=1/(I=x/k),r.ctx.save(),r.ctx.translate(U,N),r.ctx.transform(1,0,0,I,0,0),r.ctx.translate(-U,-N),r.ctx.fillRect(b,F*(_-N)+N,w,B*F),r.ctx.restore()):r.ctx.fill())),L.label=6;case 6:return t--,[2]}}))},r=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return i<o.length?(a=o[i],[5,n(a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},e.prototype.renderBorder=function(e,t,n){return io(this,void 0,void 0,(function(){return oo(this,(function(r){return this.path(function(e,t){switch(t){case 0:return Qd(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Qd(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Qd(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Qd(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,t)),this.ctx.fillStyle=ds(e),this.ctx.fill(),[2]}))}))},e.prototype.renderNodeBackgroundAndBorders=function(e){return io(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,u=this;return oo(this,(function(c){switch(c.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,n=!cs(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],i=Xd(Vd(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),cs(t.backgroundColor)||(this.ctx.fillStyle=ds(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:c.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,r,i,o,a,s=xd(e.curves),l=t.inset?0:1e4,c=(n=s,r=-l+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,o=t.spread.number*(t.inset?-2:2),a=t.spread.number*(t.inset?-2:2),n.map((function(e,t){switch(t){case 0:return e.add(r,i);case 1:return e.add(r+o,i);case 2:return e.add(r+o,i+a);case 3:return e.add(r,i+a)}return e})));t.inset?(u.path(s),u.ctx.clip(),u.mask(c)):(u.mask(s),u.ctx.clip(),u.path(c)),u.ctx.shadowOffsetX=t.offsetX.number+l,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=ds(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?ds(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),c.label=2;case 2:o=0,a=0,s=r,c.label=3;case 3:return a<s.length?(l=s[a]).style===cl.NONE||cs(l.color)?[3,5]:[4,this.renderBorder(l.color,o,e.curves)]:[3,7];case 4:c.sent(),c.label=5;case 5:o++,c.label=6;case 6:return a++,[3,3];case 7:return[2]}}))}))},e.prototype.render=function(e){return io(this,void 0,void 0,(function(){var t;return oo(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ds(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),r=new Fd(e,[]),i=new Id(r),Ld(r,i,i,o=[]),Pd(r.container,o),t=i,[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}var r,i,o}))}))},e}(),Gd=function(e){return e instanceof Ec||(e instanceof Cc||e instanceof Bc&&"radio"!==e.type&&"checkbox"!==e.type)},Xd=function(e,t){switch(e){case vs.BORDER_BOX:return xd(t);case vs.CONTENT_BOX:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);case vs.PADDING_BOX:default:return Od(t)}},Jd=function(e){switch(e){case lu.CENTER:return"center";case lu.RIGHT:return"right";case lu.LEFT:default:return"left"}},Yd=function(){function e(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Qs.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.render=function(e){return io(this,void 0,void 0,(function(){var t,n;return oo(this,(function(r){switch(r.label){case 0:return t=Fs(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,$d(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ds(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}(),$d=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Zd=function(e){return us(Ha.create(e).parseComponentValue())};"undefined"!=typeof window&&Ds.setContext(window);var eA=function(e,t){return io(undefined,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,c,d,A,h,f,p,g,m,v,y,b,_,w,B,C;return oo(this,(function(E){switch(E.label){case 0:if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=n.defaultView))throw new Error("Document is not attached to a Window");return i=(Math.round(1e3*Math.random())+Date.now()).toString(16),o=jc(e)||"HTML"===e.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new ao(0,0,r,i)}(n):so(e),a=o.width,s=o.height,l=o.left,u=o.top,c=ro({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),d={backgroundColor:"#ffffff",cache:t.cache?t.cache:Ds.create(i,c),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:r.devicePixelRatio||1,windowWidth:r.innerWidth,windowHeight:r.innerHeight,scrollX:r.pageXOffset,scrollY:r.pageYOffset,x:l,y:u,width:Math.ceil(a),height:Math.ceil(s),id:i},A=ro({},d,c,t),h=new ao(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),Qs.create({id:i,enabled:A.logging}),Qs.getInstance(i).debug("Starting document clone"),f=new sd(e,{id:i,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:A.foreignObjectRendering,copyStyles:A.foreignObjectRendering}),(p=f.clonedReferenceElement)?[4,f.toIFrame(n,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=E.sent(),m=n.documentElement?Zd(getComputedStyle(n.documentElement).backgroundColor):ws.TRANSPARENT,v=n.body?Zd(getComputedStyle(n.body).backgroundColor):ws.TRANSPARENT,y=t.backgroundColor,b="string"==typeof y?Zd(y):null===y?ws.TRANSPARENT:4294967295,_=e===n.documentElement?cs(m)?cs(v)?b:v:m:b,w={id:i,cache:A.cache,canvas:A.canvas,backgroundColor:_,scale:A.scale,x:A.x,y:A.y,scrollX:A.scrollX,scrollY:A.scrollY,width:A.width,height:A.height,windowWidth:A.windowWidth,windowHeight:A.windowHeight},A.foreignObjectRendering?(Qs.getInstance(i).debug("Document cloned, using foreign object rendering"),[4,new Yd(w).render(p)]):[3,3];case 2:return B=E.sent(),[3,5];case 3:return Qs.getInstance(i).debug("Document cloned, using computed rendering"),Ds.attachInstance(A.cache),Qs.getInstance(i).debug("Starting DOM parsing"),C=Uc(p),Ds.detachInstance(),_===C.styles.backgroundColor&&(C.styles.backgroundColor=ws.TRANSPARENT),Qs.getInstance(i).debug("Starting renderer"),[4,new Wd(w).render(C)];case 4:B=E.sent(),E.label=5;case 5:return!0===A.removeContainer&&(sd.destroy(g)||Qs.getInstance(i).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Qs.getInstance(i).debug("Finished rendering"),Qs.destroy(i),Ds.destroy(i),[2,B]}}))}))};const tA=async e=>{if(!rn(e))return"";const t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t)},nA=()=>{const e=document.documentElement.clientWidth||document.body.clientWidth,t=Math.max(1200,e)/100+"px";document.getElementsByTagName("html")[0].style["font-size"]=t},rA=e=>{document.title=ln()?e:`${e} - vite-backen-admin`},iA=e=>{e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()},oA=e=>{e.stopPropagation();const t=e.path.find((e=>"button"===e.nodeName.toLowerCase()));t&&t.blur()};class aA{constructor(e,t){this.isBrowser=!1,this.resizeObserver=null,this.isBrowser="undefined"!=typeof document,this.isBrowser&&this.init(e,t)}init(e,t){this.resizeObserver=new ResizeObserver((e=>{un(t)&&t(e)})),this.resizeObserver.observe(e)}observe(e){}unObserve(e){this.isBrowser&&(this.resizeObserver.unobserve(),un(e)&&e())}disconnect(e){this.isBrowser&&(this.resizeObserver.disconnect(),un(e)&&e())}}const sA=async(t,n=!1)=>n?function(e,t){return void 0===t&&(t={}),eA(e,t)}(t.printable,{useCORS:!0,scrollX:0,scrollY:0,width:t.printable.clientWidth,height:t.printable.clientHeight,logging:!1}).then((n=>eo(e(e({},t),{printable:n.toDataURL(),type:"image"})))):eo(t);class lA{constructor(e,t){this.isBrowser=!1,this.scrollObserver=null,this.isBrowser="undefined"!=typeof window,this.isBrowser&&this.init(e,t)}init(e,t){this.scrollObserver=new IntersectionObserver((e=>{un(t)&&t(e)})),this.scrollObserver.observe(e)}observe(e){}unObserve(e){this.isBrowser&&(this.scrollObserver.unobserve(),un(e)&&e())}disconnect(e){this.isBrowser&&(this.scrollObserver.disconnect(),un(e)&&e())}}const uA=s({name:"FullScreen",componentName:"ManageFullScreen",__file:"@PC/globalHeader/fullScreen",setup(){const e=c(!1);return()=>h("i",{class:{"header-fullscreen":!0,"el-icon-full-screen":!e.value,"el-icon-copy-document":e.value},title:e.value?"还原":"全屏",onClick:()=>{var t;e.value?iA(document):(t=document.documentElement).requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullScreen&&t.msRequestFullScreen(),e.value=!e.value}},null)}});var cA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:uA});const dA=s({name:"I18nSwitch",componentName:"ManageI18nSwitch",__file:"@PC/globalHeader/locale",setup(){const e=jt(),t=Ht(),n=r((()=>e.state.lang.language));return d((()=>[n.value,t.path]),(()=>{rA(Yi(t.meta.title))})),{logo:n,changeLanguage:async()=>{await e.dispatch("setLanguage",{en:"zh-cn","zh-cn":"en"}[n.value])}}},render(){return h("span",{class:"el-icon header-i18n",onClick:this.changeLanguage},[{en:"EN","zh-cn":"中"}[this.logo]])}});var AA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dA});function hA(e,t="{y}-{m}-{d} {h}:{i}:{s}"){if(0===arguments.length)return"";let n;"object"==typeof e?n=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),n=new Date(e));const r={y:n.getFullYear(),m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),a:n.getDay()},i=t.replace(/{(y|m|d|h|i|s|a)+}/g,((e,t)=>{let n=r[t];return"a"===t?["日","一","二","三","四","五","六"][n]:(e.length>0&&n<10&&(n="0"+n),n||0)}));return i}const fA=(e,t,n="")=>{const r=document.createElement("a"),i=t.includes(n)?t:t+n;"download"in r?(r.href=URL.createObjectURL(e),r.download=i,r.style.display="none",document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)):window&&window.navigator&&window.navigator.msSaveBlob(e,i)},pA=e=>e.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join(""),gA=(e=35)=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})).slice(0,e+1),mA=s({name:"PersonInfo",componentName:"ManagePersonDialog",__file:"@PC/globalHeader/personInfo",props:{modelValue:Boolean},setup(e,{emit:t}){const{user:n,visible:i,lang:a,role:s}=((e,t)=>{const n=jt(),i=o("updateRoutes"),a=r((()=>n.state.user.userInfo)),s=r((()=>n.state.lang.language)),l=r({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),u=r({get:()=>a.value.role,set(e){e!==a.value.role&&Promise.all([n.dispatch("setUserInfo",Object.assign({},a.value,{role:e})),n.dispatch("getInfo",[e])]).then((()=>{i()}))}});return{visible:l,user:a,lang:s,role:u}})(e,t);return{visible:i,user:n,lang:a,role:s}},render(){const e=f("Dialogs");return h(e,{modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e,title:"个人信息",width:1e3,showMaximize:!0,dragging:!0},{default:()=>[h("header",{style:"display: flex;justify-content: space-between"},[h("p",{style:"display: flex; align-items: center"},[h(f("el-avatar"),{src:this.user.avatar},null),h("span",{style:"margin-left: 10px"},[this.user.username])]),h(f("el-button"),{type:"primary",size:"small"},{default:()=>[E("修改密码")]})]),h("table",{style:"margin-top: 10px",class:"not-el-table"},[h("tbody",null,[h("tr",null,[h("td",null,[h("i",{class:"el-icon-message"},null),E("邮箱")]),h("td",null,[this.user.email]),h("td",null,[h("i",{class:"el-icon-user"},null),E("用户名")]),h("td",null,[this.user.username]),h("td",null,[h("i",{class:"el-icon-edit-outline"},null),E("个性签名")]),h("td",null,[this.user.signature])]),h("tr",null,[h("td",null,[h("i",{class:"el-icon-picture-outline-round"},null),E("头像")]),h("td",null,[h(f("el-avatar"),{src:this.user.avatar},null)]),h("td",null,[h("i",{class:"el-icon-s-check"},null),E("角色")]),h("td",null,[h(f("el-select"),{modelValue:this.role,"onUpdate:modelValue":e=>this.role=e,size:"small"},{default:()=>[h(f("el-option"),{value:"admin",label:Yi("admin")},null),h(f("el-option"),{value:"customer",label:Yi("customer")},null)]})]),h("td",null,[h("i",{class:"el-icon iconfont vite-icon-i18n"},null),E("语言")]),h("td",null,[{"zh-cn":"中文",en:"英文"}[this.lang]])]),h("tr",null,[h("td",null,[h("i",{class:"el-icon-magic-stick"},null),E("主题")]),h("td",null,[this.user.theme]),h("td",null,[h("i",{class:"el-icon-date"},null),E("创建日期")]),h("td",null,[hA(this.user.createDate)]),h("td",null,[h("i",{class:"el-icon-date"},null),E("修改日期")]),h("td",null,[hA(this.user.updateDate)])])])])]})}});var vA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mA});function yA(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)}const bA=s({name:"RightNav",componentName:"ManageRightNav",__file:"@PC/globalHeader/rightNav",components:{PersonDialog:mA},setup(){const e=c(!1),t=jt();return{handleCommand:n=>{switch(n){case"info":e.value=!0;break;case"logout":t.dispatch("logout")}},userInfo:r((()=>t.state.user.userInfo)),personVisible:e}},render(){const e=this.$slots;return h(p,null,[h(f("el-dropdown"),{size:"small",onCommand:this.handleCommand},{dropdown:()=>{let t,n;return un(e.dropdown)?e.dropdown():h(f("el-dropdown-menu"),null,{default:()=>[h(f("el-dropdown-item"),{command:"info",icon:"el-icon-user"},yA(t=Yi("personal-info"))?t:{default:()=>[t]}),h(f("el-dropdown-item"),{divided:!0,command:"logout",icon:"el-icon-switch-button"},yA(n=Yi("logout"))?n:{default:()=>[n]})]})},default:()=>h("div",{class:"person-info"},[h(f("el-avatar"),{src:rn(this.userInfo.avatar)?this.userInfo.avatar:"/assets/avatar.jpg"},null),h("span",null,[rn(this.userInfo.username)?this.userInfo.username:"Jarry Chen"])])}),h(f("person-dialog"),{modelValue:this.personVisible,"onUpdate:modelValue":e=>this.personVisible=e},null)])}});var _A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bA});const wA=(e,t)=>e.map((e=>{var t;if(!e.hidden&&(null==(t=e.meta)?void 0:t.title)){const t={title:e.meta.title,path:e.redirect||e.path};return Array.isArray(e.children)&&e.children.length?wA(e.children):t}})).filter(Boolean).flat(1),BA=s({name:"HeadSearch",componentName:"ManageHeadSearch",__file:"@PC/Search",setup(){const e=jt(),t=o("isMobile"),n=r({get:()=>e.state.search.searchValue,set(t){e.dispatch("setSearchValue",t)}}),i=r((()=>e.state.permission.routes)),a=wA(i.value,t.value);return{routes:i,searchValue:n,fetchSuggestions:(e,t)=>{rn(e)?t(a.filter((t=>Yi(t.title).includes(e)||e.includes(Yi(t.title))))):t(a)},showSearch:c(!1),isMobile:o("isMobile")}},render(){const e=this.$slots;return h(p,null,[h(f("van-icon"),{name:"search",onClick:e=>{e.stopPropagation(),this.showSearch=!this.showSearch,this.showSearch||(this.searchValue="")},title:"搜索",style:{margin:"0 3px","vertical-align":"center",cursor:"pointer"}},null),h(f("el-autocomplete"),{modelValue:this.searchValue,"onUpdate:modelValue":e=>this.searchValue=e,placeholder:"请输入",size:"small","value-key":"title",clearable:!0,class:{show:this.showSearch,"manage-head-search":!0,pc:!this.isMobile&&this.showSearch},debounce:500,ref:e=>{this.showSearch&&(null==e?void 0:e.focus)&&e.focus()},"fetch-suggestions":this.fetchSuggestions,onSelect:e=>{e.path.startsWith("http")||e.path.startsWith("//")?location.href=e.path:this.$router.push(e.path)}},{suffix:()=>h("i",{class:"el-icon-edit el-input__icon"},null),default:({item:t})=>un(e.dropdown)?e.dropdown(t):h(p,null,[h("span",{title:Yi(t.title),class:{primary:["http","//"].some((e=>t.path.startsWith(e)))}},[Yi(t.title)]),["http","//"].some((e=>t.path.startsWith(e)))&&h("i",{class:"el-icon-link primary"},null)])})])}});var CA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:BA});const EA=s({name:"Header",componentName:"ManageHeader",__file:"@PC/globalHeader",components:{FullScreen:uA,i18nSwitch:dA,rightNav:bA,topSearch:BA},props:{logo:{type:[Node,String],default:"/assets/logo.png"},siteName:{type:[Node,String],default:"vite-backen-admin"}},setup(e,{slots:t}){const{logo:n,siteName:r}=e,i=Rt();return()=>h("section",{class:"global-header"},[un(t.logo)?t.logo():h("div",{class:"global-header-logo",onClick:()=>{i.replace("/")}},[n instanceof Node?h(n,null,null):rn(n)?h("img",{src:n},null):null,r instanceof Node?h(r,null,null):h("span",null,[r])]),un(t.headmenu)&&t.headmenu(),un(t.headright)?t.headright():h("div",{class:"global-header-right-info"},[h(f("top-search"),null,null),h(f("full-screen"),null,null),h(f("i18n-switch"),null,null),h(f("right-nav"),null,null)])])}});var TA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:EA});const SA=s({name:"Footer",componentName:"ManageFooter",__file:"@PC/globalFooter",setup(){const e=c(null);return g((()=>{e.value||(e.value=((e,t=!0,n="text/javascript")=>{const r=document.createElement("script");return r.type=n,r.src=e,r.async=t,document.body.append(r),r})("/js/busuanzi.pure.mini.js"))})),()=>h("div",{class:"global-footer"},[h("p",null,[E("CopyRight © "),(new Date).getFullYear(),E(" JarryChen. All Right Reserved")]),h("p",{class:"footer-visit-info"},[h("span",{id:"busuanzi_container_site_pv"},[E("访问量 "),h("span",{id:"busuanzi_value_site_pv"},null),E("次")]),h("span",{id:"busuanzi_container_site_uv"},[E("访客数 "),h("span",{id:"busuanzi_value_site_uv"},null),E("人")])])])}});var kA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:SA});const xA=s({name:"ContextMenu",componentName:"ManageContextMenu",__file:"@PC/ContextMenus",__emits:{"update:visible":null},props:{visible:{type:Boolean,default:!1},menus:{type:Array,default:()=>[]},left:[String,Number],top:[String,Number]},setup:(e,{emit:t})=>({rightVisible:r({get:()=>e.visible,set(e){t("update:visible",e)}})}),render(){return T(h("section",{class:"manage-right-menu",id:"right-menu",style:{left:"number"==typeof this.left?`${this.left}px`:this.left,top:"number"==typeof this.top?`${this.top}px`:this.top,display:this.visible?void 0:"none"},onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[h("ul",null,[this.menus.map(((e,t)=>h("li",{onClick:()=>{un(e.click)&&e.click(),this.rightVisible=!1},key:t},[Yi(e.title)])))])]),[[S("click-outside"),()=>this.rightVisible=!1]])}});var OA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xA});const UA=s({name:"Collapse",componentName:"ManagePCCollapse",setup(){const e=jt(),t=Ht(),n=r({get:()=>e.state.menus.collapse,set(t){e.dispatch("changeCollapse",t)}});return{collapse:n,clickCollapse:()=>{"/component"===t.path?n.value=!0:n.value=!n.value}}},render(){return h(f("el-button"),{type:"text",icon:this.collapse?"el-icon-s-unfold":"el-icon-s-fold",title:this.collapse?"展开":"折叠",onClick:this.clickCollapse,style:"margin-right: 10px;font-size: 1rem;"},null)}});var NA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:UA});const IA=s({name:"MultiTab",componentName:"ManageMultiTab",__file:"@PC/MultiTab",components:{RightContextMenu:s(xA),Collapse:UA},props:{multiTab:{type:Boolean,default:!1},pageClass:{type:String,default:"backen-admin-pc-content"}},setup(e){const t=Rt(),n=jt(),{menus:r,openRoutes:i,top:s,left:l,visible:u,currentTag:A,closeTag:h,rightClickTag:f}=((e,t)=>{const n=e.currentRoute,r=c([]),i=c(0),a=c(0),s=c(!1),l=c({title:"",path:""}),u=o("isMobile"),A=[{title:"close",click:()=>{if(r.value.length>1){const t=r.value.findIndex((e=>e.path===l.value.path)),i=r.value[t],o=r.value[t-1];r.value.splice(t,1),o&&i.path===n.value.path&&e.replace(o.path||"/")}}},{title:"close-right",click:()=>{const t=r.value.findIndex((e=>e.path===l.value.path));r.value=r.value.slice(0,t+1),e.replace(l.value.path||"/")}},{title:"close-other",click:()=>{r.value=[l.value],e.replace(l.value.path||"/")}}];return d((()=>n.value.path),(()=>{var e;"/login"!==n.value.path&&(r.value.some((e=>e.path===n.value.path))||r.value.push({title:(null==(e=n.value.meta)?void 0:e.title)||"",path:n.value.path,name:n.value.name}))}),{immediate:!0}),d((()=>[t.state.user.roles,u.value]),(()=>{e.afterEach((()=>{r.value=r.value.filter((t=>e.hasRoute(t.name)))}))})),{openRoutes:r,top:i,left:a,visible:s,currentTag:l,menus:A,closeTag:(t,n)=>{var i;rn(n)&&r.value.splice(t,1);const o=Math.max(0,r.value.length-1);e.replace((null==(i=r.value[o])?void 0:i.path)||"/")},rightClickTag:(e,t)=>{e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:r}=e;i.value=r,a.value=n,l.value=t,s.value=!0}}})(t,n),{webPageFull:p,togglePageFull:g}=(e=>{const t=c(!1);return k((()=>{document.querySelector(`.${e.pageClass}`).classList.remove("manage-page-full"),t.value=!1})),{webPageFull:t,togglePageFull:e=>{document.querySelector(`.${e}`).classList.toggle("manage-page-full"),a((()=>{t.value=!t.value}))}}})(e);return{openRoutes:i,closeTag:h,webPageFull:p,togglePageFull:g,rightClickTag:f,top:s,left:l,menus:r,visible:u,currentTag:A}},render(){return h("section",{class:"manage-head-multitab"},[h(xA,x({visible:this.visible,"onUpdate:visible":e=>this.visible=e},{top:this.top,left:this.left,menus:this.menus}),null),h("div",{class:"left-tags"},[h(UA,null,null),this.openRoutes.map(((e,t)=>{let n;return h(f("el-tag"),{key:e.path,closable:t>0,onClose:()=>this.closeTag(t,e.path),onClick:()=>this.$router.replace(e.path),onContextmenu:t=>this.rightClickTag(t,e),title:Yi(e.title),class:{selected:this.$route.path===e.path}},"function"==typeof(r=n=Yi(e.title))||"[object Object]"===Object.prototype.toString.call(r)&&!w(r)?n:{default:()=>[n]});var r}))]),h("div",{class:"right-buttons"},[h("i",{class:{"el-icon":!0,iconfont:!0,"vite-icon-webfull-reset":this.webPageFull,"vite-icon-webfull":!this.webPageFull},title:this.webPageFull?"还原":"网页全屏",onClick:()=>this.togglePageFull(this.pageClass)},null)])])}});var FA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:IA});const LA=s({name:"PCLayout",componentName:"ManagePClayout",props:{headHeight:{type:String,default:"60px"},sidebarWidth:{type:String,default:"220px"},footerHeight:{type:String,default:"60px"}},components:{Menus:$i,globalHead:EA,globalFooter:SA,multiTab:IA},setup(e,{slots:t}){const n=Ht(),r=jt();return()=>h(f("el-container"),{class:"backen-admin-pc",direction:"vertical"},{default:()=>["/404"!=n.path?h(p,null,[h(f("el-header"),{class:"backen-admin-pc-navbar",height:e.headHeight},{default:()=>[un(t.head)?t.head():h(f("global-head"),null,null)]}),h(f("el-container"),{direction:"horizontal",class:"backen-admin-pc-main"},{default:()=>[h(f("el-aside"),{width:r.state.menus.collapse?"65px":e.sidebarWidth,class:"backen-admin-pc-sidebar"},{default:()=>[un(t.menu)?t.menu():h($i,null,null)]}),h(f("el-container"),{direction:"vertical",class:"backen-admin-pc-content"},{default:()=>[h(f("el-header"),{height:"40px",onContextmenu:e=>{e.preventDefault(),e.stopPropagation()}},{default:()=>[un(t.tab)?t.tab():h(f("multi-tab"),null,null)]}),h(f("el-main"),null,{default:()=>[un(t.default)&&t.default()]}),h(f("el-footer"),{height:e.footerHeight},{default:()=>[un(t.footer)?t.footer():h(f("global-footer"),null,null)]})]})]})]):un(t.default)&&t.default()]})}});const PA=s({name:"MobileMenus",componentName:"ManageMobileMenus",__file:"@Mobile/Menus",components:{Menus:$i},props:{t:{type:Function,default:()=>function(){}},modelValue:{type:Boolean,default:!1},logo:{type:[Node,String],default:"/assets/logo.png"},siteName:{type:[Node,String],default:"vite-backen-admin"}},setup(e,{emit:t}){const n=Ht(),i=r({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return d((()=>n.path),(()=>{i.value=!1}),{immediate:!0}),{show:i}},render(){const e=this.$slots,{logo:t,siteName:n}=this;return h(f("van-popup"),{show:this.show,"onUpdate:show":e=>this.show=e,position:"left",overlay:!1,"safe-area-inset-bottom":!0,teleport:document.body,class:"left-popup-menu","close-on-popstate":!0},{default:()=>[h("div",{class:"menu-panel"},[un(e.logo)?e.logo():h("header",null,[t instanceof Node?h(t,null,null):rn(t)?h("img",{src:t},null):null,n instanceof Node?h(n,null,null):rn(n)?h("span",null,[n]):null]),h($i,null,null)])]})}});var QA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PA});const DA=s({name:"MobileFooter",componentName:"ManageMobileFooter",__file:"@Mobile/globalFooter",setup(){const e=Rt(),t=c("/");return d((()=>e.currentRoute.value.path),(e=>{"/me"!==e&&"/login"!==e&&(t.value=e)}),{immediate:!0}),m((()=>{e.push(t.value)})),{route:t}},render(){return h(f("van-tabbar"),{placeholder:!0,route:!0},{default:()=>[h(f("van-tabbar-item"),{icon:"apps-o",replace:!0,to:this.route},{default:()=>[E("应用")]}),h(f("van-tabbar-item"),{icon:"user-circle-o",replace:!0,to:"/me"},{default:()=>[E("我")]})]})}});var MA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DA});const RA=s({name:"MobileHeader",componentName:"ManageMobileHeader",__file:"@Mobile/globalHeader",components:{Search:BA},props:{modelValue:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=Ht(),i=c(n.path),o=r({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return d((()=>n.path),(()=>{i.value=n.path})),{showLeft:o,current:i}},render(){let e;const t=this.$slots;return h(f("van-nav-bar"),{onClickLeft:()=>this.showLeft=!0,"safe-area-inset-top":!0},"function"==typeof(n=e=Object.assign({},"/me"!==this.current&&{left:()=>h(p,null,[h(f("van-icon"),{name:"arrow"},null),h("span",null,[E("菜单")])]),right:()=>un(t.rightNav)?t.rightNav():h(BA,null,null)}))||"[object Object]"===Object.prototype.toString.call(n)&&!w(n)?e:{default:()=>[e]});var n}});var HA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RA});const jA=s({name:"mobileLayout",componentName:"ManageMobileLayout",components:{mobileMenus:PA,globalFooter:DA,globalHeader:RA},setup(){const e=Ht(),t=c(e.meta.title),n=c(!1),r=i({x:0,y:0});d((()=>e.path),(()=>{t.value=e.meta.title}));return{title:t,showLeft:n,touchStart:r,clickLeftOutside:e=>{e.stopPropagation(),r.x=e.changedTouches[0].clientX,r.y=e.changedTouches[0].clientY,n.value&&(n.value=!1)},touchToShowMenu:e=>{e.stopPropagation();e.changedTouches[0].clientX-r.x>=.4*window.innerWidth&&(n.value=!0)}}},render(){const e=this.$slots;return"/404"!==Ht().path?h("section",{class:"backen-admin-mobile",onTouchstart:this.clickLeftOutside,onTouchend:this.touchToShowMenu},[h("header",{class:"backen-admin-mobile-head",style:{display:"/me"===this.$route.path?"none":void 0}},[un(e.head)?e.head(Yi(this.title),this.showLeft):h(RA,{modelValue:this.showLeft,"onUpdate:modelValue":e=>this.showLeft=e},null)]),h("main",{class:"backen-admin-mobile-content"},[un(e.menus)?e.menu():h(PA,{t:Yi,modelValue:this.showLeft,"onUpdate:modelValue":e=>this.showLeft=e},null),un(e.default)&&e.default()]),h("footer",{class:"backen-admin-mobile-footer"},[un(e.footer)?e.footer():h(DA,null,null)])]):un(e.default)&&e.default()}});var KA=["DialogPage","ComponentPage","ChartsPage","EditorPage","IconPage","StepsPage","TablePage","UploadPage","UserPageView"];const VA=s({name:"NormalLayout",componentName:"ManageNormalLayout",components:{pcLayout:LA,mobileLayout:jA},setup(){const e=o("isMobile"),t=()=>h(f("router-view"),null,{default:({Component:e,route:t})=>h(O,{enterActiveClass:"animated fadeIn"},{default:()=>{var n;return[(null==(n=t.meta)?void 0:n.keepAlive)?h(U,{include:KA},[h(e,null,null)]):h(e,null,null)]}})});return()=>e.value?h(f("mobile-layout"),null,{default:t}):h(f("pc-layout"),null,{default:t})}});const zA=s({name:"PCUserLayout",componentName:"ManageUserPCLayout",setup:(e,{slots:t})=>()=>h("section",{class:"vite-backen-pc-login"},[un(t.default)&&t.default()])});const qA=s({name:"MobileUserLayout",componentName:"ManageUserMobileLayout",setup:(e,{slots:t})=>()=>h("section",{class:"vite-backen-mobile-login blur"},[un(t.default)&&t.default()])}),WA=()=>h(f("router-view"),null,{default:({Component:e,route:t})=>h(O,{"enter-active-class":"animated fadeIn"},{default:()=>{var n;return[(null==(n=t.meta)?void 0:n.keepAlive)?h(f("keep-alive"),null,{default:()=>[h(e,null,null)]}):h(e,null,null)]}})}),GA=s({name:"UserLayout",componentName:"ManageUserLayout",components:{pcLayout:zA,mobileLayout:qA},setup(){g((()=>{document.oncontextmenu=()=>!1})),m((()=>{document.oncontextmenu=()=>!0}));const e=o("isMobile");return()=>h(O,{"enter-active-class":"animated fadeIn"},{default:()=>[e.value?h(f("mobile-layout"),null,{default:WA}):h(f("pc-layout"),null,{default:WA})]})}});
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var XA=B((function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,l=64,u=128,c=256,d=1/0,A=9007199254740991,h=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",l],["rearg",c]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",_="[object Function]",w="[object GeneratorFunction]",B="[object Map]",C="[object Number]",E="[object Object]",T="[object Promise]",S="[object RegExp]",k="[object Set]",x="[object String]",O="[object Symbol]",U="[object WeakMap]",I="[object ArrayBuffer]",F="[object DataView]",L="[object Float32Array]",P="[object Float64Array]",Q="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",R="[object Uint8Array]",H="[object Uint8ClampedArray]",j="[object Uint16Array]",K="[object Uint32Array]",V=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,X=RegExp(W.source),J=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(re.source),oe=/^\s+/,ae=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_e=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="['’]",Oe="[\\ud800-\\udfff]",Ue="["+ke+"]",Ne="["+Be+"]",Ie="\\d+",Fe="[\\u2700-\\u27bf]",Le="["+Ee+"]",Pe="[^\\ud800-\\udfff"+ke+Ie+Ce+Ee+Te+"]",Qe="\\ud83c[\\udffb-\\udfff]",De="[^\\ud800-\\udfff]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Te+"]",je="(?:"+Le+"|"+Pe+")",Ke="(?:"+He+"|"+Pe+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Ne+"|"+Qe+")"+"?",We="[\\ufe0e\\ufe0f]?",Ge=We+qe+("(?:\\u200d(?:"+[De,Me,Re].join("|")+")"+We+qe+")*"),Xe="(?:"+[Fe,Me,Re].join("|")+")"+Ge,Je="(?:"+[De+Ne+"?",Ne,Me,Re,Oe].join("|")+")",Ye=RegExp(xe,"g"),$e=RegExp(Ne,"g"),Ze=RegExp(Qe+"(?="+Qe+")|"+Je+Ge,"g"),et=RegExp([He+"?"+Le+"+"+Ve+"(?="+[Ue,He,"$"].join("|")+")",Ke+"+"+ze+"(?="+[Ue,He+je,"$"].join("|")+")",He+"?"+je+"+"+Ve,He+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Xe].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Be+Se+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,ot={};ot[L]=ot[P]=ot[Q]=ot[D]=ot[M]=ot[R]=ot[H]=ot[j]=ot[K]=!0,ot[g]=ot[m]=ot[I]=ot[v]=ot[F]=ot[y]=ot[b]=ot[_]=ot[B]=ot[C]=ot[E]=ot[S]=ot[k]=ot[x]=ot[U]=!1;var at={};at[g]=at[m]=at[I]=at[F]=at[v]=at[y]=at[L]=at[P]=at[Q]=at[D]=at[M]=at[B]=at[C]=at[E]=at[S]=at[k]=at[x]=at[O]=at[R]=at[H]=at[j]=at[K]=!0,at[b]=at[_]=at[U]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ut=parseInt,ct="object"==typeof N&&N&&N.Object===Object&&N,dt="object"==typeof self&&self&&self.Object===Object&&self,At=ct||dt||Function("return this")(),ht=t&&!t.nodeType&&t,ft=ht&&e&&!e.nodeType&&e,pt=ft&&ft.exports===ht,gt=pt&&ct.process,mt=function(){try{var e=ft&&ft.require&&ft.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),vt=mt&&mt.isArrayBuffer,yt=mt&&mt.isDate,bt=mt&&mt.isMap,_t=mt&&mt.isRegExp,wt=mt&&mt.isSet,Bt=mt&&mt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Rt(e,t,0)>-1}function Ut(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ft(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Qt=Vt("length");function Dt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Mt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Rt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Mt(e,jt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function jt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Wt(e,t)/n:h}function Vt(e){return function(t){return null==t?n:t[e]}}function zt(e){return function(t){return null==e?n:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Wt(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,hn(e)+1).replace(oe,""):e}function Jt(e){return function(t){return e(t)}}function Yt(e,t){return Nt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&Rt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Rt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=zt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),rn=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function an(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){return an(e)?function(e){var t=Ze.lastIndex=0;for(;Ze.test(e);)++t;return t}(e):Qt(e)}function An(e){return an(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var fn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var pn=function e(t){var N,ae=(t=null==t?At:pn.defaults(At.Object(),t,pn.pick(At,rt))).Array,Be=t.Date,Ce=t.Error,Ee=t.Function,Te=t.Math,Se=t.Object,ke=t.RegExp,xe=t.String,Oe=t.TypeError,Ue=ae.prototype,Ne=Ee.prototype,Ie=Se.prototype,Fe=t["__core-js_shared__"],Le=Ne.toString,Pe=Ie.hasOwnProperty,Qe=0,De=(N=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",Me=Ie.toString,Re=Le.call(Se),He=At._,je=ke("^"+Le.call(Pe).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=pt?t.Buffer:n,Ve=t.Symbol,ze=t.Uint8Array,qe=Ke?Ke.allocUnsafe:n,We=ln(Se.getPrototypeOf,Se),Ge=Se.create,Xe=Ie.propertyIsEnumerable,Je=Ue.splice,Ze=Ve?Ve.isConcatSpreadable:n,tt=Ve?Ve.iterator:n,st=Ve?Ve.toStringTag:n,ct=function(){try{var e=ho(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),dt=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,ht=Be&&Be.now!==At.Date.now&&Be.now,ft=t.setTimeout!==At.setTimeout&&t.setTimeout,gt=Te.ceil,mt=Te.floor,Qt=Se.getOwnPropertySymbols,zt=Ke?Ke.isBuffer:n,gn=t.isFinite,mn=Ue.join,vn=ln(Se.keys,Se),yn=Te.max,bn=Te.min,_n=Be.now,wn=t.parseInt,Bn=Te.random,Cn=Ue.reverse,En=ho(t,"DataView"),Tn=ho(t,"Map"),Sn=ho(t,"Promise"),kn=ho(t,"Set"),xn=ho(t,"WeakMap"),On=ho(Se,"create"),Un=xn&&new xn,Nn={},In=Ko(En),Fn=Ko(Tn),Ln=Ko(Sn),Pn=Ko(kn),Qn=Ko(xn),Dn=Ve?Ve.prototype:n,Mn=Dn?Dn.valueOf:n,Rn=Dn?Dn.toString:n;function Hn(e){if(as(e)&&!Xa(e)&&!(e instanceof zn)){if(e instanceof Vn)return e;if(Pe.call(e,"__wrapped__"))return Vo(e)}return new Vn(e)}var jn=function(){function e(){}return function(t){if(!os(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Kn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Yn(e,t){var n=Xa(e),r=!n&&Ga(e),i=!n&&!r&&Za(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Gt(e.length,xe):[],l=s.length;for(var u in e)!t&&!Pe.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bo(u,l))||s.push(u);return s}function $n(e){var t=e.length;return t?e[Xr(0,t-1)]:n}function Zn(e,t){return Qo(Oi(e),lr(t,0,e.length))}function er(e){return Qo(Oi(e))}function tr(e,t,r){(r!==n&&!za(e[t],r)||r===n&&!(t in e))&&ar(e,t,r)}function nr(e,t,r){var i=e[t];Pe.call(e,t)&&za(i,r)&&(r!==n||t in e)||ar(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ui(t,Ps(t),e)}function ar(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,o=ae(i),a=null==e;++r<i;)o[r]=a?n:Us(e,t[r]);return o}function lr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ur(e,t,r,i,o,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=o?r(e,i,o,a):r(e)),s!==n)return s;if(!os(e))return e;var d=Xa(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Pe.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Oi(e,s)}else{var A=go(e),h=A==_||A==w;if(Za(e))return Ci(e,l);if(A==E||A==g||h&&!o){if(s=u||h?{}:vo(e),!l)return u?function(e,t){return Ui(e,po(e),t)}(e,function(e,t){return e&&Ui(t,Qs(t),e)}(s,e)):function(e,t){return Ui(e,fo(e),t)}(e,or(s,e))}else{if(!at[A])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return Ei(e);case v:case y:return new r(+e);case F:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case P:case Q:case D:case M:case R:case H:case j:case K:return Ti(e,n);case B:return new r;case C:case x:return new r(e);case S:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new r;case O:return i=e,Mn?Se(Mn.call(i)):{}}var i}(e,A,l)}}a||(a=new Jn);var f=a.get(e);if(f)return f;a.set(e,s),ds(e)?e.forEach((function(n){s.add(ur(n,t,r,n,e,a))})):ss(e)&&e.forEach((function(n,i){s.set(i,ur(n,t,r,i,e,a))}));var p=d?n:(c?u?oo:io:u?Qs:Ps)(e);return Tt(p||e,(function(n,i){p&&(n=e[i=n]),nr(s,i,ur(n,t,r,i,e,a))})),s}function cr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Se(e);i--;){var o=r[i],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function dr(e,t,i){if("function"!=typeof e)throw new Oe(r);return Io((function(){e.apply(n,i)}),t)}function Ar(e,t,n,r){var i=-1,o=Ot,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Nt(t,Jt(n))),r?(o=Ut,a=!1):t.length>=200&&(o=$t,a=!1,t=new Xn(t));e:for(;++i<s;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var A=u;A--;)if(t[A]===d)continue e;l.push(c)}else o(t,d,r)||l.push(c)}return l}Hn.templateSettings={escape:Y,evaluate:$,interpolate:Z,variable:"",imports:{_:Hn}},Hn.prototype=Kn.prototype,Hn.prototype.constructor=Hn,Vn.prototype=jn(Kn.prototype),Vn.prototype.constructor=Vn,zn.prototype=jn(Kn.prototype),zn.prototype.constructor=zn,qn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(On){var r=t[e];return r===i?n:r}return Pe.call(t,e)?t[e]:n},qn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==n:Pe.call(t,e)},qn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=On&&t===n?i:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},Wn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},Wn.prototype.has=function(e){return rr(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Tn||Wn),string:new qn}},Gn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return co(this,e).get(e)},Gn.prototype.has=function(e){return co(this,e).has(e)},Gn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,i),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=Fi(_r),fr=Fi(wr,!0);function pr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(l===n?s==s&&!hs(s):r(s,l)))var l=s,u=a}return u}function mr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):It(i,s):r||(i[i.length]=s)}return i}var yr=Li(),br=Li(!0);function _r(e,t){return e&&yr(e,t,Ps)}function wr(e,t){return e&&br(e,t,Ps)}function Br(e,t){return xt(t,(function(t){return ns(e[t])}))}function Cr(e,t){for(var r=0,i=(t=bi(t,e)).length;null!=e&&r<i;)e=e[jo(t[r++])];return r&&r==i?e:n}function Er(e,t,n){var r=t(e);return Xa(e)?r:It(r,n(e))}function Tr(e){return null==e?e===n?"[object Undefined]":"[object Null]":st&&st in Se(e)?function(e){var t=Pe.call(e,st),r=e[st];try{e[st]=n;var i=!0}catch(a){}var o=Me.call(e);i&&(t?e[st]=r:delete e[st]);return o}(e):function(e){return Me.call(e)}(e)}function Sr(e,t){return e>t}function kr(e,t){return null!=e&&Pe.call(e,t)}function xr(e,t){return null!=e&&t in Se(e)}function Or(e,t,r){for(var i=r?Ut:Ot,o=e[0].length,a=e.length,s=a,l=ae(a),u=1/0,c=[];s--;){var d=e[s];s&&t&&(d=Nt(d,Jt(t))),u=bn(d.length,u),l[s]=!r&&(t||o>=120&&d.length>=120)?new Xn(s&&d):n}d=e[0];var A=-1,h=l[0];e:for(;++A<o&&c.length<u;){var f=d[A],p=t?t(f):f;if(f=r||0!==f?f:0,!(h?$t(h,p):i(c,p,r))){for(s=a;--s;){var g=l[s];if(!(g?$t(g,p):i(e[s],p,r)))continue e}h&&h.push(p),c.push(f)}}return c}function Ur(e,t,r){var i=null==(e=xo(e,t=bi(t,e)))?e:e[jo(ta(t))];return null==i?n:Ct(i,e,r)}function Nr(e){return as(e)&&Tr(e)==g}function Ir(e,t,r,i,o){return e===t||(null==e||null==t||!as(e)&&!as(t)?e!=e&&t!=t:function(e,t,r,i,o,a){var s=Xa(e),l=Xa(t),u=s?m:go(e),c=l?m:go(t),d=(u=u==g?E:u)==E,A=(c=c==g?E:c)==E,h=u==c;if(h&&Za(e)){if(!Za(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Jn),s||fs(e)?no(e,t,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case F:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case v:case y:case C:return za(+e,+t);case b:return e.name==t.name&&e.message==t.message;case S:case x:return e==t+"";case B:var s=sn;case k:var l=1&r;if(s||(s=cn),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=no(s(e),s(t),r,i,o,a);return a.delete(e),c;case O:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,u,r,i,o,a);if(!(1&r)){var f=d&&Pe.call(e,"__wrapped__"),p=A&&Pe.call(t,"__wrapped__");if(f||p){var _=f?e.value():e,w=p?t.value():t;return a||(a=new Jn),o(_,w,r,i,a)}}if(!h)return!1;return a||(a=new Jn),function(e,t,r,i,o,a){var s=1&r,l=io(e),u=l.length,c=io(t).length;if(u!=c&&!s)return!1;var d=u;for(;d--;){var A=l[d];if(!(s?A in t:Pe.call(t,A)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<u;){var m=e[A=l[d]],v=t[A];if(i)var y=s?i(v,m,A,t,e,a):i(m,v,A,e,t,a);if(!(y===n?m===v||o(m,v,r,i,a):y)){p=!1;break}g||(g="constructor"==A)}if(p&&!g){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,r,i,o,a)}(e,t,r,i,Ir,o))}function Fr(e,t,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=Se(e);o--;){var l=r[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=r[o])[0],c=e[u],d=l[1];if(s&&l[2]){if(c===n&&!(u in e))return!1}else{var A=new Jn;if(i)var h=i(c,d,u,e,t,A);if(!(h===n?Ir(d,c,3,i,A):h))return!1}}return!0}function Lr(e){return!(!os(e)||(t=e,De&&De in t))&&(ns(e)?je:me).test(Ko(e));var t}function Pr(e){return"function"==typeof e?e:null==e?ll:"object"==typeof e?Xa(e)?jr(e[0],e[1]):Hr(e):ml(e)}function Qr(e){if(!Eo(e))return vn(e);var t=[];for(var n in Se(e))Pe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!os(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Pe.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Rr(e,t){var n=-1,r=Ya(e)?ae(e.length):[];return hr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Hr(e){var t=Ao(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Fr(n,e,t)}}function jr(e,t){return wo(e)&&To(t)?So(jo(e),t):function(r){var i=Us(r,e);return i===n&&i===t?Ns(r,e):Ir(t,i,3)}}function Kr(e,t,r,i,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Jn),os(a))!function(e,t,r,i,o,a,s){var l=Uo(e,r),u=Uo(t,r),c=s.get(u);if(c)return void tr(e,r,c);var d=a?a(l,u,r+"",e,t,s):n,A=d===n;if(A){var h=Xa(u),f=!h&&Za(u),p=!h&&!f&&fs(u);d=u,h||f||p?Xa(l)?d=l:$a(l)?d=Oi(l):f?(A=!1,d=Ci(u,!0)):p?(A=!1,d=Ti(u,!0)):d=[]:us(u)||Ga(u)?(d=l,Ga(l)?d=ws(l):os(l)&&!ns(l)||(d=vo(u))):A=!1}A&&(s.set(u,d),o(d,u,i,a,s),s.delete(u));tr(e,r,d)}(e,t,s,r,Kr,i,o);else{var l=i?i(Uo(e,s),a,s+"",e,t,o):n;l===n&&(l=a),tr(e,s,l)}}),Qs)}function Vr(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:n}function zr(e,t,n){t=t.length?Nt(t,(function(e){return Xa(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[ll];var r=-1;return t=Nt(t,Jt(uo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Rr(e,(function(e,n,i){return{criteria:Nt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var l=Si(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Cr(e,a);n(s,a)&&ei(o,bi(a,e),s)}return o}function Wr(e,t,n,r){var i=r?Ht:Rt,o=-1,a=t.length,s=e;for(e===t&&(t=Oi(t)),n&&(s=Nt(e,Jt(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Je.call(s,l,1),Je.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Je.call(e,i,1):Ai(e,i)}}return e}function Xr(e,t){return e+mt(Bn()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>A)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Fo(ko(e,t,ll),e+"")}function $r(e){return $n(zs(e))}function Zr(e,t){var n=zs(e);return Qo(n,lr(t,0,n.length))}function ei(e,t,r,i){if(!os(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=jo(t[o]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=l[u];(c=i?i(d,u,l):n)===n&&(c=os(d)?d:bo(t[o+1])?[]:{})}nr(l,u,c),l=l[u]}return e}var ti=Un?function(e,t){return Un.set(e,t),e}:ll,ni=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:ol(t),writable:!0})}:ll;function ri(e){return Qo(zs(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=ae(i);++r<i;)o[r]=e[r+t];return o}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!hs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ll,n)}function si(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,l=null===t,u=hs(t),c=t===n;o<a;){var d=mt((o+a)/2),A=r(e[d]),h=A!==n,f=null===A,p=A==A,g=hs(A);if(s)var m=i||p;else m=c?p&&(i||h):l?p&&h&&(i||!f):u?p&&h&&!f&&(i||!g):!f&&!g&&(i?A<=t:A<t);m?o=d+1:a=d}return bn(a,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!za(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:hs(e)?h:+e}function ci(e){if("string"==typeof e)return e;if(Xa(e))return Nt(e,ci)+"";if(hs(e))return Rn?Rn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Ot,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Ut;else if(o>=200){var u=t?null:Ji(e);if(u)return cn(u);a=!1,i=$t,l=new Xn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var A=l.length;A--;)if(l[A]===d)continue e;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s}function Ai(e,t){return null==(e=xo(e,t=bi(t,e)))||delete e[jo(ta(t))]}function hi(e,t,n,r){return ei(e,t,n(Cr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof zn&&(n=n.value()),Ft(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,o=ae(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Ar(o[i]||a,e[s],t,n));return di(vr(o,1),t,n)}function mi(e,t,r){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var l=i<a?t[i]:n;r(s,e[i],l)}return s}function vi(e){return $a(e)?e:[]}function yi(e){return"function"==typeof e?e:ll}function bi(e,t){return Xa(e)?e:wo(e,t)?[e]:Ho(Bs(e))}var _i=Yr;function wi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var Bi=dt||function(e){return At.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Ti(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=hs(e),s=t!==n,l=null===t,u=t==t,c=hs(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}function ki(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=yn(o-a,0),c=ae(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function xi(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=yn(o-s,0),d=ae(c+u),A=!r;++i<c;)d[i]=e[i];for(var h=i;++l<u;)d[h+l]=t[l];for(;++a<s;)(A||i<o)&&(d[h+n[a]]=e[i++]);return d}function Oi(e,t){var n=-1,r=e.length;for(t||(t=ae(r));++n<r;)t[n]=e[n];return t}function Ui(e,t,r,i){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),o?ar(r,l,u):nr(r,l,u)}return r}function Ni(e,t){return function(n,r){var i=Xa(n)?Et:ir,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ii(e){return Yr((function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&_o(r[0],r[1],s)&&(a=o<3?n:a,o=1),t=Se(t);++i<o;){var l=r[i];l&&e(t,l,i,a)}return t}))}function Fi(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Se(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Se(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function Pi(e){return function(t){var r=an(t=Bs(t))?An(t):n,i=r?r[0]:t.charAt(0),o=r?wi(r,1).join(""):t.slice(1);return i[e]()+o}}function Qi(e){return function(t){return Ft(nl(Gs(t).replace(Ye,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return os(r)?r:n}}function Mi(e){return function(t,r,i){var o=Se(t);if(!Ya(t)){var a=uo(r,3);t=Ps(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,i);return s>-1?o[a?t[s]:s]:n}}function Ri(e){return ro((function(t){var i=t.length,o=i,a=Vn.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new Oe(r);if(a&&!l&&"wrapper"==so(s))var l=new Vn([],!0)}for(o=l?o:i;++o<i;){var u=so(s=t[o]),c="wrapper"==u?ao(s):n;l=c&&Bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[so(c[0])].apply(l,c[3]):1==s.length&&Bo(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Xa(n))return l.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function Hi(e,t,r,i,o,a,s,l,c,d){var A=t&u,h=1&t,f=2&t,p=24&t,g=512&t,m=f?n:Di(e);return function n(){for(var u=arguments.length,v=ae(u),y=u;y--;)v[y]=arguments[y];if(p)var b=lo(n),_=tn(v,b);if(i&&(v=ki(v,i,o,p)),a&&(v=xi(v,a,s,p)),u-=_,p&&u<d){var w=un(v,b);return Gi(e,t,Hi,n.placeholder,r,v,w,l,c,d-u)}var B=h?r:this,C=f?B[e]:e;return u=v.length,l?v=Oo(v,l):g&&u>1&&v.reverse(),A&&c<u&&(v.length=c),this&&this!==At&&this instanceof n&&(C=m||Di(C)),C.apply(B,v)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ki(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=ci(r),i=ci(i)):(r=ui(r),i=ui(i)),o=e(r,i)}return o}}function Vi(e){return ro((function(t){return t=Nt(t,Jt(uo())),Yr((function(n){var r=this;return e(t,(function(e){return Ct(e,r,n)}))}))}))}function zi(e,t){var r=(t=t===n?" ":ci(t)).length;if(r<2)return r?Jr(t,e):t;var i=Jr(t,gt(e/dn(t)));return an(t)?wi(An(i),0,e).join(""):i.slice(0,e)}function qi(e){return function(t,r,i){return i&&"number"!=typeof i&&_o(t,r,i)&&(r=i=n),t=vs(t),r===n?(r=t,t=0):r=vs(r),function(e,t,n,r){for(var i=-1,o=yn(gt((t-e)/(n||1)),0),a=ae(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,r,i=i===n?t<r?1:-1:vs(i),e)}}function Wi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_s(t),n=_s(n)),e(t,n)}}function Gi(e,t,r,i,o,a,u,c,d,A){var h=8&t;t|=h?s:l,4&(t&=~(h?l:s))||(t&=-4);var f=[e,t,o,h?a:n,h?u:n,h?n:a,h?n:u,c,d,A],p=r.apply(n,f);return Bo(e)&&No(p,f),p.placeholder=i,Lo(p,e,t)}function Xi(e){var t=Te[e];return function(e,n){if(e=_s(e),(n=null==n?0:bn(ys(n),292))&&gn(e)){var r=(Bs(e)+"e").split("e");return+((r=(Bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ji=kn&&1/cn(new kn([,-0]))[1]==d?function(e){return new kn(e)}:hl;function Yi(e){return function(t){var n=go(t);return n==B?sn(t):n==k?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $i(e,t,i,d,A,h,f,p){var g=2&t;if(!g&&"function"!=typeof e)throw new Oe(r);var m=d?d.length:0;if(m||(t&=-97,d=A=n),f=f===n?f:yn(ys(f),0),p=p===n?p:ys(p),m-=A?A.length:0,t&l){var v=d,y=A;d=A=n}var b=g?n:ao(e),_=[e,t,i,d,A,v,y,h,f,p];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var d=e[3];e[3]=d?ki(d,l,t[4]):l,e[4]=d?un(e[3],o):t[4]}(l=t[5])&&(d=e[5],e[5]=d?xi(d,l,t[6]):l,e[6]=d?un(e[5],o):t[6]);(l=t[7])&&(e[7]=l);r&u&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(_,b),e=_[0],t=_[1],i=_[2],d=_[3],A=_[4],!(p=_[9]=_[9]===n?g?0:e.length:yn(_[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==a?function(e,t,r){var i=Di(e);return function o(){for(var a=arguments.length,s=ae(a),l=a,u=lo(o);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:un(s,u);return(a-=c.length)<r?Gi(e,t,Hi,o.placeholder,n,s,c,n,n,r-a):Ct(this&&this!==At&&this instanceof o?i:e,this,s)}}(e,t,p):t!=s&&33!=t||A.length?Hi.apply(n,_):function(e,t,n,r){var i=1&t,o=Di(e);return function t(){for(var a=-1,s=arguments.length,l=-1,u=r.length,c=ae(u+s),d=this&&this!==At&&this instanceof t?o:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++a];return Ct(d,i?n:this,c)}}(e,t,i,d);else var w=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Lo((b?ti:No)(w,_),e,t)}function Zi(e,t,r,i){return e===n||za(e,Ie[r])&&!Pe.call(i,r)?t:e}function eo(e,t,r,i,o,a){return os(e)&&os(t)&&(a.set(t,e),Kr(e,t,n,eo,a),a.delete(t)),e}function to(e){return us(e)?n:e}function no(e,t,r,i,o,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var A=-1,h=!0,f=2&r?new Xn:n;for(a.set(e,t),a.set(t,e);++A<l;){var p=e[A],g=t[A];if(i)var m=s?i(g,p,A,t,e,a):i(p,g,A,e,t,a);if(m!==n){if(m)continue;h=!1;break}if(f){if(!Pt(t,(function(e,t){if(!$t(f,t)&&(p===e||o(p,e,r,i,a)))return f.push(t)}))){h=!1;break}}else if(p!==g&&!o(p,g,r,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Fo(ko(e,n,Jo),e+"")}function io(e){return Er(e,Ps,fo)}function oo(e){return Er(e,Qs,po)}var ao=Un?function(e){return Un.get(e)}:hl;function so(e){for(var t=e.name+"",n=Nn[t],r=Pe.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Pe.call(Hn,"placeholder")?Hn:e).placeholder}function uo(){var e=Hn.iteratee||ul;return e=e===ul?Pr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ao(e){for(var t=Ps(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,To(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var fo=Qt?function(e){return null==e?[]:(e=Se(e),xt(Qt(e),(function(t){return Xe.call(e,t)})))}:bl,po=Qt?function(e){for(var t=[];e;)It(t,fo(e)),e=We(e);return t}:bl,go=Tr;function mo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=jo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&is(i)&&bo(a,i)&&(Xa(e)||Ga(e))}function vo(e){return"function"!=typeof e.constructor||Eo(e)?{}:jn(We(e))}function yo(e){return Xa(e)||Ga(e)||!!(Ze&&e&&e[Ze])}function bo(e,t){var n=typeof e;return!!(t=null==t?A:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,n){if(!os(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&bo(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function wo(e,t){if(Xa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!hs(e))||(te.test(e)||!ee.test(e)||null!=t&&e in Se(t))}function Bo(e){var t=so(e),n=Hn[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(En&&go(new En(new ArrayBuffer(1)))!=F||Tn&&go(new Tn)!=B||Sn&&go(Sn.resolve())!=T||kn&&go(new kn)!=k||xn&&go(new xn)!=U)&&(go=function(e){var t=Tr(e),r=t==E?e.constructor:n,i=r?Ko(r):"";if(i)switch(i){case In:return F;case Fn:return B;case Ln:return T;case Pn:return k;case Qn:return U}return t});var Co=Fe?ns:_l;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function To(e){return e==e&&!os(e)}function So(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Se(r)))}}function ko(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=yn(n.length-t,0),a=ae(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=ae(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),Ct(e,this,s)}}function xo(e,t){return t.length<2?e:Cr(e,ii(t,0,-1))}function Oo(e,t){for(var r=e.length,i=bn(t.length,r),o=Oi(e);i--;){var a=t[i];e[i]=bo(a,r)?o[a]:n}return e}function Uo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var No=Po(ti),Io=ft||function(e,t){return At.setTimeout(e,t)},Fo=Po(ni);function Lo(e,t,n){var r=t+"";return Fo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(p,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(r),n)))}function Po(e){var t=0,r=0;return function(){var i=_n(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Qo(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=Xr(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Do,Mo,Ro,Ho=(Do=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,n,r,i){t.push(r?i.replace(Ae,"$1"):n||e)})),t},Mo=Ma(Do,(function(e){return 500===Ro.size&&Ro.clear(),e})),Ro=Mo.cache,Mo);function jo(e){if("string"==typeof e||hs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ko(e){if(null!=e){try{return Le.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof zn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Yr((function(e,t){return $a(e)?Ar(e,vr(t,1,$a,!0)):[]})),qo=Yr((function(e,t){var r=ta(t);return $a(r)&&(r=n),$a(e)?Ar(e,vr(t,1,$a,!0),uo(r,2)):[]})),Wo=Yr((function(e,t){var r=ta(t);return $a(r)&&(r=n),$a(e)?Ar(e,vr(t,1,$a,!0),n,r):[]}));function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=yn(r+i,0)),Mt(e,uo(t,3),i)}function Xo(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=ys(r),o=r<0?yn(i+o,0):bn(o,i-1)),Mt(e,uo(t,3),o,!0)}function Jo(e){return(null==e?0:e.length)?vr(e,1):[]}function Yo(e){return e&&e.length?e[0]:n}var $o=Yr((function(e){var t=Nt(e,vi);return t.length&&t[0]===e[0]?Or(t):[]})),Zo=Yr((function(e){var t=ta(e),r=Nt(e,vi);return t===ta(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Or(r,uo(t,2)):[]})),ea=Yr((function(e){var t=ta(e),r=Nt(e,vi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Or(r,n,t):[]}));function ta(e){var t=null==e?0:e.length;return t?e[t-1]:n}var na=Yr(ra);function ra(e,t){return e&&e.length&&t&&t.length?Wr(e,t):e}var ia=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Nt(t,(function(e){return bo(e,n)?+e:e})).sort(Si)),r}));function oa(e){return null==e?e:Cn.call(e)}var aa=Yr((function(e){return di(vr(e,1,$a,!0))})),sa=Yr((function(e){var t=ta(e);return $a(t)&&(t=n),di(vr(e,1,$a,!0),uo(t,2))})),la=Yr((function(e){var t=ta(e);return t="function"==typeof t?t:n,di(vr(e,1,$a,!0),n,t)}));function ua(e){if(!e||!e.length)return[];var t=0;return e=xt(e,(function(e){if($a(e))return t=yn(e.length,t),!0})),Gt(t,(function(t){return Nt(e,Vt(t))}))}function ca(e,t){if(!e||!e.length)return[];var r=ua(e);return null==t?r:Nt(r,(function(e){return Ct(t,n,e)}))}var da=Yr((function(e,t){return $a(e)?Ar(e,t):[]})),Aa=Yr((function(e){return gi(xt(e,$a))})),ha=Yr((function(e){var t=ta(e);return $a(t)&&(t=n),gi(xt(e,$a),uo(t,2))})),fa=Yr((function(e){var t=ta(e);return t="function"==typeof t?t:n,gi(xt(e,$a),n,t)})),pa=Yr(ua);var ga=Yr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ca(e,r)}));function ma(e){var t=Hn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ya=ro((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof zn&&bo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:n}),new Vn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var ba=Ni((function(e,t,n){Pe.call(e,n)?++e[n]:ar(e,n,1)}));var _a=Mi(Go),wa=Mi(Xo);function Ba(e,t){return(Xa(e)?Tt:hr)(e,uo(t,3))}function Ca(e,t){return(Xa(e)?St:fr)(e,uo(t,3))}var Ea=Ni((function(e,t,n){Pe.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ta=Yr((function(e,t,n){var r=-1,i="function"==typeof t,o=Ya(e)?ae(e.length):[];return hr(e,(function(e){o[++r]=i?Ct(t,e,n):Ur(e,t,n)})),o})),Sa=Ni((function(e,t,n){ar(e,n,t)}));function ka(e,t){return(Xa(e)?Nt:Rr)(e,uo(t,3))}var xa=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Oa=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_o(e,t[0],t[1])?t=[]:n>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),zr(e,vr(t,1),[])})),Ua=ht||function(){return At.Date.now()};function Na(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,$i(e,u,n,n,n,n,t)}function Ia(e,t){var i;if("function"!=typeof t)throw new Oe(r);return e=ys(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Fa=Yr((function(e,t,n){var r=1;if(n.length){var i=un(n,lo(Fa));r|=s}return $i(e,r,t,n,i)})),La=Yr((function(e,t,n){var r=3;if(n.length){var i=un(n,lo(La));r|=s}return $i(t,r,e,n,i)}));function Pa(e,t,i){var o,a,s,l,u,c,d=0,A=!1,h=!1,f=!0;if("function"!=typeof e)throw new Oe(r);function p(t){var r=o,i=a;return o=a=n,d=t,l=e.apply(i,r)}function g(e){return d=e,u=Io(v,t),A?p(e):l}function m(e){var r=e-c;return c===n||r>=t||r<0||h&&e-d>=s}function v(){var e=Ua();if(m(e))return y(e);u=Io(v,function(e){var n=t-(e-c);return h?bn(n,s-(e-d)):n}(e))}function y(e){return u=n,f&&o?p(e):(o=a=n,l)}function b(){var e=Ua(),r=m(e);if(o=arguments,a=this,c=e,r){if(u===n)return g(c);if(h)return Bi(u),u=Io(v,t),p(c)}return u===n&&(u=Io(v,t)),l}return t=_s(t)||0,os(i)&&(A=!!i.leading,s=(h="maxWait"in i)?yn(_s(i.maxWait)||0,t):s,f="trailing"in i?!!i.trailing:f),b.cancel=function(){u!==n&&Bi(u),d=0,o=c=a=u=n},b.flush=function(){return u===n?l:y(Ua())},b}var Qa=Yr((function(e,t){return dr(e,1,t)})),Da=Yr((function(e,t,n){return dr(e,_s(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ma.Cache||Gn),n}function Ra(e){if("function"!=typeof e)throw new Oe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Gn;var Ha=_i((function(e,t){var n=(t=1==t.length&&Xa(t[0])?Nt(t[0],Jt(uo())):Nt(vr(t,1),Jt(uo()))).length;return Yr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)}))})),ja=Yr((function(e,t){var r=un(t,lo(ja));return $i(e,s,n,t,r)})),Ka=Yr((function(e,t){var r=un(t,lo(Ka));return $i(e,l,n,t,r)})),Va=ro((function(e,t){return $i(e,c,n,n,n,t)}));function za(e,t){return e===t||e!=e&&t!=t}var qa=Wi(Sr),Wa=Wi((function(e,t){return e>=t})),Ga=Nr(function(){return arguments}())?Nr:function(e){return as(e)&&Pe.call(e,"callee")&&!Xe.call(e,"callee")},Xa=ae.isArray,Ja=vt?Jt(vt):function(e){return as(e)&&Tr(e)==I};function Ya(e){return null!=e&&is(e.length)&&!ns(e)}function $a(e){return as(e)&&Ya(e)}var Za=zt||_l,es=yt?Jt(yt):function(e){return as(e)&&Tr(e)==y};function ts(e){if(!as(e))return!1;var t=Tr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!us(e)}function ns(e){if(!os(e))return!1;var t=Tr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function rs(e){return"number"==typeof e&&e==ys(e)}function is(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=A}function os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function as(e){return null!=e&&"object"==typeof e}var ss=bt?Jt(bt):function(e){return as(e)&&go(e)==B};function ls(e){return"number"==typeof e||as(e)&&Tr(e)==C}function us(e){if(!as(e)||Tr(e)!=E)return!1;var t=We(e);if(null===t)return!0;var n=Pe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Le.call(n)==Re}var cs=_t?Jt(_t):function(e){return as(e)&&Tr(e)==S};var ds=wt?Jt(wt):function(e){return as(e)&&go(e)==k};function As(e){return"string"==typeof e||!Xa(e)&&as(e)&&Tr(e)==x}function hs(e){return"symbol"==typeof e||as(e)&&Tr(e)==O}var fs=Bt?Jt(Bt):function(e){return as(e)&&is(e.length)&&!!ot[Tr(e)]};var ps=Wi(Mr),gs=Wi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Ya(e))return As(e)?An(e):Oi(e);if(tt&&e[tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[tt]());var t=go(e);return(t==B?sn:t==k?cn:zs)(e)}function vs(e){return e?(e=_s(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ys(e){var t=vs(e),n=t%1;return t==t?n?t-n:t:0}function bs(e){return e?lr(ys(e),0,f):0}function _s(e){if("number"==typeof e)return e;if(hs(e))return h;if(os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ge.test(e);return n||ve.test(e)?ut(e.slice(2),n?2:8):pe.test(e)?h:+e}function ws(e){return Ui(e,Qs(e))}function Bs(e){return null==e?"":ci(e)}var Cs=Ii((function(e,t){if(Eo(t)||Ya(t))Ui(t,Ps(t),e);else for(var n in t)Pe.call(t,n)&&nr(e,n,t[n])})),Es=Ii((function(e,t){Ui(t,Qs(t),e)})),Ts=Ii((function(e,t,n,r){Ui(t,Qs(t),e,r)})),Ss=Ii((function(e,t,n,r){Ui(t,Ps(t),e,r)})),ks=ro(sr);var xs=Yr((function(e,t){e=Se(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&_o(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],s=Qs(a),l=-1,u=s.length;++l<u;){var c=s[l],d=e[c];(d===n||za(d,Ie[c])&&!Pe.call(e,c))&&(e[c]=a[c])}return e})),Os=Yr((function(e){return e.push(n,eo),Ct(Ms,n,e)}));function Us(e,t,r){var i=null==e?n:Cr(e,t);return i===n?r:i}function Ns(e,t){return null!=e&&mo(e,t,xr)}var Is=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),ol(ll)),Fs=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Pe.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ls=Yr(Ur);function Ps(e){return Ya(e)?Yn(e):Qr(e)}function Qs(e){return Ya(e)?Yn(e,!0):Dr(e)}var Ds=Ii((function(e,t,n){Kr(e,t,n)})),Ms=Ii((function(e,t,n,r){Kr(e,t,n,r)})),Rs=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ui(e,oo(e),n),r&&(n=ur(n,7,to));for(var i=t.length;i--;)Ai(n,t[i]);return n}));var Hs=ro((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Ns(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Nt(oo(e),(function(e){return[e]}));return t=uo(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Ks=Yi(Ps),Vs=Yi(Qs);function zs(e){return null==e?[]:Yt(e,Ps(e))}var qs=Qi((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return tl(Bs(e).toLowerCase())}function Gs(e){return(e=Bs(e))&&e.replace(be,nn).replace($e,"")}var Xs=Qi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Js=Qi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Pi("toLowerCase");var $s=Qi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Zs=Qi((function(e,t,n){return e+(n?" ":"")+tl(t)}));var el=Qi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),tl=Pi("toUpperCase");function nl(e,t,r){return e=Bs(e),(t=r?n:t)===n?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var rl=Yr((function(e,t){try{return Ct(e,n,t)}catch(r){return ts(r)?r:new Ce(r)}})),il=ro((function(e,t){return Tt(t,(function(t){t=jo(t),ar(e,t,Fa(e[t],e))})),e}));function ol(e){return function(){return e}}var al=Ri(),sl=Ri(!0);function ll(e){return e}function ul(e){return Pr("function"==typeof e?e:ur(e,1))}var cl=Yr((function(e,t){return function(n){return Ur(n,e,t)}})),dl=Yr((function(e,t){return function(n){return Ur(e,n,t)}}));function Al(e,t,n){var r=Ps(t),i=Br(t,r);null!=n||os(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Br(t,Ps(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function hl(){}var fl=Vi(Nt),pl=Vi(kt),gl=Vi(Pt);function ml(e){return wo(e)?Vt(jo(e)):function(e){return function(t){return Cr(t,e)}}(e)}var vl=qi(),yl=qi(!0);function bl(){return[]}function _l(){return!1}var wl=Ki((function(e,t){return e+t}),0),Bl=Xi("ceil"),Cl=Ki((function(e,t){return e/t}),1),El=Xi("floor");var Tl,Sl=Ki((function(e,t){return e*t}),1),kl=Xi("round"),xl=Ki((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new Oe(r);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Na,Hn.assign=Cs,Hn.assignIn=Es,Hn.assignInWith=Ts,Hn.assignWith=Ss,Hn.at=ks,Hn.before=Ia,Hn.bind=Fa,Hn.bindAll=il,Hn.bindKey=La,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Xa(e)?e:[e]},Hn.chain=ma,Hn.chunk=function(e,t,r){t=(r?_o(e,t,r):t===n)?1:yn(ys(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=ae(gt(i/t));o<i;)s[a++]=ii(e,o,o+=t);return s},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return It(Xa(n)?Oi(n):[n],vr(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Oe(r);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=Ps(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Hn.constant=ol,Hn.countBy=ba,Hn.create=function(e,t){var n=jn(e);return null==t?n:or(n,t)},Hn.curry=function e(t,r,i){var o=$i(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,r,i){var o=$i(t,a,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Hn.debounce=Pa,Hn.defaults=xs,Hn.defaultsDeep=Os,Hn.defer=Qa,Hn.delay=Da,Hn.difference=zo,Hn.differenceBy=qo,Hn.differenceWith=Wo,Hn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:ys(t))<0?0:t,i):[]},Hn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:ys(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!0):[]},Hn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=ys(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:ys(i))<0&&(i+=o),i=r>i?0:bs(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Hn.filter=function(e,t){return(Xa(e)?xt:mr)(e,uo(t,3))},Hn.flatMap=function(e,t){return vr(ka(e,t),1)},Hn.flatMapDeep=function(e,t){return vr(ka(e,t),d)},Hn.flatMapDepth=function(e,t,r){return r=r===n?1:ys(r),vr(ka(e,t),r)},Hn.flatten=Jo,Hn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,d):[]},Hn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===n?1:ys(t)):[]},Hn.flip=function(e){return $i(e,512)},Hn.flow=al,Hn.flowRight=sl,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:Br(e,Ps(e))},Hn.functionsIn=function(e){return null==e?[]:Br(e,Qs(e))},Hn.groupBy=Ea,Hn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Hn.intersection=$o,Hn.intersectionBy=Zo,Hn.intersectionWith=ea,Hn.invert=Is,Hn.invertBy=Fs,Hn.invokeMap=Ta,Hn.iteratee=ul,Hn.keyBy=Sa,Hn.keys=Ps,Hn.keysIn=Qs,Hn.map=ka,Hn.mapKeys=function(e,t){var n={};return t=uo(t,3),_r(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=uo(t,3),_r(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(ur(e,1))},Hn.matchesProperty=function(e,t){return jr(e,ur(t,1))},Hn.memoize=Ma,Hn.merge=Ds,Hn.mergeWith=Ms,Hn.method=cl,Hn.methodOf=dl,Hn.mixin=Al,Hn.negate=Ra,Hn.nthArg=function(e){return e=ys(e),Yr((function(t){return Vr(t,e)}))},Hn.omit=Rs,Hn.omitBy=function(e,t){return js(e,Ra(uo(t)))},Hn.once=function(e){return Ia(2,e)},Hn.orderBy=function(e,t,r,i){return null==e?[]:(Xa(t)||(t=null==t?[]:[t]),Xa(r=i?n:r)||(r=null==r?[]:[r]),zr(e,t,r))},Hn.over=fl,Hn.overArgs=Ha,Hn.overEvery=pl,Hn.overSome=gl,Hn.partial=ja,Hn.partialRight=Ka,Hn.partition=xa,Hn.pick=Hs,Hn.pickBy=js,Hn.property=ml,Hn.propertyOf=function(e){return function(t){return null==e?n:Cr(e,t)}},Hn.pull=na,Hn.pullAll=ra,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Wr(e,t,uo(n,2)):e},Hn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wr(e,t,n,r):e},Hn.pullAt=ia,Hn.range=vl,Hn.rangeRight=yl,Hn.rearg=Va,Hn.reject=function(e,t){return(Xa(e)?xt:mr)(e,Ra(uo(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new Oe(r);return Yr(e,t=t===n?t:ys(t))},Hn.reverse=oa,Hn.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===n)?1:ys(t),(Xa(e)?Zn:Zr)(e,t)},Hn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Hn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},Hn.shuffle=function(e){return(Xa(e)?er:ri)(e)},Hn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=i):(t=null==t?0:ys(t),r=r===n?i:ys(r)),ii(e,t,r)):[]},Hn.sortBy=Oa,Hn.sortedUniq=function(e){return e&&e.length?li(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Hn.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=n),(r=r===n?f:r>>>0)?(e=Bs(e))&&("string"==typeof t||null!=t&&!cs(t))&&!(t=ci(t))&&an(e)?wi(An(e),0,r):e.split(t,r):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new Oe(r);return t=null==t?0:yn(ys(t),0),Yr((function(n){var r=n[t],i=wi(n,0,t);return r&&It(i,r),Ct(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Hn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:ys(t))<0?0:t):[]},Hn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:ys(t)))<0?0:t,i):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?fi(e,uo(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?fi(e,uo(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Oe(r);return os(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Pa(e,t,{leading:i,maxWait:t,trailing:o})},Hn.thru=va,Hn.toArray=ms,Hn.toPairs=Ks,Hn.toPairsIn=Vs,Hn.toPath=function(e){return Xa(e)?Nt(e,jo):hs(e)?[e]:Oi(Ho(Bs(e)))},Hn.toPlainObject=ws,Hn.transform=function(e,t,n){var r=Xa(e),i=r||Za(e)||fs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:os(e)&&ns(o)?jn(We(e)):{}}return(i?Tt:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return Na(e,1)},Hn.union=aa,Hn.unionBy=sa,Hn.unionWith=la,Hn.uniq=function(e){return e&&e.length?di(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?di(e,uo(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?di(e,n,t):[]},Hn.unset=function(e,t){return null==e||Ai(e,t)},Hn.unzip=ua,Hn.unzipWith=ca,Hn.update=function(e,t,n){return null==e?e:hi(e,t,yi(n))},Hn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:hi(e,t,yi(r),i)},Hn.values=zs,Hn.valuesIn=function(e){return null==e?[]:Yt(e,Qs(e))},Hn.without=da,Hn.words=nl,Hn.wrap=function(e,t){return ja(yi(t),e)},Hn.xor=Aa,Hn.xorBy=ha,Hn.xorWith=fa,Hn.zip=pa,Hn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Hn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Hn.zipWith=ga,Hn.entries=Ks,Hn.entriesIn=Vs,Hn.extend=Es,Hn.extendWith=Ts,Al(Hn,Hn),Hn.add=wl,Hn.attempt=rl,Hn.camelCase=qs,Hn.capitalize=Ws,Hn.ceil=Bl,Hn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=_s(r))==r?r:0),t!==n&&(t=(t=_s(t))==t?t:0),lr(_s(e),t,r)},Hn.clone=function(e){return ur(e,4)},Hn.cloneDeep=function(e){return ur(e,5)},Hn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:n)},Hn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:n)},Hn.conformsTo=function(e,t){return null==t||cr(e,t,Ps(t))},Hn.deburr=Gs,Hn.defaultTo=function(e,t){return null==e||e!=e?t:e},Hn.divide=Cl,Hn.endsWith=function(e,t,r){e=Bs(e),t=ci(t);var i=e.length,o=r=r===n?i:lr(ys(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},Hn.eq=za,Hn.escape=function(e){return(e=Bs(e))&&J.test(e)?e.replace(G,rn):e},Hn.escapeRegExp=function(e){return(e=Bs(e))&&ie.test(e)?e.replace(re,"\\$&"):e},Hn.every=function(e,t,r){var i=Xa(e)?kt:pr;return r&&_o(e,t,r)&&(t=n),i(e,uo(t,3))},Hn.find=_a,Hn.findIndex=Go,Hn.findKey=function(e,t){return Dt(e,uo(t,3),_r)},Hn.findLast=wa,Hn.findLastIndex=Xo,Hn.findLastKey=function(e,t){return Dt(e,uo(t,3),wr)},Hn.floor=El,Hn.forEach=Ba,Hn.forEachRight=Ca,Hn.forIn=function(e,t){return null==e?e:yr(e,uo(t,3),Qs)},Hn.forInRight=function(e,t){return null==e?e:br(e,uo(t,3),Qs)},Hn.forOwn=function(e,t){return e&&_r(e,uo(t,3))},Hn.forOwnRight=function(e,t){return e&&wr(e,uo(t,3))},Hn.get=Us,Hn.gt=qa,Hn.gte=Wa,Hn.has=function(e,t){return null!=e&&mo(e,t,kr)},Hn.hasIn=Ns,Hn.head=Yo,Hn.identity=ll,Hn.includes=function(e,t,n,r){e=Ya(e)?e:zs(e),n=n&&!r?ys(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),As(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Rt(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ys(n);return i<0&&(i=yn(r+i,0)),Rt(e,t,i)},Hn.inRange=function(e,t,r){return t=vs(t),r===n?(r=t,t=0):r=vs(r),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=_s(e),t,r)},Hn.invoke=Ls,Hn.isArguments=Ga,Hn.isArray=Xa,Hn.isArrayBuffer=Ja,Hn.isArrayLike=Ya,Hn.isArrayLikeObject=$a,Hn.isBoolean=function(e){return!0===e||!1===e||as(e)&&Tr(e)==v},Hn.isBuffer=Za,Hn.isDate=es,Hn.isElement=function(e){return as(e)&&1===e.nodeType&&!us(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Xa(e)||"string"==typeof e||"function"==typeof e.splice||Za(e)||fs(e)||Ga(e)))return!e.length;var t=go(e);if(t==B||t==k)return!e.size;if(Eo(e))return!Qr(e).length;for(var n in e)if(Pe.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return Ir(e,t)},Hn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Ir(e,t,n,r):!!i},Hn.isError=ts,Hn.isFinite=function(e){return"number"==typeof e&&gn(e)},Hn.isFunction=ns,Hn.isInteger=rs,Hn.isLength=is,Hn.isMap=ss,Hn.isMatch=function(e,t){return e===t||Fr(e,t,Ao(t))},Hn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Fr(e,t,Ao(t),r)},Hn.isNaN=function(e){return ls(e)&&e!=+e},Hn.isNative=function(e){if(Co(e))throw new Ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=ls,Hn.isObject=os,Hn.isObjectLike=as,Hn.isPlainObject=us,Hn.isRegExp=cs,Hn.isSafeInteger=function(e){return rs(e)&&e>=-9007199254740991&&e<=A},Hn.isSet=ds,Hn.isString=As,Hn.isSymbol=hs,Hn.isTypedArray=fs,Hn.isUndefined=function(e){return e===n},Hn.isWeakMap=function(e){return as(e)&&go(e)==U},Hn.isWeakSet=function(e){return as(e)&&"[object WeakSet]"==Tr(e)},Hn.join=function(e,t){return null==e?"":mn.call(e,t)},Hn.kebabCase=Xs,Hn.last=ta,Hn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=ys(r))<0?yn(i+o,0):bn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Mt(e,jt,o,!0)},Hn.lowerCase=Js,Hn.lowerFirst=Ys,Hn.lt=ps,Hn.lte=gs,Hn.max=function(e){return e&&e.length?gr(e,ll,Sr):n},Hn.maxBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Sr):n},Hn.mean=function(e){return Kt(e,ll)},Hn.meanBy=function(e,t){return Kt(e,uo(t,2))},Hn.min=function(e){return e&&e.length?gr(e,ll,Mr):n},Hn.minBy=function(e,t){return e&&e.length?gr(e,uo(t,2),Mr):n},Hn.stubArray=bl,Hn.stubFalse=_l,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=Sl,Hn.nth=function(e,t){return e&&e.length?Vr(e,ys(t)):n},Hn.noConflict=function(){return At._===this&&(At._=He),this},Hn.noop=hl,Hn.now=Ua,Hn.pad=function(e,t,n){e=Bs(e);var r=(t=ys(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return zi(mt(i),n)+e+zi(gt(i),n)},Hn.padEnd=function(e,t,n){e=Bs(e);var r=(t=ys(t))?dn(e):0;return t&&r<t?e+zi(t-r,n):e},Hn.padStart=function(e,t,n){e=Bs(e);var r=(t=ys(t))?dn(e):0;return t&&r<t?zi(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(Bs(e).replace(oe,""),t||0)},Hn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=vs(e),t===n?(t=e,e=0):t=vs(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=Bn();return bn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Xr(e,t)},Hn.reduce=function(e,t,n){var r=Xa(e)?Ft:qt,i=arguments.length<3;return r(e,uo(t,4),n,i,hr)},Hn.reduceRight=function(e,t,n){var r=Xa(e)?Lt:qt,i=arguments.length<3;return r(e,uo(t,4),n,i,fr)},Hn.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===n)?1:ys(t),Jr(Bs(e),t)},Hn.replace=function(){var e=arguments,t=Bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,r){var i=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[jo(t[i])];a===n&&(i=o,a=r),e=ns(a)?a.call(e):a}return e},Hn.round=kl,Hn.runInContext=e,Hn.sample=function(e){return(Xa(e)?$n:$r)(e)},Hn.size=function(e){if(null==e)return 0;if(Ya(e))return As(e)?dn(e):e.length;var t=go(e);return t==B||t==k?e.size:Qr(e).length},Hn.snakeCase=$s,Hn.some=function(e,t,r){var i=Xa(e)?Pt:oi;return r&&_o(e,t,r)&&(t=n),i(e,uo(t,3))},Hn.sortedIndex=function(e,t){return ai(e,t)},Hn.sortedIndexBy=function(e,t,n){return si(e,t,uo(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&za(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return si(e,t,uo(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(za(e[n],t))return n}return-1},Hn.startCase=Zs,Hn.startsWith=function(e,t,n){return e=Bs(e),n=null==n?0:lr(ys(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Hn.subtract=xl,Hn.sum=function(e){return e&&e.length?Wt(e,ll):0},Hn.sumBy=function(e,t){return e&&e.length?Wt(e,uo(t,2)):0},Hn.template=function(e,t,r){var i=Hn.templateSettings;r&&_o(e,t,r)&&(t=n),e=Bs(e),t=Ts({},t,i,Zi);var o,a,s=Ts({},t.imports,i.imports,Zi),l=Ps(s),u=Yt(s,l),c=0,d=t.interpolate||_e,A="__p += '",h=ke((t.escape||_e).source+"|"+d.source+"|"+(d===Z?he:_e).source+"|"+(t.evaluate||_e).source+"|$","g"),f="//# sourceURL="+(Pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(h,(function(t,n,r,i,s,l){return r||(r=i),A+=e.slice(c,l).replace(we,on),n&&(o=!0,A+="' +\n__e("+n+") +\n'"),s&&(a=!0,A+="';\n"+s+";\n__p += '"),r&&(A+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),A+="';\n";var p=Pe.call(t,"variable")&&t.variable;if(p){if(de.test(p))throw new Ce("Invalid `variable` option passed into `_.template`")}else A="with (obj) {\n"+A+"\n}\n";A=(a?A.replace(V,""):A).replace(z,"$1").replace(q,"$1;"),A="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+A+"return __p\n}";var g=rl((function(){return Ee(l,f+"return "+A).apply(n,u)}));if(g.source=A,ts(g))throw g;return g},Hn.times=function(e,t){if((e=ys(e))<1||e>A)return[];var n=f,r=bn(e,f);t=uo(t),e-=f;for(var i=Gt(r,t);++n<e;)t(n);return i},Hn.toFinite=vs,Hn.toInteger=ys,Hn.toLength=bs,Hn.toLower=function(e){return Bs(e).toLowerCase()},Hn.toNumber=_s,Hn.toSafeInteger=function(e){return e?lr(ys(e),-9007199254740991,A):0===e?e:0},Hn.toString=Bs,Hn.toUpper=function(e){return Bs(e).toUpperCase()},Hn.trim=function(e,t,r){if((e=Bs(e))&&(r||t===n))return Xt(e);if(!e||!(t=ci(t)))return e;var i=An(e),o=An(t);return wi(i,Zt(i,o),en(i,o)+1).join("")},Hn.trimEnd=function(e,t,r){if((e=Bs(e))&&(r||t===n))return e.slice(0,hn(e)+1);if(!e||!(t=ci(t)))return e;var i=An(e);return wi(i,0,en(i,An(t))+1).join("")},Hn.trimStart=function(e,t,r){if((e=Bs(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var i=An(e);return wi(i,Zt(i,An(t))).join("")},Hn.truncate=function(e,t){var r=30,i="...";if(os(t)){var o="separator"in t?t.separator:o;r="length"in t?ys(t.length):r,i="omission"in t?ci(t.omission):i}var a=(e=Bs(e)).length;if(an(e)){var s=An(e);a=s.length}if(r>=a)return e;var l=r-dn(i);if(l<1)return i;var u=s?wi(s,0,l).join(""):e.slice(0,l);if(o===n)return u+i;if(s&&(l+=u.length-l),cs(o)){if(e.slice(l).search(o)){var c,d=u;for(o.global||(o=ke(o.source,Bs(fe.exec(o))+"g")),o.lastIndex=0;c=o.exec(d);)var A=c.index;u=u.slice(0,A===n?l:A)}}else if(e.indexOf(ci(o),l)!=l){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i},Hn.unescape=function(e){return(e=Bs(e))&&X.test(e)?e.replace(W,fn):e},Hn.uniqueId=function(e){var t=++Qe;return Bs(e)+t},Hn.upperCase=el,Hn.upperFirst=tl,Hn.each=Ba,Hn.eachRight=Ca,Hn.first=Yo,Al(Hn,(Tl={},_r(Hn,(function(e,t){Pe.call(Hn.prototype,t)||(Tl[t]=e)})),Tl),{chain:!1}),Hn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),Tt(["drop","take"],(function(e,t){zn.prototype[e]=function(r){r=r===n?1:yn(ys(r),0);var i=this.__filtered__&&!t?new zn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,f),type:e+(i.__dir__<0?"Right":"")}),i},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(ll)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return Ur(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ra(uo(e)))},zn.prototype.slice=function(e,t){e=ys(e);var r=this;return r.__filtered__&&(e>0||t<0)?new zn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ys(t))<0?r.dropRight(-t):r.take(t-e)),r)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(f)},_r(zn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Hn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof zn,u=s[0],c=l||Xa(t),d=function(e){var t=o.apply(Hn,It([e],s));return i&&A?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var A=this.__chain__,h=!!this.__actions__.length,f=a&&!A,p=l&&!h;if(!a&&c){t=p?t:new zn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[d],thisArg:n}),new Vn(g,A)}return f&&p?e.apply(this,s):(g=this.thru(d),f?i?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ue[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Xa(i)?i:[],e)}return this[n]((function(n){return t.apply(Xa(n)?n:[],e)}))}})),_r(zn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Pe.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Hi(n,2).name]=[{name:"wrapper",func:n}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Xa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,A=0,h=bn(l,this.__takeCount__);if(!n||!r&&i==l&&h==l)return pi(e,this.__actions__);var f=[];e:for(;l--&&A<h;){for(var p=-1,g=e[u+=t];++p<d;){var m=c[p],v=m.iteratee,y=m.type,b=v(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}f[A++]=g}return f},Hn.prototype.at=ya,Hn.prototype.chain=function(){return ma(this)},Hn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===n&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,r=this;r instanceof Kn;){var i=Vo(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:va,args:[oa],thisArg:n}),new Vn(t,this.__chain__)}return this.thru(oa)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,tt&&(Hn.prototype[tt]=function(){return this}),Hn}();ft?((ft.exports=pn)._=pn,ht._=pn):At._=pn}).call(N)}));const JA=s({name:"Layout",componentName:"ManageLayout",components:{NormalLayout:VA,UserLayout:GA},setup(){const{isPhone:e,updateRoutes:t,screenResize:n}=(()=>{const e=c(ln()),t=jt(),n=Rt(),r=()=>{t.dispatch("generateRoutes",t.state.user.roles).then((e=>{e.forEach((e=>{n.addRoute(e)}));const{name:t,path:r}=n.currentRoute.value;n.replace(n.hasRoute(t)?r:"/")}))},i=XA.debounce((()=>{e.value!==ln()&&(r(),e.value=ln())}),500);return{isPhone:e,updateRoutes:r,screenResize:i}})();return u("isMobile",I(e)),u("updateRoutes",t),g((()=>window.addEventListener("resize",n))),k((()=>window.removeEventListener("resize",n))),{}},render(){return h(O,{"enter-active-class":"animated fadeIn"},{default:()=>[rn(this.$store.state.user.token)?h(f("normal-layout"),null,null):h(f("user-layout"),null,null)]})}}),YA=s({name:"App",components:{layout:JA},setup:()=>()=>h(JA,null,null)}),$A=[{path:"/",redirect:"/icons",name:"Home",meta:{icon:"el-icon-s-home",title:"basic-component"},component:Dt,children:[{path:"/icons",name:"IconPage",meta:{icon:"el-icon-picture-outline-round",title:"icons-page",keepAlive:!0,permission:["admin","customer"]},component:()=>An((()=>__import__("./index.96d6f4e0.js")),["/assets/index.96d6f4e0.js","/assets/vendor.b3f3fa7a.js"])},{path:"/dialog",name:"DialogPage",meta:{icon:"el-icon-message",title:"dialogs-page",keepAlive:!0,showMobile:!1,permission:["admin","customer"]},component:()=>An((()=>__import__("./index.20a9c628.js")),["/assets/index.20a9c628.js","/assets/index.579b07db.css","/assets/vendor.b3f3fa7a.js"])},{path:"/charts",name:"ChartsPage",meta:{icon:"el-icon-s-data",title:"charts-page",keepAlive:!0,permission:["admin"]},component:()=>An((()=>__import__("./index.3fc13382.js")),["/assets/index.3fc13382.js","/assets/vendor.b3f3fa7a.js"])},{path:"/editor",name:"EditorPage",meta:{icon:"el-icon-edit",title:"editor-page",permission:["admin"]},component:()=>An((()=>__import__("./index.ac797632.js")),["/assets/index.ac797632.js","/assets/vendor.b3f3fa7a.js"])},{path:"/table",name:"TablePage",meta:{title:"table-page",icon:"el-icon-notebook-1",permission:["admin","customer"]},component:()=>An((()=>__import__("./index.c196544c.js")),["/assets/index.c196544c.js","/assets/vendor.b3f3fa7a.js"])},{path:"/upload",name:"UploadPage",meta:{title:"upload-page",icon:"el-icon-upload",permission:["admin","customer"]},component:()=>An((()=>__import__("./index.a178b32c.js")),["/assets/index.a178b32c.js","/assets/index.daeb1d94.css","/assets/vendor.b3f3fa7a.js"])},{path:"/steps",name:"StepsPage",meta:{title:"steps-page",icon:"el-icon-s-order",permission:["admin","customer"]},component:()=>An((()=>__import__("./index.ba1e558d.js")),["/assets/index.ba1e558d.js","/assets/index.3570a72e.css","/assets/vendor.b3f3fa7a.js"])},{path:"/tree",name:"TreePage",meta:{title:"tree-page",icon:"el-icon-collection-tag",showMobile:!1},component:()=>An((()=>__import__("./index.c26f7351.js")),["/assets/index.c26f7351.js","/assets/index.60f6f4f2.css","/assets/vendor.b3f3fa7a.js"])},{path:"/json",name:"ObjectPage",meta:{title:"json-page",icon:"el-icon-notebook-2",permission:["admin"],showMobile:!1},redirect:"/json/object",component:Dt,children:[{path:"/json/object",name:"JsonPage",meta:{title:"object-page",icon:"el-icon-document",permission:["admin"],showMobile:!1},component:()=>An((()=>__import__("./index.915da29e.js")),["/assets/index.915da29e.js","/assets/vendor.b3f3fa7a.js"])},{path:"/json/array",name:"ArrayPage",meta:{title:"array-page",icon:"el-icon-tickets",permission:["admin"],showMobile:!1},component:()=>An((()=>__import__("./index.ff2adce3.js")),["/assets/index.ff2adce3.js","/assets/vendor.b3f3fa7a.js"])}]},{path:"/transfer",name:"TransferPage",meta:{title:"transfer-page",icon:"el-icon-bangzhu",permission:["admin"],showMobile:!1},component:()=>An((()=>__import__("./index.be364580.js")),["/assets/index.be364580.js","/assets/vendor.b3f3fa7a.js"])},{path:"/video",name:"VideoPage",meta:{title:"video-page",icon:"el-icon-video-camera",showMobile:!1},component:()=>An((()=>__import__("./index.11729704.js")),["/assets/index.11729704.js","/assets/vendor.b3f3fa7a.js"])}]}];var ZA=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$A}),eh=[{path:"/component",name:"Components",meta:{title:"component-page",icon:"el-icon-setting",keepAlive:!0,showMobile:!1},component:()=>An((()=>__import__("./index.77ef459c.js")),["/assets/index.77ef459c.js","/assets/vendor.b3f3fa7a.js"])}],th=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eh});var nh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:[{path:"/external",name:"External",meta:{icon:"el-icon-link",title:"external-link"},children:[{path:"https://jarrychen.cn",name:"Blog",meta:{icon:"el-icon-collection",title:"vuepress-blog"}},{path:"https://github.com/RyanChent/vite-backen-admin",name:"BackenAdmin",meta:{icon:"el-icon-s-management",title:"backen-admin"}},{path:"https://vue3js.cn/docs/zh/api/",name:"Vue3Api",meta:{icon:"el-icon-paperclip",title:"vue3-api"}},{path:"https://element-plus.gitee.io/#/zh-CN/component/installation",name:"Element-plus",meta:{icon:"el-icon-platform-eleme",title:"element-plus"}},{path:"https://vant-contrib.gitee.io/vant/v3/#/zh-CN",name:"Vant-next",meta:{icon:"el-icon-paperclip",title:"vant-next"}},{path:"https://next.router.vuejs.org/zh/api/",name:"Vue-Router-Next",meta:{icon:"el-icon-paperclip",title:"vue-router"}}]}]});const rh=[{path:"/login",hidden:!0,name:"login",meta:{title:"login-page",icon:"el-icon-share"},component:()=>An((()=>__import__("./index.a220477b.js")),["/assets/index.a220477b.js","/assets/index.431966ed.css","/assets/vendor.b3f3fa7a.js"])}],ih=Object.values({"./subRouters/basicComponent.ts":ZA,"./subRouters/dragComponent.ts":th,"./subRouters/externalLink.ts":nh}).map((({default:e})=>e[0])),oh=function(e){const o=it(e.routes,e);let s=e.parseQuery||St,l=e.stringifyQuery||kt,u=e.history;const c=Ot(),d=Ot(),A=Ot(),h=t(ze);let f=ze;ye&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=_e.bind(null,(e=>""+e)),g=_e.bind(null,Et),m=_e.bind(null,Tt);function v(e,t){if(t=be({},t||h.value),"string"==typeof e){let n=Ce(s,e,t.path),r=o.resolve({path:n.path},t),i=u.createHref(n.fullPath);return be(n,r,{params:m(r.params),hash:Tt(n.hash),redirectedFrom:void 0,href:i})}let n;"path"in e?n=be({},e,{path:Ce(s,e.path,t.path).path}):(n=be({},e,{params:g(e.params)}),t.params=g(t.params));let r=o.resolve(n,t);const i=e.hash||"";r.params=p(m(r.params));const a=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(l,be({},e,{hash:(c=i,Bt(c).replace(yt,"{").replace(_t,"}").replace(mt,"^")),path:r.path}));var c;let d=u.createHref(a);return be({fullPath:a,hash:i,query:l===kt?xt(e.query):e.query},r,{redirectedFrom:void 0,href:d})}function y(e){return"string"==typeof e?Ce(s,e,h.value.path):be({},e)}function b(e,t){if(f!==e)return Xe(8,{from:t,to:e})}function _(e){return B(e)}function w(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=y(r):{path:r}),be({query:e.query,hash:e.hash,params:e.params},r)}}function B(e,t){const n=f=v(e),r=h.value,i=e.state,o=e.force,a=!0===e.replace,s=w(n);if(s)return B(be(y(s),{state:i,force:o,replace:a}),t||n);const u=n;let c;return u.redirectedFrom=t,!o&&function(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Te(t.matched[r],n.matched[i])&&Se(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(l,r,n)&&(c=Xe(16,{to:u,from:r}),L(r,r,!0,!1)),(c?Promise.resolve(c):E(u,r)).catch((e=>Je(e)?e:I(e))).then((e=>{if(e){if(Je(e,2))return B(be(y(e.to),{state:i,force:o,replace:a}),t||u)}else e=S(u,r,!0,a,i);return T(u,r,e),e}))}function C(e,t){const n=b(e,t);return n?Promise.reject(n):Promise.resolve()}function E(e,t){let n;const[r,i,o]=function(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>Te(e,o)))?r.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find((e=>Te(e,s)))||i.push(s))}return[n,r,i]}(e,t);n=Nt(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(Ut(r,e,t))}));const a=C.bind(null,e,t);return n.push(a),Mt(n).then((()=>{n=[];for(const r of c.list())n.push(Ut(r,e,t));return n.push(a),Mt(n)})).then((()=>{n=Nt(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(Ut(r,e,t))}));return n.push(a),Mt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Ut(i,e,t));else n.push(Ut(r.beforeEnter,e,t));return n.push(a),Mt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=Nt(o,"beforeRouteEnter",e,t),n.push(a),Mt(n)))).then((()=>{n=[];for(const r of d.list())n.push(Ut(r,e,t));return n.push(a),Mt(n)})).catch((e=>Je(e,8)?e:Promise.reject(e)))}function T(e,t,n){for(const r of A.list())r(e,t,n)}function S(e,t,n,r,i){const o=b(e,t);if(o)return o;const a=t===ze,s=ye?history.state:{};n&&(r||a?u.replace(e.fullPath,be({scroll:a&&s&&s.scroll},i)):u.push(e.fullPath,i)),h.value=e,L(e,t,n,a),F()}let k;function x(){k=u.listen(((e,t,n)=>{let r=v(e);const i=w(r);if(i)return void B(be(i,{replace:!0}),r).catch(we);f=r;const o=h.value;var a,s;ye&&(a=Me(o.fullPath,n.delta),s=Qe(),Re.set(a,s)),E(r,o).catch((e=>Je(e,12)?e:Je(e,2)?(B(e.to,r).catch(we),Promise.reject()):(n.delta&&u.go(-n.delta,!1),I(e)))).then((e=>{(e=e||S(r,o,!1))&&n.delta&&u.go(-n.delta,!1),T(r,o,e)})).catch(we)}))}let O,U=Ot(),N=Ot();function I(e){return F(e),N.list().forEach((t=>t(e))),Promise.reject(e)}function F(e){O||(O=!0,x(),U.list().forEach((([t,n])=>e?n(e):t())),U.reset())}function L(t,n,r,i){const{scrollBehavior:o}=e;if(!ye||!o)return Promise.resolve();let s=!r&&function(e){const t=Re.get(e);return Re.delete(e),t}(Me(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return a().then((()=>o(t,n,s))).then((e=>e&&De(e))).catch(I)}const P=e=>u.go(e);let Q;const D=new Set;return{currentRoute:h,addRoute:function(e,t){let n,r;return Ve(e)?(n=o.getRecordMatcher(e),r=t):r=e,o.addRoute(r,n)},removeRoute:function(e){let t=o.getRecordMatcher(e);t&&o.removeRoute(t)},hasRoute:function(e){return!!o.getRecordMatcher(e)},getRoutes:function(){return o.getRoutes().map((e=>e.record))},resolve:v,options:e,push:_,replace:function(e){return _(be(y(e),{replace:!0}))},go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:c.add,beforeResolve:d.add,afterEach:A.add,onError:N.add,isReady:function(){return O&&h.value!==ze?Promise.resolve():new Promise(((e,t)=>{U.add([e,t])}))},install(e){e.component("RouterLink",Ft),e.component("RouterView",Dt),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>n(h)}),ye&&!Q&&h.value===ze&&(Q=!0,_(u.location).catch((e=>{})));const t={};for(let n in ze)t[n]=r((()=>h.value[n]));e.provide(ge,this),e.provide(me,i(t)),e.provide(ve,h);let o=e.unmount;D.add(e),e.unmount=function(){D.delete(e),D.size<1&&(k(),h.value=ze,Q=!1,O=!1),o()}}}}({history:function(e){const t=Ke(e=Fe(e)),n=function(e,t,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=He(e,location),l=n.value,u=t.value;let c=0;if(o){if(n.value=s,t.value=o,a&&a===l)return void(a=null);c=u?o.position-u.position:0}else r(s);i.forEach((e=>{e(n.value,l,{delta:c,type:Oe.pop,direction:c?c>0?Ne.forward:Ne.back:Ne.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(be({},e.state,{scroll:Qe()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",l),{pauseListeners:function(){a=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),r=be({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:Pe.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}(),routes:rh,scrollBehavior:(e,t,n)=>n||{left:0,top:0}}),ah={state:{language:"zh-cn"},mutations:{SET_LANGUAGE(e,t){var n;e.language=t,n=t,[Gi.name,_.name].includes(n)&&(Ji.global.locale.value=n)}},actions:{setLanguage({commit:e},t){e("SET_LANGUAGE",t)}}};var sh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",lang:ah});const lh={state:{collapse:!1},mutations:{CHANGE_COLLAPSE(e,t){e.collapse=t}},actions:{changeCollapse({commit:e},t){e("CHANGE_COLLAPSE",t)}}};var uh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",menus:lh});const ch=(e,t=1)=>{let n="{\n";for(const[r,i]of Object.entries(e))if(an(i))n+=`${"\t".repeat(t)}${r}: ${isNaN(i)?`'${i}'`:i},\n`;else if(Array.isArray(i))n+=`${"\t".repeat(t)}${r}: ${dh(i,t+1)},\n`;else if(un(i)){const e=i.toString();if(e.includes("function")){const i=e.slice(e.indexOf(" ")+1,e.indexOf("("));n+=`${"\t".repeat(t)}${r}: ${e.replace(` ${i}`,"")},\n`}else n+=`${"\t".repeat(t)}${r}: ${e},\n`}else n+=`${"\t".repeat(t)}${r}: ${ch(i,t+1)},\n`;return n=n.replaceAll("this.","")+`${"\t".repeat(t-1)}}`,n},dh=(e,t=1)=>{let n="[";return e.forEach(((r,i)=>{an(r)?n+=`${isNaN(r)?`'${r}'`:r}${i<e.length-1?", ":""}`:Array.isArray(r)?n+=`\n${"\t".repeat(t)}${dh(r,t+1)},`:un(r)?n+=`\n${"\t".repeat(t)}${r.toString()},\n`:n+=`\n${"\t".repeat(t)}${ch(r,t+1)},`})),n=n.replaceAll("this.","")+"]",n},Ah=(e,t,n,r)=>{switch(r.includes(n)||r.push(n),sn(e[t])){case"Number":case"Symbol":case"String":case"Boolean":return{label:t,key:n,value:e[t],type:sn(e[t])};case"Function":return{label:t,key:n,value:e[t].toString(),type:"Function"};case"Array":return{label:t,desc:`Array(${e[t].length})`,type:"Array",key:n,children:e[t].map(((i,o)=>Ah(e[t],o,`${n}[${o}]`,r)))};case"Object":return{label:t,desc:`Object(${Object.keys(e[t]).length})`,type:"Object",key:n,children:Object.keys(e[t]).map((i=>Ah(e[t],i,`${n}.${i}`,r)))}}},hh=(e,t=new WeakMap)=>{if(e instanceof RegExp)return new RegExp(e);if(e instanceof Date)return new Date(e);if("object"!=typeof e||!e)return e;if(t.has(e))return t.get(e);const n=Array.isArray(e)?[]:{};t.set(e,n);for(const r in e)e.hasOwnProperty(r)&&(n[r]=hh(e[r],t));return n};let fh=[];const ph=(e,t,n)=>e.filter((e=>{if(((e,t)=>{var n,r;return!(e.hidden||(null==(n=e.meta)?void 0:n.hasOwnProperty("showMobile"))&&(null==(r=e.meta)?void 0:r.showMobile)!==t)})(e,n)){if(((e,t)=>{var n;return!(null==(n=e.meta)?void 0:n.permission)||t.some((t=>e.meta.permission.includes(t)))})(e,t)){if(fh.push(e.name),Array.isArray(e.children)&&e.children.length){if(e.children=ph(e.children,t,n),!e.children[0])return fh.splice(fh.indexOf(e.name),1),!1;e.hasOwnProperty("redirect")&&(e.redirect=e.children[0].path)}return!0}return!1}return!1})),gh={state:{routes:rh,addRoutes:[]},mutations:{SET_ROUTES(e,t){e.addRoutes=t,e.routes=[...rh,...t]},RESET_ROUTES(e){e.routes=rh,e.addRoutes=[],fh=[]}},actions:{generateRoutes:({commit:e},t)=>new Promise((async(n,r)=>{(e=>{for(const t of e)oh.hasRoute(t)&&oh.removeRoute(t)})(fh),e("RESET_ROUTES");const i=ln();try{let r=[];Array.isArray(ih)&&ih.length?r=ph(hh(ih),t,i):await(async(e,t)=>{})(),i&&(r=[...r,{path:"/me",name:"UserPage",hidden:!0,meta:{title:"user-page"},component:()=>An((()=>__import__("./index.03c60760.js")),["/assets/index.03c60760.js","/assets/index.8ed34052.css","/assets/vendor.b3f3fa7a.js"])}],fh.push("UserPage")),r=[...r,{path:"/:w+",name:"*",hidden:!0,redirect:"/404"},{path:"/404",hidden:!0,name:"NotFound",meta:{title:"404-page"},component:()=>An((()=>__import__("./index.ae46f400.js")),["/assets/index.ae46f400.js","/assets/index.210373e2.css","/assets/vendor.b3f3fa7a.js"])}],fh=[...fh,"*","NotFound"],e("SET_ROUTES",r),n(r)}catch(o){r(o)}}))}};var mh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",permission:gh});const vh={state:{searchValue:""},mutations:{SET_SEARCHVALUE(e,t){e.searchValue=t}},actions:{setSearchValue({commit:e},t){e("SET_SEARCHVALUE",t)}}};var yh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",search:vh});const bh=e=>{try{return"string"==typeof e&&"object"==typeof JSON.parse(e)}catch(t){return!1}};class _h{constructor(){this.isBrowser=!1,this.isBrowser="undefined"!=typeof localStorage}getItem(e){if(this.isBrowser){const t=localStorage.getItem(e);if(bh(t)){const{value:n,timeout:r,date:i}=JSON.parse(t);return"number"==typeof r?Date.now()-i<=r?bh(n)?JSON.parse(n):n:(localStorage.removeItem(e),null):bh(n)?JSON.parse(n):n}}return null}setItem(e,t,n){this.isBrowser&&localStorage.setItem(e,JSON.stringify({value:t,timeout:n,date:Date.now()}))}removeItem(e){this.isBrowser&&localStorage.removeItem(e)}clear(){this.isBrowser&&localStorage.clear()}}var wh,Bh;(Bh=wh||(wh={})).TOKEN="token",Bh.USER_INFO="userinfo";var Ch=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Eh=Object.prototype.toString;function Th(e){return"[object Array]"===Eh.call(e)}function Sh(e){return void 0===e}function kh(e){return null!==e&&"object"==typeof e}function xh(e){if("[object Object]"!==Eh.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Oh(e){return"[object Function]"===Eh.call(e)}function Uh(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Th(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var Nh={isArray:Th,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Eh.call(e)},isBuffer:function(e){return null!==e&&!Sh(e)&&null!==e.constructor&&!Sh(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:kh,isPlainObject:xh,isUndefined:Sh,isDate:function(e){return"[object Date]"===Eh.call(e)},isFile:function(e){return"[object File]"===Eh.call(e)},isBlob:function(e){return"[object Blob]"===Eh.call(e)},isFunction:Oh,isStream:function(e){return kh(e)&&Oh(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Uh,merge:function e(){var t={};function n(n,r){xh(t[r])&&xh(n)?t[r]=e(t[r],n):xh(n)?t[r]=e({},n):Th(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)Uh(arguments[r],n);return t},extend:function(e,t,n){return Uh(t,(function(t,r){e[r]=n&&"function"==typeof t?Ch(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function Ih(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Fh=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Nh.isURLSearchParams(t))r=t.toString();else{var i=[];Nh.forEach(t,(function(e,t){null!=e&&(Nh.isArray(e)?t+="[]":e=[e],Nh.forEach(e,(function(e){Nh.isDate(e)?e=e.toISOString():Nh.isObject(e)&&(e=JSON.stringify(e)),i.push(Ih(t)+"="+Ih(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function Lh(){this.handlers=[]}Lh.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Lh.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Lh.prototype.forEach=function(e){Nh.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Ph=Lh,Qh=function(e,t,n){return Nh.forEach(n,(function(n){e=n(e,t)})),e},Dh=function(e){return!(!e||!e.__CANCEL__)},Mh=function(e,t){Nh.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Rh=function(e,t,n,r,i){return function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,i)},Hh=Nh.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),Nh.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Nh.isString(r)&&a.push("path="+r),Nh.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},jh=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Kh=Nh.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Nh.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Vh=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;Nh.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+s)}var l,u,c=(l=e.baseURL,u=e.url,l&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(l,u):u);if(o.open(e.method.toUpperCase(),Fh(c,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(e){var t,n,r,i={};return e?(Nh.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=Nh.trim(e.substr(0,r)).toLowerCase(),n=Nh.trim(e.substr(r+1)),t){if(i[t]&&jh.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}(o.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Rh("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,i),o=null}},o.onabort=function(){o&&(n(Rh("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(Rh("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(Rh(t,e,"ECONNABORTED",o)),o=null},Nh.isStandardBrowserEnv()){var d=(e.withCredentials||Kh(c))&&e.xsrfCookieName?Hh.read(e.xsrfCookieName):void 0;d&&(i[e.xsrfHeaderName]=d)}if("setRequestHeader"in o&&Nh.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),Nh.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(A){if("json"!==e.responseType)throw A}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),r||(r=null),o.send(r)}))},zh={"Content-Type":"application/x-www-form-urlencoded"};function qh(e,t){!Nh.isUndefined(e)&&Nh.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Wh,Gh={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Wh=Vh),Wh),transformRequest:[function(e,t){return Mh(t,"Accept"),Mh(t,"Content-Type"),Nh.isFormData(e)||Nh.isArrayBuffer(e)||Nh.isBuffer(e)||Nh.isStream(e)||Nh.isFile(e)||Nh.isBlob(e)?e:Nh.isArrayBufferView(e)?e.buffer:Nh.isURLSearchParams(e)?(qh(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Nh.isObject(e)?(qh(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Gh.headers={common:{Accept:"application/json, text/plain, */*"}},Nh.forEach(["delete","get","head"],(function(e){Gh.headers[e]={}})),Nh.forEach(["post","put","patch"],(function(e){Gh.headers[e]=Nh.merge(zh)}));var Xh=Gh;function Jh(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Yh=function(e){return Jh(e),e.headers=e.headers||{},e.data=Qh(e.data,e.headers,e.transformRequest),e.headers=Nh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Nh.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Xh.adapter)(e).then((function(t){return Jh(e),t.data=Qh(t.data,t.headers,e.transformResponse),t}),(function(t){return Dh(t)||(Jh(e),t&&t.response&&(t.response.data=Qh(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},$h=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return Nh.isPlainObject(e)&&Nh.isPlainObject(t)?Nh.merge(e,t):Nh.isPlainObject(t)?Nh.merge({},t):Nh.isArray(t)?t.slice():t}function l(r){Nh.isUndefined(t[r])?Nh.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}Nh.forEach(r,(function(e){Nh.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),Nh.forEach(i,l),Nh.forEach(o,(function(r){Nh.isUndefined(t[r])?Nh.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),Nh.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var u=r.concat(i).concat(o).concat(a),c=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return Nh.forEach(c,l),n};function Zh(e){this.defaults=e,this.interceptors={request:new Ph,response:new Ph}}Zh.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=$h(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Yh,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Zh.prototype.getUri=function(e){return e=$h(this.defaults,e),Fh(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Nh.forEach(["delete","get","head","options"],(function(e){Zh.prototype[e]=function(t,n){return this.request($h(n||{},{method:e,url:t,data:(n||{}).data}))}})),Nh.forEach(["post","put","patch"],(function(e){Zh.prototype[e]=function(t,n,r){return this.request($h(r||{},{method:e,url:t,data:n}))}}));var ef=Zh;function tf(e){this.message=e}tf.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},tf.prototype.__CANCEL__=!0;var nf=tf;function rf(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new nf(e),t(n.reason))}))}rf.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},rf.source=function(){var e;return{token:new rf((function(t){e=t})),cancel:e}};var of=rf;function af(e){var t=new ef(e),n=Ch(ef.prototype.request,t);return Nh.extend(n,ef.prototype,t),Nh.extend(n,t),n}var sf=af(Xh);sf.Axios=ef,sf.create=function(e){return af($h(sf.defaults,e))},sf.Cancel=nf,sf.CancelToken=of,sf.isCancel=Dh,sf.all=function(e){return Promise.all(e)},sf.spread=function(e){return function(t){return e.apply(null,t)}},sf.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var lf=sf,uf=sf;lf.default=uf;var cf=lf;function df(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var Af=df(M),hf=df(D);const ff={success:"success",info:"info",warning:"warning",error:"error"};var pf=F.defineComponent({name:"ElNotification",props:{customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},offset:{type:Number,default:0},onClick:{type:Function,default:()=>{}},onClose:{type:Function,required:!0},position:{type:String,default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,default:""},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=F.ref(!1);let n=null;const r=F.computed((()=>{const t=e.type;return t&&ff[t]?`el-icon-${ff[t]}`:""})),i=F.computed((()=>e.position.indexOf("right")>1?"right":"left")),o=F.computed((()=>e.position.startsWith("top")?"top":"bottom")),a=F.computed((()=>({[o.value]:`${e.offset}px`})));function s(){e.duration>0&&(n=setTimeout((()=>{t.value&&u()}),e.duration))}function l(){clearTimeout(n),n=null}function u(){t.value=!1}function c({code:e}){e===Q.EVENT_CODE.delete||e===Q.EVENT_CODE.backspace?l():e===Q.EVENT_CODE.esc?t.value&&u():s()}return F.onMounted((()=>{s(),t.value=!0,L.on(document,"keydown",c)})),F.onBeforeUnmount((()=>{L.off(document,"keydown",c)})),{horizontalClass:i,typeClass:r,positionStyle:a,visible:t,close:u,clearTimer:l,startTimer:s}}});const gf={key:0};pf.render=function(e,t,n,r,i,o){return F.openBlock(),F.createBlock(F.Transition,{name:"el-notification-fade",onBeforeLeave:e.onClose,onAfterLeave:t[5]||(t[5]=t=>e.$emit("destroy"))},{default:F.withCtx((()=>[F.withDirectives(F.createVNode("div",{id:e.id,class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t)),onClick:t[4]||(t[4]=(...t)=>e.onClick&&e.onClick(...t))},[e.type||e.iconClass?(F.openBlock(),F.createBlock("i",{key:0,class:["el-notification__icon",[e.typeClass,e.iconClass]]},null,2)):F.createCommentVNode("v-if",!0),F.createVNode("div",{class:["el-notification__group",{"is-with-icon":e.typeClass||e.iconClass}]},[F.createVNode("h2",{class:"el-notification__title",textContent:F.toDisplayString(e.title)},null,8,["textContent"]),F.withDirectives(F.createVNode("div",{class:"el-notification__content",style:e.title?null:"margin: 0"},[F.renderSlot(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(F.openBlock(),F.createBlock(F.Fragment,{key:1},[F.createCommentVNode(" Caution here, message could've been compromized, nerver use user's input as message "),F.createCommentVNode(" eslint-disable-next-line "),F.createVNode("p",{innerHTML:e.message},null,8,["innerHTML"])],2112)):(F.openBlock(),F.createBlock("p",gf,F.toDisplayString(e.message),1))]))],4),[[F.vShow,e.message]]),e.showClose?(F.openBlock(),F.createBlock("div",{key:0,class:"el-notification__closeBtn el-icon-close",onClick:t[1]||(t[1]=F.withModifiers(((...t)=>e.close&&e.close(...t)),["stop"]))})):F.createCommentVNode("v-if",!0)],2)],46,["id"]),[[F.vShow,e.visible]])])),_:3},8,["onBeforeLeave"])},pf.__file="packages/notification/src/index.vue";const mf={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let vf=1;const yf=function(e={}){if(Af.default)return;const t=e.position||"top-right";let n=e.offset||0;mf[t].forEach((({vm:e})=>{n+=(e.el.offsetHeight||0)+16})),n+=16;const r="notification_"+vf++,i=e.onClose;e=Object.assign(Object.assign({},e),{onClose:()=>{!function(e,t,n){const r=mf[t],i=r.findIndex((({vm:t})=>{const{id:n}=t.component.props;return e===n}));if(-1===i)return;const{vm:o}=r[i];if(!o)return;null==n||n(o);const a=o.el.offsetHeight;r.splice(i,1);const s=r.length;if(s<1)return;for(let l=i;l<s;l++){const e=t.split("-")[0],n=parseInt(r[l].vm.el.style[e],10)-a-16;r[l].vm.component.props.offset=n}}(r,t,i)},offset:n,id:r,zIndex:hf.default.nextZIndex()});const o=document.createElement("div"),a=F.createVNode(pf,e,P.isVNode(e.message)?{default:()=>e.message}:null);return a.props.onDestroy=()=>{F.render(null,o)},F.render(a,o),mf[t].push({vm:a}),document.body.appendChild(o.firstElementChild),{close:()=>{a.component.proxy.visible=!1}}};["success","warning","info","error"].forEach((e=>{Object.assign(yf,{[e]:(t={})=>(("string"==typeof t||P.isVNode(t))&&(t={message:t}),t.type=e,yf(t))})}));const bf=yf;bf.install=e=>{e.config.globalProperties.$notify=bf};var _f=bf;function wf(){}var Bf=Object.assign,Cf="undefined"!=typeof window,Ef={type:Boolean,default:!0};function Tf(e,t){var n=t.split("."),r=e;return n.forEach((e=>{var t;r=null!=(t=r[e])?t:""})),r}function Sf(e,t,n){return t.reduce(((t,r)=>(n&&void 0===e[r]||(t[r]=e[r]),t)),{})}function kf(e,t){return t?"string"==typeof t?" "+e+"--"+t:Array.isArray(t)?t.reduce(((t,n)=>t+kf(e,n)),""):Object.keys(t).reduce(((n,r)=>n+(t[r]?kf(e,r):"")),""):""}function xf(e){return function(t,n){return t&&"string"!=typeof t&&(n=t,t=""),""+(t=t?e+"__"+t:e)+kf(t,n)}}var Of=/-(\w)/g;function Uf(e){return e.replace(Of,((e,t)=>t.toUpperCase()))}function Nf(e,t=2){for(var n=e+"";n.length<t;)n="0"+n;return n}function If(e){return null!=e}function Ff(e){return"function"==typeof e}function Lf(e){return null!==e&&"object"==typeof e}function Pf(e){return Lf(e)&&Ff(e.then)&&Ff(e.catch)}function Qf(e){return"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime())}function Df(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}function Mf(e){return"number"==typeof e||/^\d+(\.\d+)?$/.test(e)}var{hasOwnProperty:Rf}=Object.prototype;function Hf(e,t){return Object.keys(t).forEach((n=>{!function(e,t,n){var r=t[n];If(r)&&(Rf.call(e,n)&&Lf(r)?e[n]=Hf(Object(e[n]),t[n]):e[n]=r)}(e,t,n)})),e}var jf,Kf=c("zh-CN"),Vf=i({"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>e+"年"+t+"月",rangePrompt:e=>"选择天数不能超过 "+e+" 天"},vanCascader:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:e=>e+"折",condition:e=>"满"+e+"元可用"},vanCouponCell:{title:"优惠券",tips:"暂无可用",count:e=>e+"张可用"},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}}),zf={messages:()=>Vf[Kf.value],use(e,t){Kf.value=e,this.add({[e]:t})},add(e={}){Hf(Vf,e)}};function qf(e){var t=Uf(e)+".";return function(e,...n){var r=zf.messages(),i=Tf(r,t+e)||Tf(r,e);return Ff(i)?i(...n):i}}function Wf(e){var t="van-"+e;return[t,xf(t),qf(t)]}function Gf(e){return e.install=t=>{var{name:n}=e;t.component(n,e),t.component(Uf("-"+n),e)},e}function Xf(e){if(If(e))return Mf(e)?e+"px":String(e)}function Jf(e){if(If(e)){var t=Xf(e);return{width:t,height:t}}}function Yf(e){var t={};return void 0!==e&&(t.zIndex=+e),t}function $f(e){return+(e=e.replace(/rem/g,""))*function(){if(!jf){var e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;jf=parseFloat(t)}return jf}()}function Zf(e){if("number"==typeof e)return e;if(Cf){if(e.includes("rem"))return $f(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*window.innerWidth/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*window.innerHeight/100}(e)}return parseFloat(e)}function ep(e,t,n){return Math.min(Math.max(e,t),n)}function tp(e,t,n){var r=e.indexOf(t);return-1===r?e:"-"===t&&0!==r?e.slice(0,r):e.slice(0,r+1)+e.slice(r).replace(n,"")}function np(e,t=!0,n=!0){e=t?tp(e,".",/\./g):e.split(".")[0];var r=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?tp(e,"-",/-/g):e.replace(/-/,"")).replace(r,"")}function rp(e){var t=n(e);if(!t)return!1;var r=window.getComputedStyle(t),i="none"===r.display,o=null===t.offsetParent&&"fixed"!==r.position;return i||o}function ip(e){e.stopPropagation()}function op(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&ip(e)}function ap(e){return e===window}function sp(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function lp(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function up(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function cp(e){lp(window,e),lp(document.body,e)}function dp(e,t){if(ap(e))return 0;var n=t?sp(t):up();return e.getBoundingClientRect().top+n}var Ap=!!Cf&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function hp(){Ap&&cp(up())}var fp="undefined"!=typeof window,pp=fp?window:global,gp=Date.now();function mp(e){var t=Date.now(),n=Math.max(0,16-(t-gp)),r=setTimeout(e,n);return gp=t+n,r}function vp(e){return(pp.requestAnimationFrame||mp).call(pp,e)}function yp(e){(pp.cancelAnimationFrame||pp.clearTimeout).call(pp,e)}function bp(e){vp((()=>vp(e)))}function _p(e,t){return{top:0,left:0,right:e,bottom:t,width:e,height:t}}var wp=e=>{var t=n(e);return t===window?_p(t.innerWidth,t.innerHeight):t&&t.getBoundingClientRect?t.getBoundingClientRect():_p(0,0)};function Bp(e){var t=o(e,null);if(t){var n=y(),{link:i,unlink:a,internalChildren:s}=t;return i(n),m((()=>a(n))),{parent:t,index:r((()=>s.indexOf(n)))}}return{parent:null,index:c(-1)}}function Cp(e,t,n){var r,i,o,a=(r=e.subTree.children,i=[],(o=e=>{Array.isArray(e)&&e.forEach((e=>{var t;w(e)&&(i.push(e),null!=(t=e.component)&&t.subTree&&o(e.component.subTree.children),e.children&&o(e.children))}))})(r),i);n.sort(((e,t)=>a.indexOf(e.vnode)-a.indexOf(t.vnode)));var s=n.map((e=>e.proxy));t.sort(((e,t)=>s.indexOf(e)-s.indexOf(t)))}function Ep(e){var t=i([]),n=i([]),r=y();return{children:t,linkChildren:i=>{u(e,Object.assign({link:e=>{e.proxy&&(n.push(e),t.push(e.proxy),Cp(r,t,n))},unlink:e=>{var r=n.indexOf(e);t.splice(r,1),n.splice(r,1)},children:t,internalChildren:n},i))}}}function Tp(e){var t,n,i,o,a=c(e.time),s=r((()=>{return{total:e=a.value,days:Math.floor(e/864e5),hours:Math.floor(e%864e5/36e5),minutes:Math.floor(e%36e5/6e4),seconds:Math.floor(e%6e4/1e3),milliseconds:Math.floor(e%1e3)};var e})),l=()=>{i=!1,yp(t)},u=()=>Math.max(n-Date.now(),0),d=t=>{a.value=t,null==e.onChange||e.onChange(s.value),0===t&&(l(),null==e.onFinish||e.onFinish())},A=()=>{t=vp((()=>{i&&(d(u()),a.value>0&&A())}))},h=()=>{t=vp((()=>{if(i){var e=u();t=e,n=a.value,(Math.floor(t/1e3)!==Math.floor(n/1e3)||0===e)&&d(e),a.value>0&&h()}var t,n}))},f=()=>{fp&&(e.millisecond?A():h())};return k(l),R((()=>{o&&(i=!0,o=!1,f())})),H((()=>{i&&(l(),o=!0)})),{start:()=>{i||(n=Date.now()+a.value,i=!0,f())},pause:l,reset:(t=e.time)=>{l(),a.value=t},current:s}}function Sp(e){var t;g((()=>{e(),a((()=>{t=!0}))})),R((()=>{t&&e()}))}var kp=!1;if(fp)try{var xp={};Object.defineProperty(xp,"passive",{get(){kp=!0}}),window.addEventListener("test-passive",null,xp)}catch(cH){}function Op(e,t,r={}){if(fp){var i,{target:o=window,passive:a=!1,capture:s=!1}=r,l=()=>{var r=n(o);r&&i&&(r.removeEventListener(e,t,s),i=!1)};m(l),H(l),Sp((()=>{var r=n(o);r&&!i&&(r.addEventListener(e,t,kp?{capture:s,passive:a}:s),i=!0)}))}}function Up(e,t,r={}){if(fp){var{eventName:i="click"}=r;Op(i,(r=>{var i=n(e);i&&!i.contains(r.target)&&t(r)}),{target:document})}}function Np(){var e=c(fp?window.innerWidth:0),t=c(fp?window.innerHeight:0),n=()=>{e.value=window.innerWidth,t.value=window.innerHeight};return Op("resize",n),Op("orientationchange",n),{width:e,height:t}}var Ip=/scroll|auto/i,Fp=fp?window:void 0;function Lp(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Pp(e,t=Fp){for(var n=e;n&&n!==t&&Lp(n);){var{overflowY:r}=window.getComputedStyle(n);if(Ip.test(r))return n;n=n.parentNode}return t}function Qp(e,t=Fp){var n=c();return g((()=>{e.value&&(n.value=Pp(e.value,t))})),n}var[Dp,Mp]=Wf("action-bar"),Rp=Symbol(Dp),Hp=Gf(s({name:Dp,props:{safeAreaInsetBottom:Ef},setup(e,{slots:t}){var{linkChildren:n}=Ep(Rp);return n(),()=>h("div",{class:Mp({unfit:!e.safeAreaInsetBottom})},[null==t.default?void 0:t.default()])}}));function jp(e){var t=y();t&&Bf(t.proxy,e)}var Kp={to:[String,Object],url:String,replace:Boolean};function Vp(e){var t=e.$router,{to:n,url:r,replace:i}=e;n&&t?t[i?"replace":"push"](n):r&&(i?location.replace(r):location.href=r)}function zp(){var e=y().proxy;return()=>Vp(e)}var qp="van-hairline",[Wp,Gp]=Wf("badge"),Xp=Gf(s({name:Wp,props:{dot:Boolean,max:[Number,String],color:String,offset:Array,content:[Number,String],showZero:Ef,tag:{type:String,default:"div"}},setup(e,{slots:t}){var n=()=>{if(t.content)return!0;var{content:n,showZero:r}=e;return If(n)&&""!==n&&(r||0!==n)},r=()=>{var{dot:r,max:i,content:o}=e;if(!r&&n())return t.content?t.content():If(i)&&Mf(o)&&+o>i?i+"+":o},i=()=>{if(n()||e.dot){var i={background:e.color};if(e.offset){var[o,a]=e.offset;t.default?(i.top=Xf(a),i.right="-"+Xf(o)):(i.marginTop=Xf(a),i.marginLeft=Xf(o))}return h("div",{class:Gp({dot:e.dot,fixed:!!t.default}),style:i},[r()])}};return()=>{if(t.default){var{tag:n}=e;return h(n,{class:Gp("wrapper")},{default:()=>[t.default(),i()]})}return i()}}})),[Jp,Yp]=Wf("icon");var $p=Gf(s({name:Jp,props:{dot:Boolean,name:String,size:[Number,String],badge:[Number,String],color:String,tag:{type:String,default:"i"},classPrefix:{type:String,default:Yp()}},setup:(e,{slots:t})=>()=>{var{tag:n,dot:r,name:i,size:o,badge:a,color:s,classPrefix:l}=e,u=function(e){return!!e&&e.includes("/")}(i);return h(Xp,{dot:r,tag:n,content:a,class:[l,u?"":l+"-"+i],style:{color:s,fontSize:Xf(o)}},{default:()=>[null==t.default?void 0:t.default(),u&&h("img",{class:Yp("image"),src:i},null)]})}})),[Zp,eg]=Wf("loading"),tg=Array(12).fill(h("i",null,null)),ng=h("svg",{class:eg("circular"),viewBox:"25 25 50 50"},[h("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),rg=Gf(s({name:Zp,props:{size:[Number,String],color:String,vertical:Boolean,textSize:[Number,String],textColor:String,type:{type:String,default:"circular"}},setup(e,{slots:t}){var n=r((()=>Bf({color:e.color},Jf(e.size)))),i=()=>{var n;if(t.default)return h("span",{class:eg("text"),style:{fontSize:Xf(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{var{type:t,vertical:r}=e;return h("div",{class:eg([t,{vertical:r}])},[h("span",{class:eg("spinner",t),style:n.value},["spinner"===t?tg:ng]),i()])}}})),[ig,og]=Wf("button"),ag=Gf(s({name:ig,props:Bf({},Kp,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,loadingSize:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},nativeType:{type:String,default:"button"},iconPosition:{type:String,default:"left"}}),emits:["click"],setup(e,{emit:t,slots:n}){var r=zp(),i=()=>e.loading?n.loading?n.loading():h(rg,{size:e.loadingSize,type:e.loadingType,class:og("loading")},null):e.icon?h($p,{name:e.icon,class:og("icon"),classPrefix:e.iconPrefix},null):void 0,o=()=>{var t;if(t=e.loading?e.loadingText:n.default?n.default():e.text)return h("span",{class:og("text")},[t])},a=()=>{var{color:t,plain:n}=e;if(t){var r={color:n?t:"white"};return n||(r.background=t),t.includes("gradient")?r.border=0:r.borderColor=t,r}},s=n=>{e.loading?n.preventDefault():e.disabled||(t("click",n),r())};return()=>{var{tag:t,type:n,size:r,block:l,round:u,plain:c,square:d,loading:A,disabled:f,hairline:p,nativeType:g,iconPosition:m}=e,v=[og([n,r,{plain:c,block:l,round:u,square:d,loading:A,disabled:f,hairline:p}]),{"van-hairline--surround":p}];return h(t,{type:g,class:v,style:a(),disabled:f,onClick:s},{default:()=>[h("div",{class:og("content")},["left"===m&&i(),o(),"right"===m&&i()])]})}}})),[sg,lg]=Wf("action-bar-button"),ug=Gf(s({name:sg,props:Bf({},Kp,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){var n=zp(),{parent:i,index:o}=Bp(Rp),a=r((()=>{if(i){var e=i.children[o.value-1];return!(e&&"isButton"in e)}})),s=r((()=>{if(i){var e=i.children[o.value+1];return!(e&&"isButton"in e)}}));return jp({isButton:!0}),()=>{var{type:r,icon:i,text:o,color:l,loading:u,disabled:c}=e;return h(ag,{class:lg([r,{last:s.value,first:a.value}]),size:"large",type:r,icon:i,color:l,loading:u,disabled:c,onClick:n},{default:()=>[t.default?t.default():o]})}}})),[cg,dg]=Wf("action-bar-icon"),Ag=Gf(s({name:cg,props:Bf({},Kp,{dot:Boolean,text:String,icon:String,color:String,badge:[Number,String],iconClass:null,iconPrefix:String}),setup(e,{slots:t}){var n=zp();Bp(Rp);var r=()=>{var{dot:n,badge:r,icon:i,color:o,iconClass:a,iconPrefix:s}=e;return t.icon?h(Xp,{dot:n,content:r,class:dg("icon")},{default:()=>[t.icon()]}):h($p,{tag:"div",dot:n,name:i,badge:r,color:o,class:[dg("icon"),a],classPrefix:s},null)};return()=>h("div",{role:"button",class:dg(),tabindex:0,onClick:n},[r(),t.default?t.default():e.text])}})),hg={show:Boolean,zIndex:[Number,String],overlay:Ef,duration:[Number,String],teleport:[String,Object],lockScroll:Ef,lazyRender:Ef,overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,closeOnClickOverlay:Ef},fg=Object.keys(hg);function pg(){var e=c(0),t=c(0),n=c(0),r=c(0),i=c(0),o=c(0),a=c(""),s=()=>{n.value=0,r.value=0,i.value=0,o.value=0,a.value=""};return{move:s=>{var l,u,c=s.touches[0];n.value=c.clientX<0?0:c.clientX-e.value,r.value=c.clientY-t.value,i.value=Math.abs(n.value),o.value=Math.abs(r.value),a.value||(a.value=(l=i.value,u=o.value,l>u&&l>10?"horizontal":u>l&&u>10?"vertical":""))},start:n=>{s(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:n,deltaY:r,offsetX:i,offsetY:o,direction:a,isVertical:()=>"vertical"===a.value,isHorizontal:()=>"horizontal"===a.value}}var gg=0;function mg(e){var t=c(!1);return d(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}var vg=Symbol();function yg(e){var t=o(vg,null);t&&d(t,(t=>{t&&e()}))}var[bg,_g]=Wf("overlay"),wg=Gf(s({name:bg,props:{show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,lockScroll:Ef,customStyle:Object},setup(e,{slots:t}){var n=mg((()=>e.show)),r=e=>{op(e,!0)},i=n((()=>{var n=Bf(Yf(e.zIndex),e.customStyle);return If(e.duration)&&(n.animationDuration=e.duration+"s"),T(h("div",{style:n,class:[_g(),e.className],onTouchmove:e.lockScroll?r:wf},[null==t.default?void 0:t.default()]),[[j,e.show]])}));return()=>h(O,{name:"van-fade"},{default:()=>[i()]})}})),[Bg,Cg]=Wf("popup"),Eg=2e3,Tg=Gf(s({name:Bg,inheritAttrs:!1,props:Bf({},hg,{round:Boolean,closeable:Boolean,transition:String,closeOnPopstate:Boolean,safeAreaInsetBottom:Boolean,position:{type:String,default:"center"},closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"}}),emits:["open","close","click","opened","closed","update:show","click-overlay","click-close-icon"],setup(e,{emit:t,attrs:n,slots:i}){var o,a,s,l,A,f,m,v,y,b=c(),_=c(),w=mg((()=>e.show||!e.lazyRender)),B=r((()=>{var t={zIndex:b.value};If(e.duration)&&(t["center"===e.position?"animationDuration":"transitionDuration"]=e.duration+"s");return t})),C=()=>{o||(void 0!==e.zIndex&&(Eg=+e.zIndex),o=!0,b.value=++Eg)},E=()=>{o&&(o=!1,t("update:show",!1))},S=n=>{t("click-overlay",n),e.closeOnClickOverlay&&E()},U=()=>{if(e.overlay)return h(wg,{show:e.show,class:e.overlayClass,zIndex:b.value,duration:e.duration,customStyle:e.overlayStyle,onClick:S},null)},N=e=>{t("click-close-icon",e),E()},I=()=>{if(e.closeable)return h($p,{role:"button",tabindex:0,name:e.closeIcon,class:Cg("close-icon",e.closeIconPosition),onClick:N},null)},F=e=>t("click",e),L=()=>t("opened"),P=()=>t("closed"),Q=w((()=>{var{round:t,position:r,safeAreaInsetBottom:o}=e;return T(h("div",x({ref:_,style:B.value,class:Cg({round:t,[r]:r,"safe-area-inset-bottom":o}),onClick:F},n),[null==i.default?void 0:i.default(),I()]),[[j,e.show]])})),D=()=>{var{position:t,transition:n,transitionAppear:r}=e;return h(O,{name:n||("center"===t?"van-fade":"van-popup-slide-"+t),appear:r,onAfterEnter:L,onAfterLeave:P},{default:()=>[Q()]})};return d((()=>e.show),(e=>{e?(C(),t("open")):(E(),t("close"))})),jp({popupRef:_}),s=_,l=()=>e.show&&e.lockScroll,A=pg(),f=e=>{A.move(e);var t=A.deltaY.value>0?"10":"01",n=Pp(e.target,s.value),{scrollHeight:r,offsetHeight:i,scrollTop:o}=n,a="11";0===o?a=i>=r?"00":"01":o+i>=r&&(a="10"),"11"===a||!A.isVertical()||parseInt(a,2)&parseInt(t,2)||op(e,!0)},m=()=>{document.addEventListener("touchstart",A.start),document.addEventListener("touchmove",f,!!kp&&{passive:!1}),gg||document.body.classList.add("van-overflow-hidden"),gg++},v=()=>{gg&&(document.removeEventListener("touchstart",A.start),document.removeEventListener("touchmove",f),--gg||document.body.classList.remove("van-overflow-hidden"))},y=()=>{l()&&v()},Sp((()=>{l()&&m()})),H(y),k(y),d(l,(e=>{e?m():v()})),Op("popstate",(()=>{e.closeOnPopstate&&(E(),a=!1)})),g((()=>{e.show&&C()})),R((()=>{a&&(t("update:show",!0),a=!1)})),H((()=>{e.show&&(E(),a=!0)})),u(vg,(()=>e.show)),()=>e.teleport?h(K,{to:e.teleport},{default:()=>[U(),D()]}):h(p,null,[U(),D()])}})),[Sg,kg]=Wf("action-sheet"),xg=Gf(s({name:Sg,props:Bf({},hg,{title:String,round:Ef,actions:Array,closeable:Ef,cancelText:String,description:String,closeOnPopstate:Boolean,closeOnClickAction:Boolean,safeAreaInsetBottom:Ef,closeIcon:{type:String,default:"cross"}}),emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){var r=e=>n("update:show",e),i=()=>{r(!1),n("cancel")},o=()=>{if(e.title)return h("div",{class:kg("header")},[e.title,e.closeable&&h($p,{name:e.closeIcon,class:kg("close"),onClick:i},null)])},s=()=>{if(t.cancel||e.cancelText)return[h("div",{class:kg("gap")},null),h("button",{type:"button",class:kg("cancel"),onClick:i},[t.cancel?t.cancel():e.cancelText])]},l=(t,i)=>{var{name:o,color:s,subname:l,loading:u,callback:c,disabled:d,className:A}=t,f=u?h(rg,{class:kg("loading-icon")},null):[h("span",{class:kg("name")},[o]),l&&h("div",{class:kg("subname")},[l])];return h("button",{type:"button",style:{color:s},class:[kg("item",{loading:u,disabled:d}),A],onClick:()=>{d||u||(c&&c(t),e.closeOnClickAction&&r(!1),a((()=>n("select",t,i))))}},[f])},u=()=>{if(e.description||t.description){var n=t.description?t.description():e.description;return h("div",{class:kg("description")},[n])}},c=()=>{if(e.actions)return e.actions.map(l)};return()=>h(Tg,x({class:kg(),round:e.round,position:"bottom",safeAreaInsetBottom:e.safeAreaInsetBottom},Sf(e,fg),{"onUpdate:show":r}),{default:()=>[o(),u(),h("div",{class:kg("content")},[c(),null==t.default?void 0:t.default()]),s()]})}}));function Og(e){if(!If(e))return e;if(Array.isArray(e))return e.map((e=>Og(e)));if("object"==typeof e){var t={};return Object.keys(e).forEach((n=>{t[n]=Og(e[n])})),t}return e}var[Ug,Ng]=Wf("picker-column");var Ig=Symbol(Ug);function Fg(e){return Lf(e)&&e.disabled}var Lg=s({name:Ug,props:{readonly:Boolean,allowHtml:Boolean,className:null,textKey:{type:String,required:!0},itemHeight:{type:Number,required:!0},swipeDuration:{type:[Number,String],required:!0},visibleItemCount:{type:[Number,String],required:!0},defaultIndex:{type:Number,default:0},initialOptions:{type:Array,default:()=>[]}},emits:["change"],setup(e,{emit:t,slots:n}){var r,o,a,s,l,u=c(),A=i({index:e.defaultIndex,offset:0,duration:0,options:Og(e.initialOptions)}),f=pg(),p=()=>A.options.length,g=()=>e.itemHeight*(+e.visibleItemCount-1)/2,m=(n,i)=>{var o=-(n=(e=>{for(var t=e=ep(e,0,p());t<p();t++)if(!Fg(A.options[t]))return t;for(var n=e-1;n>=0;n--)if(!Fg(A.options[n]))return n})(n)||0)*e.itemHeight,a=()=>{n!==A.index&&(A.index=n,i&&t("change",n))};r&&o!==A.offset?l=a:a(),A.offset=o},v=t=>{JSON.stringify(t)!==JSON.stringify(A.options)&&(A.options=Og(t),m(e.defaultIndex))},y=t=>Lf(t)&&e.textKey in t?t[e.textKey]:t,b=t=>ep(Math.round(-t/e.itemHeight),0,p()-1),_=()=>{r=!1,A.duration=0,l&&(l(),l=null)},w=t=>{if(!e.readonly){if(f.start(t),r){var n=function(e){var t=window.getComputedStyle(e),n=t.transform||t.webkitTransform,r=n.slice(7,n.length-1).split(", ")[5];return Number(r)}(u.value);A.offset=Math.min(0,n-g()),o=A.offset}else o=A.offset;A.duration=0,a=Date.now(),s=o,l=null}},B=t=>{if(!e.readonly){f.move(t),f.isVertical()&&(r=!0,op(t,!0)),A.offset=ep(o+f.deltaY.value,-p()*e.itemHeight,e.itemHeight);var n=Date.now();n-a>300&&(a=n,s=A.offset)}},C=()=>{if(!e.readonly){var t=A.offset-s,n=Date.now()-a;if(n<300&&Math.abs(t)>15)((t,n)=>{var r=Math.abs(t/n);t=A.offset+r/.003*(t<0?-1:1);var i=b(t);A.duration=+e.swipeDuration,m(i,!0)})(t,n);else{var i=b(A.offset);A.duration=200,m(i,!0),setTimeout((()=>{r=!1}),0)}}},E=()=>{var t={height:e.itemHeight+"px"};return A.options.map(((i,o)=>{var a=y(i),s=Fg(i),u={role:"button",style:t,tabindex:s?-1:0,class:Ng("item",{disabled:s,selected:o===A.index}),onClick:()=>(t=>{r||e.readonly||(l=null,A.duration=200,m(t,!0))})(o)},c={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:a};return h("li",u,[n.option?n.option(i):h("div",c,null)])}))};return m(A.index),Bp(Ig),jp({state:A,setIndex:m,getValue:()=>A.options[A.index],setValue:e=>{for(var{options:t}=A,n=0;n<t.length;n++)if(y(t[n])===e)return m(n)},setOptions:v,stopMomentum:_}),d((()=>e.initialOptions),v),d((()=>e.defaultIndex),(e=>{m(e)})),()=>{var t={transform:"translate3d(0, "+(A.offset+g())+"px, 0)",transitionDuration:A.duration+"ms",transitionProperty:A.duration?"all":"none"};return h("div",{class:[Ng(),e.className],onTouchstart:w,onTouchmove:B,onTouchend:C,onTouchcancel:C},[h("ul",{ref:u,style:t,class:Ng("wrapper"),onTransitionend:_},[E()])])}}}),[Pg,Qg,Dg]=Wf("picker"),Mg={title:String,loading:Boolean,readonly:Boolean,allowHtml:Boolean,showToolbar:Ef,cancelButtonText:String,confirmButtonText:String,itemHeight:{type:[Number,String],default:44},visibleItemCount:{type:[Number,String],default:6},swipeDuration:{type:[Number,String],default:1e3}},Rg=Gf(s({name:Pg,props:Bf({},Mg,{columnsFieldNames:Object,columns:{type:Array,default:()=>[]},defaultIndex:{type:[Number,String],default:0},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),emits:["confirm","cancel","change"],setup(e,{emit:t,slots:n}){var i=c([]),{text:o,values:a,children:s}=Bf({text:e.valueKey,values:"values",children:"children"},e.columnsFieldNames),{children:l,linkChildren:u}=Ep(Ig);u();var A=r((()=>Zf(e.itemHeight))),f=r((()=>{var t=e.columns[0];if(t&&"string"!=typeof t){if(s in t)return"cascade";if(a in t)return"object"}return"plain"})),p=()=>l.map((e=>e.state.index)),g=(e,t)=>{var n=l[e];n&&n.setOptions(t)},m=t=>{for(var n={[s]:e.columns},r=p(),i=0;i<=t;i++)n=n[s][r[i]];for(;n&&n[s];)t++,g(t,n[s]),n=n[s][n.defaultIndex||0]},v=e=>l[e],y=e=>{var t=v(e);if(t)return t.getValue()},b=(e,t)=>{var n=v(e);n&&(n.setValue(t),"cascade"===f.value&&m(e))},_=e=>{var t=v(e);if(t)return t.state.index},w=(e,t)=>{var n=v(e);n&&(n.setIndex(t),"cascade"===f.value&&m(e))},B=()=>l.map((e=>e.getValue())),C=e=>{"plain"===f.value?t(e,y(0),_(0)):t(e,B(),p())},E=()=>{l.forEach((e=>e.stopMomentum())),C("confirm")},T=()=>C("cancel"),S=()=>{var t=e.confirmButtonText||Dg("confirm");return h("button",{type:"button",class:Qg("confirm"),onClick:E},[n.confirm?n.confirm():t])},k=()=>{if(e.showToolbar)return h("div",{class:Qg("toolbar")},[n.default?n.default():[(t=e.cancelButtonText||Dg("cancel"),h("button",{type:"button",class:Qg("cancel"),onClick:T},[n.cancel?n.cancel():t])),n.title?n.title():e.title?h("div",{class:[Qg("title"),"van-ellipsis"]},[e.title]):void 0,S()]]);var t},x=()=>i.value.map(((r,i)=>{var s;return h(Lg,{textKey:o,readonly:e.readonly,allowHtml:e.allowHtml,className:r.className,itemHeight:A.value,defaultIndex:null!=(s=r.defaultIndex)?s:+e.defaultIndex,swipeDuration:e.swipeDuration,initialOptions:r[a],visibleItemCount:e.visibleItemCount,onChange:()=>(e=>{"cascade"===f.value&&m(e),"plain"===f.value?t("change",y(0),_(0)):t("change",B(),e)})(i)},{option:n.option})}));return d((()=>e.columns),(()=>{var{columns:t}=e;"plain"===f.value?i.value=[{[a]:t}]:"cascade"===f.value?(()=>{for(var t=[],n={[s]:e.columns};n&&n[s];){for(var r,o=n[s],l=null!=(r=n.defaultIndex)?r:+e.defaultIndex;o[l]&&o[l].disabled;){if(!(l<o.length-1)){l=0;break}l++}t.push({[a]:n[s],className:n.className,defaultIndex:l}),n=o[l]}i.value=t})():i.value=t}),{immediate:!0}),jp({confirm:E,getValues:B,setValues:e=>{e.forEach(((e,t)=>{b(t,e)}))},getIndexes:p,setIndexes:e=>{e.forEach(((e,t)=>{w(t,e)}))},getColumnIndex:_,setColumnIndex:w,getColumnValue:y,setColumnValue:b,getColumnValues:e=>{var t=v(e);if(t)return t.state.options},setColumnValues:g}),()=>{var t,r,i,o,a,s;return h("div",{class:Qg()},["top"===e.toolbarPosition?k():null,e.loading?h(rg,{class:Qg("loading")},null):null,null==(t=n["columns-top"])?void 0:t.call(n),(i=A.value*+e.visibleItemCount,o={height:A.value+"px"},a={height:i+"px"},s={backgroundSize:"100% "+(i-A.value)/2+"px"},h("div",{class:Qg("columns"),style:a,onTouchmove:op},[x(),h("div",{class:Qg("mask"),style:s},null),h("div",{class:["van-hairline-unset--top-bottom",Qg("frame")],style:o},null)])),null==(r=n["columns-bottom"])?void 0:r.call(n),"bottom"===e.toolbarPosition?k():null])}}})),[Hg,jg]=Wf("area");var Kg=Gf(s({name:Hg,props:Bf({},Mg,{value:String,areaList:{type:Object,default:()=>({})},columnsNum:{type:[Number,String],default:3},isOverseaCode:{type:Function,default:function(e){return"9"===e[0]}},columnsPlaceholder:{type:Array,default:()=>[]}}),emits:["change","confirm"],setup(e,{emit:t,slots:n}){var o=c(),s=i({code:e.value,columns:[{values:[]},{values:[]},{values:[]}]}),l=r((()=>{var{areaList:t}=e;return{province:t.province_list||{},city:t.city_list||{},county:t.county_list||{}}})),u=r((()=>{var{columnsPlaceholder:t}=e;return{province:t[0]||"",city:t[1]||"",county:t[2]||""}})),A=(t,n)=>{var r=[];if("province"!==t&&!n)return r;var i=l.value[t];if(r=Object.keys(i).map((e=>({code:e,name:i[e]}))),n&&("city"===t&&e.isOverseaCode(n)&&(n="9"),r=r.filter((e=>0===e.code.indexOf(n)))),u.value[t]&&r.length){var o="";"city"===t?o="000000".slice(2,4):"county"===t&&(o="000000".slice(4,6)),r.unshift({code:n+o,name:u.value[t]})}return r},f=(t,n)=>{var r=n.length;"province"===t&&(r=e.isOverseaCode(n)?1:2),"city"===t&&(r=4),n=n.slice(0,r);for(var i=A(t,r>2?n.slice(0,r-2):""),o=0;o<i.length;o++)if(i[o].code.slice(0,r)===n)return o;return 0},p=()=>{var t=s.code||(()=>{if(e.columnsPlaceholder.length)return"000000";var{county:t,city:n}=l.value,r=Object.keys(t);if(r[0])return r[0];var i=Object.keys(n);return i[0]?i[0]:""})(),n=o.value,r=A("province"),i=A("city",t.slice(0,2));n&&(n.setColumnValues(0,r),n.setColumnValues(1,i),i.length&&"00"===t.slice(2,4)&&!e.isOverseaCode(t)&&([{code:t}]=i),n.setColumnValues(2,A("county",t.slice(0,4))),n.setIndexes([f("province",t),f("city",t),f("county",t)]))},m=t=>t.map(((t,n)=>(t&&((t=Og(t)).code&&t.name!==e.columnsPlaceholder[n]||(t.code="",t.name="")),t))),v=()=>{if(o.value){var e=o.value.getValues().filter(Boolean);return m(e)}return[]},y=(e,n)=>{s.code=e[n].code,p();var r=m(o.value.getValues());t("change",r,n)},b=(e,n)=>{p(),t("confirm",m(e),n)};return g(p),d((()=>e.value),(e=>{s.code=e,p()})),d((()=>e.areaList),p,{deep:!0}),d((()=>e.columnsNum),(()=>a(p))),jp({reset:(e="")=>{s.code=e,p()},getArea:()=>{var t=v(),n={code:"",country:"",province:"",city:"",county:""};if(!t.length)return n;var r=t.map((e=>e.name)),i=t.filter((e=>e.code));return n.code=i.length?i[i.length-1].code:"",e.isOverseaCode(n.code)?(n.country=r[1]||"",n.province=r[2]||""):(n.province=r[0]||"",n.city=r[1]||"",n.county=r[2]||""),n},getValues:v}),()=>{var t=s.columns.slice(0,+e.columnsNum);return h(Rg,x({ref:o,class:jg(),columns:t,valueKey:"name",onChange:y,onConfirm:b},Sf(e,["title","loading","readonly","itemHeight","swipeDuration","visibleItemCount","cancelButtonText","confirmButtonText"])),Sf(n,["title","columns-top","columns-bottom"]))}}})),[Vg,zg]=Wf("cell"),qg={icon:String,size:String,title:[Number,String],value:[Number,String],label:[Number,String],center:Boolean,isLink:Boolean,border:Ef,required:Boolean,iconPrefix:String,valueClass:null,labelClass:null,titleClass:null,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},Wg=Gf(s({name:Vg,props:Bf({},qg,Kp),setup(e,{slots:t}){var n=zp(),r=()=>{if(t.label||If(e.label))return h("div",{class:[zg("label"),e.labelClass]},[t.label?t.label():e.label])},i=()=>{if(t.title||If(e.title))return h("div",{class:[zg("title"),e.titleClass],style:e.titleStyle},[t.title?t.title():h("span",null,[e.title]),r()])},o=()=>{if(t.default||If(e.value)){var n=t.title||If(e.title);return h("div",{class:[zg("value",{alone:!n}),e.valueClass]},[t.default?t.default():h("span",null,[e.value])])}},a=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){var n=e.arrowDirection?"arrow-"+e.arrowDirection:"arrow";return h($p,{name:n,class:zg("right-icon")},null)}};return()=>{var r,{size:s,center:l,border:u,isLink:c,required:d}=e,A=null!=(r=e.clickable)?r:c,f={center:l,required:d,clickable:A,borderless:!u};return s&&(f[s]=!!s),h("div",{class:zg(f),role:A?"button":void 0,tabindex:A?0:void 0,onClick:n},[t.icon?t.icon():e.icon?h($p,{name:e.icon,class:zg("left-icon"),classPrefix:e.iconPrefix},null):void 0,i(),o(),a(),null==t.extra?void 0:t.extra()])}}}));function Gg(e,t){return(!t.required||!function(e){return Array.isArray(e)?!e.length:0!==e&&!e}(e))&&!(t.pattern&&!t.pattern.test(String(e)))}function Xg(e,t){var{message:n}=t;return Ff(n)?n(e,t):n||""}function Jg(e){e.target.composing=!0}function Yg(e){var{target:t}=e;t.composing&&(t.composing=!1,function(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}var $g=Symbol("van-form"),Zg=Symbol("van-field");function em(e){var t=o(Zg,null);t&&!t.childFieldValue.value&&(t.childFieldValue.value=e,d(e,(()=>{t.resetValidation(),t.validateWithTrigger("onChange")})))}var[tm,nm]=Wf("field"),rm={formatter:Function,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:[Number,String],inputAlign:String,placeholder:String,errorMessage:String,error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},clearIcon:{type:String,default:"clear"},modelValue:{type:[Number,String],default:""},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}},im=Gf(s({name:tm,props:Bf({},qg,rm,{rows:[Number,String],name:String,rules:Array,autosize:[Boolean,Object],labelWidth:[Number,String],labelClass:null,labelAlign:String,autocomplete:String,showWordLimit:Boolean,errorMessageAlign:String,type:{type:String,default:"text"},colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","click-input","click-left-icon","click-right-icon","update:modelValue"],setup(e,{emit:t,slots:n}){var o=i({focused:!1,validateFailed:!1,validateMessage:""}),s=c(),l=c(),{parent:A}=Bp($g),f=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},p=t=>If(e[t])?e[t]:A&&If(A.props[t])?A.props[t]:void 0,m=r((()=>{var t=p("readonly");if(e.clearable&&!t){var n=""!==f(),r="always"===e.clearTrigger||"focus"===e.clearTrigger&&o.focused;return n&&r}return!1})),v=r((()=>l.value&&n.input?l.value():e.modelValue)),y=e=>e.reduce(((e,t)=>e.then((()=>{if(!o.validateFailed){var{value:e}=v;return t.formatter&&(e=t.formatter(e,t)),Gg(e,t)?t.validator?function(e,t){return new Promise((n=>{var r=t.validator(e,t);if(Pf(r))return r.then(n);n(r)}))}(e,t).then((n=>{n&&"string"==typeof n?(o.validateFailed=!0,o.validateMessage=n):!1===n&&(o.validateFailed=!0,o.validateMessage=Xg(e,t))})):void 0:(o.validateFailed=!0,void(o.validateMessage=Xg(e,t)))}}))),Promise.resolve()),b=()=>{o.validateFailed&&(o.validateFailed=!1,o.validateMessage="")},_=(t=e.rules)=>new Promise((n=>{b(),t?y(t).then((()=>{o.validateFailed?n({name:e.name,message:o.validateMessage}):n()})):n()})),w=t=>{if(A&&e.rules){var n=A.props.validateTrigger===t,r=e.rules.filter((e=>e.trigger?e.trigger===t:n));r.length&&_(r)}},B=(n,r="onChange")=>{if(n=(t=>{var{maxlength:n}=e;if(If(n)&&t.length>n){var r=f();return r&&r.length===+n?r:t.slice(0,+n)}return t})(n),"number"===e.type||"digit"===e.type){var i="number"===e.type;n=np(n,i,i)}e.formatter&&r===e.formatTrigger&&(n=e.formatter(n)),s.value&&s.value.value!==n&&(s.value.value=n),n!==e.modelValue&&t("update:modelValue",n)},C=e=>{e.target.composing||B(e.target.value)},T=()=>{var e;return null==(e=s.value)?void 0:e.blur()},S=e=>{o.focused=!0,t("focus",e),p("readonly")&&T()},k=e=>{o.focused=!1,B(f(),"onBlur"),t("blur",e),w("onBlur"),hp()},O=e=>t("click-input",e),U=e=>t("click-left-icon",e),N=e=>t("click-right-icon",e),I=e=>{op(e),t("update:modelValue",""),t("clear",e)},F=r((()=>"boolean"==typeof e.error?e.error:!!(A&&A.props.showError&&o.validateFailed)||void 0)),L=r((()=>{var e=p("labelWidth");if(e)return{width:Xf(e)}})),P=n=>{13===n.keyCode&&(A&&A.props.submitOnEnter||"textarea"===e.type||op(n),"search"===e.type&&T());t("keypress",n)},Q=()=>{var t=s.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){e.style.height="auto";var n=e.scrollHeight;if(Lf(t)){var{maxHeight:r,minHeight:i}=t;void 0!==r&&(n=Math.min(n,r)),void 0!==i&&(n=Math.max(n,i))}n&&(e.style.height=n+"px")}(t,e.autosize)},D=()=>{var t=p("inputAlign");if(n.input)return h("div",{class:nm("control",[t,"custom"]),onClick:O},[n.input()]);var r,i={ref:s,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:nm("control",t),value:e.modelValue,disabled:p("disabled"),readonly:p("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,onBlur:k,onFocus:S,onInput:C,onClick:O,onChange:Yg,onKeypress:P,onCompositionend:Yg,onCompositionstart:Jg};return"textarea"===e.type?h("textarea",i,null):h("input",x("number"===(r=e.type)?{type:"text",inputmode:"decimal"}:"digit"===r?{type:"tel",inputmode:"numeric"}:{type:r},i),null)},M=()=>{var t=n["right-icon"];if(e.rightIcon||t)return h("div",{class:nm("right-icon"),onClick:N},[t?t():h($p,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},R=()=>{if(e.showWordLimit&&e.maxlength){var t=f().length;return h("div",{class:nm("word-limit")},[h("span",{class:nm("word-num")},[t]),E("/"),e.maxlength])}},H=()=>{if(!A||!1!==A.props.showErrorMessage){var t=e.errorMessage||o.validateMessage;if(t){var n=p("errorMessageAlign");return h("div",{class:nm("error-message",n)},[t])}}};return jp({blur:T,focus:()=>{var e;return null==(e=s.value)?void 0:e.focus()},validate:_,formValue:v,resetValidation:b}),u(Zg,{childFieldValue:l,resetValidation:b,validateWithTrigger:w}),d((()=>e.modelValue),(()=>{B(f()),b(),w("onChange"),a(Q)})),g((()=>{B(f(),e.formatTrigger),a(Q)})),()=>{var t,r=p("disabled"),i=p("labelAlign"),o=(t=p("colon")?":":"",n.label?[n.label(),t]:e.label?h("span",null,[e.label+t]):void 0),a=(()=>{var t=n["left-icon"];if(e.leftIcon||t)return h("div",{class:nm("left-icon"),onClick:U},[t?t():h($p,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return h(Wg,{size:e.size,icon:e.leftIcon,class:nm({error:F.value,disabled:r,["label-"+i]:i,"min-height":"textarea"===e.type&&!e.autosize}),center:e.center,border:e.border,isLink:e.isLink,required:e.required,clickable:e.clickable,titleStyle:L.value,valueClass:nm("value"),titleClass:[nm("label",i),e.labelClass],arrowDirection:e.arrowDirection},{default:()=>[h("div",{class:nm("body")},[D(),m.value&&h($p,{name:e.clearIcon,class:nm("clear"),onTouchstart:I},null),M(),n.button&&h("div",{class:nm("button")},[n.button()])]),R(),H()],icon:a?()=>a:null,title:o?()=>o:null,extra:n.extra})}}}));function om(){var e=i({show:!1}),t=t=>{e.show=t},n=n=>{Bf(e,n),a((()=>t(!0)))},r=()=>t(!1);return jp({open:n,close:r,toggle:t}),{open:n,close:r,state:e,toggle:t}}function am(e){var t=V(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}var sm=0;var[lm,um]=Wf("toast"),cm=s({name:lm,props:{icon:String,show:Boolean,overlay:Boolean,message:[Number,String],iconSize:[Number,String],className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,overlayClass:null,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,type:{type:String,default:"text"},duration:{type:Number,default:2e3},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"}},emits:["update:show"],setup(e,{emit:t}){var n,r=!1,i=()=>{var t=e.show&&e.forbidClick;r!==t&&((r=t)?(sm||document.body.classList.add("van-toast--unclickable"),sm++):sm&&(--sm||document.body.classList.remove("van-toast--unclickable")))},o=e=>t("update:show",e),a=()=>{e.closeOnClick&&o(!1)},s=()=>{clearTimeout(n)},l=()=>{var{icon:t,type:n,iconSize:r,iconPrefix:i,loadingType:o}=e;return t||"success"===n||"fail"===n?h($p,{name:t||n,size:r,class:um("icon"),classPrefix:i},null):"loading"===n?h(rg,{class:um("loading"),size:r,type:o},null):void 0},u=()=>{var{type:t,message:n}=e;if(If(n)&&""!==n)return"html"===t?h("div",{class:um("text"),innerHTML:String(n)},null):h("div",{class:um("text")},[n])};return d((()=>[e.show,e.forbidClick]),i),d((()=>[e.show,e.type,e.message,e.duration]),(()=>{s(),e.show&&e.duration>0&&(n=setTimeout((()=>{o(!1)}),e.duration))})),g(i),m(i),()=>h(Tg,x({show:e.show,class:[um([e.position,{[e.type]:!e.icon}]),e.className],overlay:e.overlay,lockScroll:!1,transition:e.transition,overlayClass:e.overlayClass,overlayStyle:e.overlayStyle,closeOnClickOverlay:e.closeOnClickOverlay,onClick:a,onClosed:s},{"onUpdate:show":o}),{default:()=>[l(),u()]})}}),dm={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},Am=[],hm=!1,fm=Bf({},dm),pm={};function gm(e){return Lf(e)?e:{message:e}}function mm(){if(!Am.length||hm){var e=function(){var{instance:e,unmount:t}=am({setup(){var n=c(""),{open:r,state:i,close:o,toggle:a}=om(),s=()=>{hm&&(Am=Am.filter((t=>t!==e)),t())};return y().render=()=>{var e={onClosed:s,"onUpdate:show":a};return n.value&&(e.message=n.value),h(cm,x(i,e),null)},{open:r,clear:o,message:n}}});return e}();Am.push(e)}return Am[Am.length-1]}function vm(e={}){if(!Cf)return{};var t=mm(),n=gm(e);return t.open(Bf({},fm,pm[n.type||fm.type],n)),t}var ym=e=>t=>vm(Bf({type:e},gm(t)));function bm(e){var{interceptor:t,args:n,done:r,canceled:i}=e;if(t){var o=t.apply(null,n||[]);Pf(o)?o.then((e=>{e?r():i&&i()})).catch(wf):o?r():i&&i()}else r()}vm.loading=ym("loading"),vm.success=ym("success"),vm.fail=ym("fail"),vm.clear=e=>{Am.length&&(e?(Am.forEach((e=>{e.clear()})),Am=[]):hm?Am.shift().clear():Am[0].clear())},vm.setDefaultOptions=function(e,t){"string"==typeof e?pm[e]=t:Bf(fm,e)},vm.resetDefaultOptions=e=>{"string"==typeof e?pm[e]=null:(fm=Bf({},dm),pm={})},vm.allowMultiple=(e=!0)=>{hm=e},vm.install=e=>{e.use(Gf(cm)),e.config.globalProperties.$toast=vm};var _m,[wm,Bm,Cm]=Wf("dialog"),Em=[...fg,"transition","closeOnPopstate"],Tm=s({name:wm,props:Bf({},hg,{title:String,theme:String,width:[Number,String],message:[String,Function],callback:Function,allowHtml:Boolean,className:null,beforeClose:Function,messageAlign:String,closeOnPopstate:Ef,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showConfirmButton:Ef,closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"}}),emits:["confirm","cancel","update:show"],setup(e,{emit:t,slots:n}){var r=i({confirm:!1,cancel:!1}),o=e=>t("update:show",e),a=t=>{o(!1),e.callback&&e.callback(t)},s=n=>()=>{e.show&&(t(n),e.beforeClose?(r[n]=!0,bm({interceptor:e.beforeClose,args:[n],done(){a(n),r[n]=!1},canceled(){r[n]=!1}})):a(n))},l=s("cancel"),u=s("confirm"),c=()=>{var t=n.title?n.title():e.title;if(t)return h("div",{class:Bm("header",{isolated:!e.message&&!n.default})},[t])},d=t=>{var{message:n,allowHtml:r,messageAlign:i}=e,o=Bm("message",{"has-title":t,[i]:i});return r&&"string"==typeof n?h("div",{class:o,innerHTML:n},null):h("div",{class:o},[Ff(n)?n():n])},A=()=>{if(n.default)return h("div",{class:Bm("content")},[n.default()]);var{title:t,message:r,allowHtml:i}=e;if(r){var o=!(!t&&!n.title);return h("div",{key:i?1:0,class:Bm("content",{isolated:!o})},[d(o)])}},f=()=>n.footer?n.footer():"round-button"===e.theme?h(Hp,{class:Bm("footer")},{default:()=>[e.showCancelButton&&h(ug,{type:"warning",text:e.cancelButtonText||Cm("cancel"),class:Bm("cancel"),color:e.cancelButtonColor,loading:r.cancel,onClick:l},null),e.showConfirmButton&&h(ug,{type:"danger",text:e.confirmButtonText||Cm("confirm"),class:Bm("confirm"),color:e.confirmButtonColor,loading:r.confirm,onClick:u},null)]}):h("div",{class:["van-hairline--top",Bm("footer")]},[e.showCancelButton&&h(ag,{size:"large",text:e.cancelButtonText||Cm("cancel"),class:Bm("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,onClick:l},null),e.showConfirmButton&&h(ag,{size:"large",text:e.confirmButtonText||Cm("confirm"),class:[Bm("confirm"),{"van-hairline--left":e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,onClick:u},null)]);return()=>{var{width:t,title:n,theme:r,message:i,className:a}=e;return h(Tg,x({role:"dialog",class:[Bm([r]),a],style:{width:Xf(t)},"aria-labelledby":n||i},Sf(e,Em),{"onUpdate:show":o}),{default:()=>[c(),A(),f()]})}}});function Sm(e){return Cf?new Promise(((t,n)=>{var r;_m||(r={setup(){var{state:e,toggle:t}=om();return()=>h(Tm,x(e,{"onUpdate:show":t}),null)}},({instance:_m}=am(r))),_m.open(Bf({},Sm.currentOptions,e,{callback:e=>{("confirm"===e?t:n)(e)}}))})):Promise.resolve()}Sm.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Sm.currentOptions=Bf({},Sm.defaultOptions),Sm.alert=Sm,Sm.confirm=e=>Sm(Bf({showCancelButton:!0},e)),Sm.close=()=>{_m&&_m.toggle(!1)},Sm.setDefaultOptions=e=>{Bf(Sm.currentOptions,e)},Sm.resetDefaultOptions=()=>{Sm.currentOptions=Bf({},Sm.defaultOptions)},Sm.install=e=>{e.use(Gf(Tm)),e.config.globalProperties.$dialog=Sm},Sm.Component=Gf(Tm);var[km,xm]=Wf("switch"),Om=Gf(s({name:km,props:{size:[Number,String],loading:Boolean,disabled:Boolean,modelValue:null,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t}){var n=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){var r=n()?e.inactiveValue:e.activeValue;t("update:modelValue",r),t("change",r)}},i=()=>{if(e.loading){var t=n()?e.activeColor:e.inactiveColor;return h(rg,{class:xm("loading"),color:t},null)}};return em((()=>e.modelValue)),()=>{var{size:t,loading:o,disabled:a,activeColor:s,inactiveColor:l}=e,u=n(),c={fontSize:Xf(t),backgroundColor:u?s:l};return h("div",{role:"switch",class:xm({on:u,loading:o,disabled:a}),style:c,"aria-checked":u,onClick:r},[h("div",{class:xm("node")},[i()])])}}})),[Um,Nm,Im]=Wf("address-edit-detail"),Fm=!!Cf&&/android/.test(navigator.userAgent.toLowerCase()),Lm=s({name:Um,props:{show:Boolean,value:String,focused:Boolean,detailRows:[Number,String],searchResult:Array,errorMessage:String,detailMaxlength:[Number,String],showSearchResult:Boolean},emits:["blur","focus","input","select-search"],setup(e,{emit:t}){var n=c(),r=()=>e.focused&&e.searchResult&&e.showSearchResult,i=()=>{n.value.blur()},o=()=>{if(e.value&&e.focused&&Fm)return h("div",{class:Nm("finish"),onClick:i},[Im("complete")])},a=()=>{if(r()){var{searchResult:n}=e;return n.map((n=>h(Wg,{clickable:!0,key:n.name+n.address,icon:"location-o",label:n.address,class:Nm("search-item"),border:!1,onClick:()=>(e=>{t("select-search",e),t("input",((e.address||"")+" "+(e.name||"")).trim())})(n)},{title:()=>(t=>{if(t.name){var n=t.name.replace(e.value,"<span class="+Nm("keyword")+">"+e.value+"</span>");return h("div",{innerHTML:n},null)}})(n)})))}},s=e=>t("blur",e),l=e=>t("focus",e),u=e=>t("input",e);return()=>{if(e.show)return h(p,null,[h(im,x({autosize:!0,ref:n,class:Nm(),rows:e.detailRows,type:"textarea",label:Im("label"),border:!r(),clearable:!Fm,maxlength:e.detailMaxlength,modelValue:e.value,placeholder:Im("placeholder"),errorMessage:e.errorMessage,onBlur:s,onFocus:l},{"onUpdate:modelValue":u}),{icon:o}),a()])}}}),[Pm,Qm,Dm]=Wf("address-edit"),Mm={name:"",tel:"",city:"",county:"",country:"",province:"",areaCode:"",isDefault:!1,postalCode:"",addressDetail:""};var Rm=Gf(s({name:Pm,props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:Ef,showDetail:Ef,showDelete:Boolean,showPostal:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:[Number,String],showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:{type:[Number,String],default:1},detailMaxlength:{type:[Number,String],default:200},addressInfo:{type:Object,default:()=>Bf({},Mm)},telValidator:{type:Function,default:Df},postalValidator:{type:Function,default:function(e){return/^\d{6}$/.test(e)}},areaColumnsPlaceholder:{type:Array,default:()=>[]}},emits:["save","focus","delete","click-area","change-area","change-detail","cancel-delete","select-search","change-default"],setup(e,{emit:t,slots:n}){var o=c(),s=i({data:{},showAreaPopup:!1,detailFocused:!1,errorInfo:{tel:"",name:"",areaCode:"",postalCode:"",addressDetail:""}}),l=r((()=>Lf(e.areaList)&&Object.keys(e.areaList).length)),u=r((()=>{var{country:e,province:t,city:n,county:r,areaCode:i}=s.data;if(i){var o=[e,t,n,r];return t&&t===n&&o.splice(1,1),o.filter(Boolean).join("/")}return""})),A=r((()=>{var t;return(null==(t=e.searchResult)?void 0:t.length)&&s.detailFocused})),f=()=>{if(o.value){var e=o.value.getArea();e.areaCode=e.code,delete e.code,Bf(s.data,e)}},p=e=>{s.errorInfo[e]="",s.detailFocused="addressDetail"===e,t("focus",e)},g=()=>{var n=["name","tel"];e.showArea&&n.push("areaCode"),e.showDetail&&n.push("addressDetail"),e.showPostal&&n.push("postalCode"),n.every((t=>{var n=(t=>{var n=String(s.data[t]||"").trim();if(e.validator){var r=e.validator(t,n);if(r)return r}switch(t){case"name":return n?"":Dm("nameEmpty");case"tel":return e.telValidator(n)?"":Dm("telInvalid");case"areaCode":return n?"":Dm("areaEmpty");case"addressDetail":return n?"":Dm("addressEmpty");case"postalCode":return n&&!e.postalValidator(n)?Dm("postalEmpty"):""}})(t);return n&&(s.errorInfo[t]=n),!n}))&&!e.isSaving&&t("save",s.data)},m=e=>{s.data.addressDetail=e,t("change-detail",e)},v=e=>{(e=e.filter(Boolean)).some((e=>!e.code))?vm(Dm("areaEmpty")):(s.showAreaPopup=!1,f(),t("change-area",e))},y=()=>{Sm.confirm({title:Dm("confirmDelete")}).then((()=>t("delete",s.data))).catch((()=>t("cancel-delete",s.data)))},b=e=>{s.data.areaCode=e||"",e&&a(f)},_=()=>{setTimeout((()=>{s.detailFocused=!1}))},w=()=>{if(e.showSetDefault){var n={"right-icon":()=>h(Om,{modelValue:s.data.isDefault,"onUpdate:modelValue":e=>s.data.isDefault=e,size:"24",onChange:e=>t("change-default",e)},null)};return T(h(Wg,{center:!0,title:Dm("defaultAddress"),class:Qm("default")},n),[[j,!A.value]])}return null};return jp({getArea:()=>o.value?o.value.getValues():[],setAreaCode:b,setAddressDetail:e=>{s.data.addressDetail=e}}),d((()=>e.areaList),(()=>b(s.data.areaCode))),d((()=>e.addressInfo),(e=>{s.data=Bf({},Mm,e),b(e.areaCode)}),{deep:!0,immediate:!0}),()=>{var{data:r,errorInfo:i}=s,{disableArea:a}=e;return h("div",{class:Qm()},[h("div",{class:Qm("fields")},[h(im,{modelValue:r.name,"onUpdate:modelValue":e=>r.name=e,clearable:!0,label:Dm("name"),placeholder:Dm("namePlaceholder"),errorMessage:i.name,onFocus:()=>p("name")},null),h(im,{modelValue:r.tel,"onUpdate:modelValue":e=>r.tel=e,clearable:!0,type:"tel",label:Dm("tel"),maxlength:e.telMaxlength,placeholder:Dm("telPlaceholder"),errorMessage:i.tel,onFocus:()=>p("tel")},null),T(h(im,{readonly:!0,label:Dm("area"),clickable:!a,rightIcon:a?void 0:"arrow",modelValue:u.value,placeholder:e.areaPlaceholder||Dm("areaPlaceholder"),errorMessage:i.areaCode,onFocus:()=>p("areaCode"),onClick:()=>{t("click-area"),s.showAreaPopup=!a}},null),[[j,e.showArea]]),h(Lm,{show:e.showDetail,value:r.addressDetail,focused:s.detailFocused,detailRows:e.detailRows,errorMessage:i.addressDetail,searchResult:e.searchResult,detailMaxlength:e.detailMaxlength,showSearchResult:e.showSearchResult,onBlur:_,onFocus:()=>p("addressDetail"),onInput:m,onSelectSearch:e=>t("select-search",e)},null),e.showPostal&&T(h(im,{modelValue:r.postalCode,"onUpdate:modelValue":e=>r.postalCode=e,type:"tel",label:Dm("postal"),maxlength:"6",placeholder:Dm("postal"),errorMessage:i.postalCode,onFocus:()=>p("postalCode")},null),[[j,!A.value]]),null==n.default?void 0:n.default()]),w(),T(h("div",{class:Qm("buttons")},[h(ag,{block:!0,round:!0,type:"danger",text:e.saveButtonText||Dm("save"),loading:e.isSaving,onClick:g},null),e.showDelete&&h(ag,{block:!0,round:!0,loading:e.isDeleting,text:e.deleteButtonText||Dm("delete"),onClick:y},null)]),[[j,!A.value]]),h(Tg,{show:s.showAreaPopup,"onUpdate:show":e=>s.showAreaPopup=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[h(Kg,{ref:o,value:r.areaCode,loading:!l.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:v,onCancel:()=>{s.showAreaPopup=!1}},null)]})])}}})),[Hm,jm]=Wf("radio-group"),Km=Symbol(Hm),Vm=Gf(s({name:Hm,props:{disabled:Boolean,iconSize:[Number,String],direction:String,modelValue:null,checkedColor:String},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var{linkChildren:r}=Ep(Km);return d((()=>e.modelValue),(e=>t("change",e))),r({props:e,updateValue:e=>t("update:modelValue",e)}),em((()=>e.modelValue)),()=>h("div",{class:jm([e.direction]),role:"radiogroup"},[null==n.default?void 0:n.default()])}})),[zm,qm]=Wf("tag"),Wm=Gf(s({name:zm,props:{size:String,mark:Boolean,show:Ef,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},emits:["close"],setup(e,{slots:t,emit:n}){var r=e=>{e.stopPropagation(),n("close",e)},i=()=>{var{type:n,mark:i,plain:o,round:a,size:s,closeable:l}=e,u={mark:i,plain:o,round:a};s&&(u[s]=s);var c=l&&h($p,{name:"cross",class:qm("close"),onClick:r},null);return h("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:qm([u,n])},[null==t.default?void 0:t.default(),c])};return()=>h(O,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}})),Gm={name:null,disabled:Boolean,iconSize:[Number,String],modelValue:null,checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"}},Xm=s({props:Bf({},Gm,{role:String,parent:Object,checked:Boolean,bindGroup:Ef,bem:{type:Function,required:!0}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){var i=c(),o=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},a=r((()=>o("disabled")||e.disabled)),s=r((()=>o("direction"))),l=r((()=>{var t=e.checkedColor||o("checkedColor");if(t&&e.checked&&!a.value)return{borderColor:t,backgroundColor:t}})),u=n=>{var{target:r}=n,o=i.value,s=o===r||o.contains(r);a.value||!s&&e.labelDisabled||t("toggle"),t("click",n)},d=()=>{var{bem:t,shape:r,checked:s}=e,u=e.iconSize||o("iconSize");return h("div",{ref:i,class:t("icon",[r,{disabled:a.value,checked:s}]),style:{fontSize:Xf(u)}},[n.icon?n.icon({checked:s}):h($p,{name:"success",style:l.value},null)])},A=()=>{if(n.default)return h("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[n.default()])};return()=>{var t=[d()];return"left"===e.labelPosition?t.unshift(A()):t.push(A()),h("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},s.value]),tabindex:a.value?-1:0,"aria-checked":e.checked,onClick:u},[t])}}}),[Jm,Ym]=Wf("radio"),$m=Gf(s({name:Jm,props:Gm,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){var{parent:r}=Bp(Km),i=()=>{r?r.updateValue(e.name):t("update:modelValue",e.name)};return()=>h(Xm,x({bem:Ym,role:"radio",parent:r,checked:(r?r.props.modelValue:e.modelValue)===e.name,onToggle:i},e),Sf(n,["default","icon"]))}})),[Zm,ev]=Wf("address-item"),tv=s({name:Zm,props:{disabled:Boolean,switchable:Boolean,defaultTagText:String,address:{type:Object,required:!0}},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){var r=()=>{e.switchable&&n("select"),n("click")},i=()=>h($p,{name:"edit",class:ev("edit"),onClick:e=>{e.stopPropagation(),n("edit"),n("click")}},null),o=()=>{var{address:n,disabled:r,switchable:i}=e,o=[h("div",{class:ev("name")},[n.name+" "+n.tel,t.tag?t.tag(e.address):e.address.isDefault&&e.defaultTagText?h(Wm,{type:"danger",round:!0,class:ev("tag")},{default:()=>[e.defaultTagText]}):void 0]),h("div",{class:ev("address")},[n.address])];return i&&!r?h($m,{name:n.id,iconSize:18},{default:()=>[o]}):o};return()=>{var{disabled:n}=e;return h("div",{class:ev({disabled:n}),onClick:r},[h(Wg,{border:!1,valueClass:ev("value")},{default:o,"right-icon":i}),null==t.bottom?void 0:t.bottom(Bf({},e.address,{disabled:n}))])}}}),[nv,rv,iv]=Wf("address-list"),ov=Gf(s({name:nv,props:{modelValue:[Number,String],switchable:Ef,disabledText:String,addButtonText:String,defaultTagText:String,list:{type:Array,default:()=>[]},disabledList:{type:Array,default:()=>[]}},emits:["add","edit","select","click-item","edit-disabled","select-disabled","update:modelValue"],setup(e,{slots:t,emit:n}){var r=(r,i)=>{if(r)return r.map(((r,o)=>((r,i,o)=>h(tv,{key:r.id,address:r,disabled:o,switchable:e.switchable,defaultTagText:e.defaultTagText,onEdit:()=>{n(o?"edit-disabled":"edit",r,i)},onClick:()=>n("click-item",r,i),onSelect:()=>{n(o?"select-disabled":"select",r,i),o||n("update:modelValue",r.id)}},{bottom:t["item-bottom"],tag:t.tag}))(r,o,i)))};return()=>{var i=r(e.list),o=r(e.disabledList,!0),a=e.disabledText&&h("div",{class:rv("disabled-text")},[e.disabledText]);return h("div",{class:rv()},[null==t.top?void 0:t.top(),h(Vm,{modelValue:e.modelValue},{default:()=>[i]}),a,o,null==t.default?void 0:t.default(),h("div",{class:rv("bottom")},[h(ag,{round:!0,block:!0,type:"danger",text:e.addButtonText||iv("add"),class:rv("add"),onClick:()=>n("add")},null)])])}}})),[av,sv,lv]=Wf("calendar");function uv(e,t){var n=e.getFullYear(),r=t.getFullYear();if(n===r){var i=e.getMonth(),o=t.getMonth();return i===o?0:i>o?1:-1}return n>r?1:-1}function cv(e,t){var n=uv(e,t);if(0===n){var r=e.getDate(),i=t.getDate();return r===i?0:r>i?1:-1}return n}var dv=e=>new Date(e),Av=e=>Array.isArray(e)?e.map(dv):dv(e);function hv(e,t){var n=dv(e);return n.setDate(n.getDate()+t),n}var fv=e=>hv(e,-1),pv=e=>hv(e,1),gv=()=>{var e=new Date;return e.setHours(0,0,0,0),e};function mv(){var e=c([]);z((()=>{e.value=[]}));return[e,t=>n=>{e.value[t]=n}]}var vv=Bf({},Mg,{filter:Function,columnsOrder:Array,formatter:{type:Function,default:(e,t)=>t}}),yv=Object.keys(Mg);function bv(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function _v(e,t){return 32-new Date(e,t-1,32).getDate()}var wv,Bv=e=>{var t=c();return g((()=>{a((()=>{t.value=wp(e).height}))})),t},[Cv]=Wf("calendar-day"),Ev=s({name:Cv,props:{color:String,index:Number,rowHeight:String,offset:{type:Number,default:0},item:{type:Object,required:!0}},emits:["click"],setup(e,{emit:t,slots:n}){var i=r((()=>{var{item:t,index:n,color:r,offset:i,rowHeight:o}=e,a={height:o};if("placeholder"===t.type)return a.width="100%",a;if(0===n&&(a.marginLeft=100*i/7+"%"),r)switch(t.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":a.background=r;break;case"middle":a.color=r}return a})),o=()=>{"disabled"!==e.item.type&&t("click",e.item)},a=()=>{var{topInfo:t}=e.item;if(t||n["top-info"])return h("div",{class:sv("top-info")},[n["top-info"]?n["top-info"](e.item):t])},s=()=>{var{bottomInfo:t}=e.item;if(t||n["bottom-info"])return h("div",{class:sv("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):t])},l=()=>{var{item:t,color:n,rowHeight:r}=e,{type:i,text:o}=t,l=[a(),o,s()];return"selected"===i?h("div",{class:sv("selected-day"),style:{width:r,height:r,background:n}},[l]):l};return()=>{var{type:t,className:n}=e.item;return h("div",{role:"gridcell",style:i.value,class:[sv("day",t),n],tabindex:"disabled"===t?void 0:-1,onClick:o},[l()])}}}),[Tv]=Wf("calendar-month"),Sv=s({name:Tv,props:{type:String,color:String,showMark:Boolean,rowHeight:[Number,String],formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number,date:{type:Date,required:!0},minDate:{type:Date,required:!0},maxDate:{type:Date,required:!0}},emits:["click","update-height"],setup(e,{emit:t,slots:n}){var[i,o]=function(e=!1){var t=c(e);return[t,(e=!t.value)=>{t.value=e}]}(),a=c(),s=c(),l=Bv(s),u=r((()=>{return t=e.date,lv("monthTitle",t.getFullYear(),t.getMonth()+1);var t})),d=r((()=>Xf(e.rowHeight))),A=r((()=>{var t=e.date.getDay();return e.firstDayOfWeek?(t+7-e.firstDayOfWeek)%7:t})),f=r((()=>_v(e.date.getFullYear(),e.date.getMonth()+1))),p=r((()=>i.value||!e.lazyRender)),g=t=>{var{type:n,minDate:r,maxDate:i,currentDate:o}=e;if(cv(t,r)<0||cv(t,i)>0)return"disabled";if(null===o)return"";if(Array.isArray(o)){if("multiple"===n)return(t=>{var n=t=>e.currentDate.some((e=>0===cv(e,t)));if(n(t)){var r=fv(t),i=pv(t),o=n(r),a=n(i);return o&&a?"multiple-middle":o?"end":a?"start":"multiple-selected"}return""})(t);if("range"===n)return(t=>{var[n,r]=e.currentDate;if(!n)return"";var i=cv(t,n);if(!r)return 0===i?"start":"";var o=cv(t,r);return e.allowSameDay&&0===i&&0===o?"start-end":0===i?"start":0===o?"end":i>0&&o<0?"middle":""})(t)}else if("single"===n)return 0===cv(t,o)?"selected":"";return""},m=t=>{if("range"===e.type){if("start"===t||"end"===t)return lv(t);if("start-end"===t)return lv("startEnd")}},v=()=>{if(e.showMonthTitle)return h("div",{class:sv("month-title")},[u.value])},y=()=>{if(e.showMark&&p.value)return h("div",{class:sv("month-mark")},[e.date.getMonth()+1])},b=r((()=>{var e=Math.ceil((f.value+A.value)/7);return Array(e).fill({type:"placeholder"})})),_=r((()=>{for(var t=[],n=e.date.getFullYear(),r=e.date.getMonth(),i=1;i<=f.value;i++){var o=new Date(n,r,i),a=g(o),s={date:o,type:a,text:i,bottomInfo:m(a)};e.formatter&&(s=e.formatter(s)),t.push(s)}return t})),w=(r,i)=>h(Ev,{item:r,index:i,color:e.color,offset:A.value,rowHeight:d.value,onClick:e=>t("click",e)},Sf(n,["top-info","bottom-info"]));return jp({getTitle:()=>u.value,getHeight:()=>l.value,setVisible:o,scrollIntoView:t=>{var n=(e.showSubtitle?a.value:s.value).getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop;lp(t,n)}}),()=>h("div",{class:sv("month"),ref:s},[v(),h("div",{ref:a,role:"grid",class:sv("days")},[y(),(p.value?_:b).value.map(w)])])}}),[kv]=Wf("calendar-header"),xv=s({name:kv,props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},setup(e,{slots:t}){var n=()=>{if(e.showTitle){var n=e.title||lv("title"),r=t.title?t.title():n;return h("div",{class:sv("header-title")},[r])}},r=()=>{if(e.showSubtitle)return h("div",{class:sv("header-subtitle")},[e.subtitle])},i=()=>{var{firstDayOfWeek:t}=e,n=lv("weekdays"),r=[...n.slice(t,7),...n.slice(0,t)];return h("div",{class:sv("weekdays")},[r.map((e=>h("span",{class:sv("weekday")},[e])))])};return()=>h("div",{class:sv("header")},[n(),r(),i()])}}),Ov=Gf(s({name:av,props:{show:Boolean,title:String,color:String,round:Ef,readonly:Boolean,poppable:Ef,teleport:[String,Object],showMark:Ef,showTitle:Ef,formatter:Function,rowHeight:[Number,String],confirmText:String,rangePrompt:String,lazyRender:Ef,showConfirm:Ef,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Ef,closeOnPopstate:Ef,confirmDisabledText:String,closeOnClickOverlay:Ef,safeAreaInsetBottom:Ef,type:{type:String,default:"single"},position:{type:String,default:"bottom"},maxRange:{type:[Number,String],default:null},minDate:{type:Date,validator:Qf,default:gv},maxDate:{type:Date,validator:Qf,default:()=>{var e=gv();return new Date(e.getFullYear(),e.getMonth()+6,e.getDate())}},firstDayOfWeek:{type:[Number,String],default:0,validator:e=>e>=0&&e<=6},showRangePrompt:{type:Boolean,default:!0}},emits:["select","confirm","unselect","month-show","update:show","over-range"],setup(e,{emit:t,slots:n}){var o,a=(t,n=e.minDate,r=e.maxDate)=>-1===cv(t,n)?n:1===cv(t,r)?r:t,s=(t=e.defaultDate)=>{var{type:n,minDate:r,maxDate:i}=e;if(null===t)return t;var o=gv();return"range"===n?(Array.isArray(t)||(t=[]),[a(t[0]||o,r,fv(i)),a(t[1]||o,pv(r))]):"multiple"===n?Array.isArray(t)?t.map((e=>a(e))):[a(o)]:(t&&!Array.isArray(t)||(t=o),a(t))},l=c(),u=i({subtitle:"",currentDate:s()}),[A,f]=mv(),p=r((()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0)),g=r((()=>{var t=[],n=new Date(e.minDate);n.setDate(1);do{t.push(new Date(n)),n.setMonth(n.getMonth()+1)}while(1!==uv(n,e.maxDate));return t})),m=r((()=>{var{currentDate:t}=u;if(t){if("range"===e.type)return!t[0]||!t[1];if("multiple"===e.type)return!t.length}return!t})),v=()=>{var e=sp(l.value),n=e+o,r=g.value.map(((e,t)=>A.value[t].getHeight()));if(!(n>r.reduce(((e,t)=>e+t),0)&&e>0)){for(var i,a=0,s=[-1,-1],c=0;c<g.value.length;c++){var d=A.value[c];a<=n&&a+r[c]>=e&&(s[1]=c,i||(i=d,s[0]=c),A.value[c].showed||(A.value[c].showed=!0,t("month-show",{date:d.date,title:d.title}))),a+=r[c]}g.value.forEach(((e,t)=>{var n=t>=s[0]-1&&t<=s[1]+1;A.value[t].setVisible(n)})),i&&(u.subtitle=i.getTitle())}},y=e=>{vp((()=>{g.value.some(((t,n)=>0===uv(t,e)&&(A.value[n].scrollIntoView(l.value),!0))),v()}))},b=()=>{if(!e.poppable||e.show){var{currentDate:t}=u;if(t){var n="single"===e.type?t:t[0];y(n)}else vp(v)}},_=()=>{e.poppable&&!e.show||vp((()=>{o=Math.floor(wp(l).height),b()}))},w=(e=s())=>{u.currentDate=e,b()},B=()=>t("confirm",Av(u.currentDate)),C=(n,r)=>{var i=e=>{u.currentDate=e,t("select",Av(u.currentDate))};if(r&&"range"===e.type&&!(n=>{var{maxRange:r,rangePrompt:i,showRangePrompt:o}=e;return!(r&&function(e){var t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(n)>r&&(o&&vm(i||lv("rangePrompt",r)),t("over-range"),1))})(n))return void(e.showConfirm?i([n[0],hv(n[0],+e.maxRange-1)]):i(n));i(n),r&&!e.showConfirm&&B()},E=n=>{if(!e.readonly&&n.date){var{date:r}=n,{type:i}=e,{currentDate:o}=u;if("range"===i){if(!o)return void C([r]);var[a,s]=o;if(a&&!s){var l=cv(r,a);1===l?C([a,r],!0):-1===l?C([r]):e.allowSameDay&&C([r,r],!0)}else C([r])}else if("multiple"===i){if(!o)return void C([r]);var c;if(u.currentDate.some(((e,t)=>{var n=0===cv(e,r);return n&&(c=t),n}))){var[d]=o.splice(c,1);t("unselect",dv(d))}else e.maxRange&&o.length>=e.maxRange?vm(e.rangePrompt||lv("rangePrompt",e.maxRange)):C([...o,r])}else C(r,!0)}},T=e=>t("update:show",e),S=(t,r)=>{var i=0!==r||!e.showSubtitle;return h(Sv,x({ref:f(r),date:t,currentDate:u.currentDate,showMonthTitle:i,firstDayOfWeek:p.value},Sf(e,["type","color","minDate","maxDate","showMark","formatter","rowHeight","lazyRender","showSubtitle","allowSameDay"]),{onClick:E}),Sf(n,["top-info","bottom-info"]))},k=()=>{if(n.footer)return n.footer();if(e.showConfirm){var t=m.value?e.confirmDisabledText:e.confirmText;return h(ag,{round:!0,block:!0,type:"danger",color:e.color,class:sv("confirm"),disabled:m.value,nativeType:"button",onClick:B},{default:()=>[t||lv("confirm")]})}},O=()=>h("div",{class:sv()},[h(xv,{title:e.title,showTitle:e.showTitle,subtitle:u.subtitle,showSubtitle:e.showSubtitle,firstDayOfWeek:p.value},{title:n.title}),h("div",{ref:l,class:sv("body"),onScroll:v},[g.value.map(S)]),h("div",{class:sv("footer",{unfit:!e.safeAreaInsetBottom})},[k()])]);return d((()=>e.show),_),d((()=>[e.type,e.minDate,e.maxDate]),(()=>{w(s(u.currentDate))})),d((()=>e.defaultDate),(e=>{u.currentDate=e,b()})),jp({reset:w,scrollToDate:y}),Sp(_),()=>e.poppable?h(Tg,x({show:e.show,class:sv("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,closeOnClickOverlay:e.closeOnClickOverlay},{"onUpdate:show":T}),{default:()=>[O()]}):O()}})),[Uv,Nv]=Wf("image"),Iv=Gf(s({name:Uv,props:{src:String,alt:String,fit:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,iconSize:[Number,String],showError:Ef,iconPrefix:String,showLoading:Ef,errorIcon:{type:String,default:"photo-fail"},loadingIcon:{type:String,default:"photo"}},emits:["load","error"],setup(e,{emit:t,slots:n}){var i=c(!1),o=c(!0),a=c(),{$Lazyload:s}=y().proxy,l=r((()=>{var t={};return If(e.width)&&(t.width=Xf(e.width)),If(e.height)&&(t.height=Xf(e.height)),If(e.radius)&&(t.overflow="hidden",t.borderRadius=Xf(e.radius)),t}));d((()=>e.src),(()=>{i.value=!1,o.value=!0}));var u=e=>{o.value=!1,t("load",e)},A=e=>{i.value=!0,o.value=!1,t("error",e)},f=()=>{if(!i.value&&e.src){var t={alt:e.alt,class:Nv("img"),style:{objectFit:e.fit}};return e.lazyLoad?T(h("img",x({ref:a},t),null),[[S("lazy"),e.src]]):h("img",x({src:e.src,onLoad:u,onError:A},t),null)}},p=({el:e})=>{e===a.value&&o.value&&u()},g=({el:e})=>{e!==a.value||i.value||A()};return s&&Cf&&(s.$on("loaded",p),s.$on("error",g),k((()=>{s.$off("loaded",p),s.$off("error",g)}))),()=>h("div",{class:Nv({round:e.round}),style:l.value},[f(),o.value&&e.showLoading?h("div",{class:Nv("loading")},[n.loading?n.loading():h($p,{size:e.iconSize,name:e.loadingIcon,class:Nv("loading-icon"),classPrefix:e.iconPrefix},null)]):i.value&&e.showError?h("div",{class:Nv("error")},[n.error?n.error():h($p,{size:e.iconSize,name:e.errorIcon,class:Nv("error-icon"),classPrefix:e.iconPrefix},null)]):void 0,null==n.default?void 0:n.default()])}})),[Fv,Lv]=Wf("card"),Pv=Gf(s({name:Fv,props:{tag:String,num:[Number,String],desc:String,thumb:String,title:String,price:[Number,String],centered:Boolean,lazyLoad:Boolean,thumbLink:String,originPrice:[Number,String],currency:{type:String,default:"¥"}},emits:["click-thumb"],setup(e,{slots:t,emit:n}){var r=()=>{if(t.tag||e.tag)return h("div",{class:Lv("tag")},[t.tag?t.tag():h(Wm,{mark:!0,type:"danger"},{default:()=>[e.tag]})])},i=()=>{if(t.thumb||e.thumb)return h("a",{href:e.thumbLink,class:Lv("thumb"),onClick:e=>n("click-thumb",e)},[t.thumb?t.thumb():h(Iv,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),r()])};return()=>{var n,r,o=t.num||If(e.num),a=t.price||If(e.price),s=t["origin-price"]||If(e.originPrice),l=o||a||s||t.bottom,u=a&&h("div",{class:Lv("price")},[t.price?t.price():(r=e.price.toString().split("."),h("div",null,[h("span",{class:Lv("price-currency")},[e.currency]),h("span",{class:Lv("price-integer")},[r[0]]),E("."),h("span",{class:Lv("price-decimal")},[r[1]])]))]),c=s&&h("div",{class:Lv("origin-price")},[t["origin-price"]?t["origin-price"]():e.currency+" "+e.originPrice]),d=o&&h("div",{class:Lv("num")},[t.num?t.num():"x"+e.num]),A=t.footer&&h("div",{class:Lv("footer")},[t.footer()]),f=l&&h("div",{class:Lv("bottom")},[null==(n=t["price-top"])?void 0:n.call(t),u,c,d,null==t.bottom?void 0:t.bottom()]);return h("div",{class:Lv()},[h("div",{class:Lv("header")},[i(),h("div",{class:Lv("content",{centered:e.centered})},[h("div",null,[t.title?t.title():e.title?h("div",{class:[Lv("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?h("div",{class:[Lv("desc"),"van-ellipsis"]},[e.desc]):void 0,null==t.tags?void 0:t.tags()]),f])]),A])}}}));var[Qv,Dv]=Wf("sticky"),Mv=Gf(s({name:Qv,props:{zIndex:[Number,String],container:Object,offsetTop:{type:[Number,String],default:0},offsetBottom:{type:[Number,String],default:0},position:{type:String,default:"top"}},emits:["scroll","change"],setup(e,{emit:t,slots:n}){var o=c(),a=Qp(o),s=i({fixed:!1,width:0,height:0,transform:0}),l=r((()=>Zf("top"===e.position?e.offsetTop:e.offsetBottom))),u=r((()=>{var{fixed:e,height:t,width:n}=s;if(e)return{width:n+"px",height:t+"px"}})),A=r((()=>{if(s.fixed){var t=Bf(Yf(e.zIndex),{width:s.width+"px",height:s.height+"px",[e.position]:l.value+"px"});return s.transform&&(t.transform="translate3d(0, "+s.transform+"px, 0)"),t}})),f=()=>{if(o.value&&!rp(o)){var{container:n,position:r}=e,i=wp(o),a=sp(window);if(s.width=i.width,s.height=i.height,"top"===r)if(n){var u=wp(n),c=u.bottom-l.value-s.height;s.fixed=l.value>i.top&&u.bottom>0,s.transform=c<0?c:0}else s.fixed=l.value>i.top;else{var{clientHeight:d}=document.documentElement;if(n){var A=wp(n),h=d-A.top-l.value-s.height;s.fixed=d-l.value<i.bottom&&d>A.top,s.transform=h<0?-h:0}else s.fixed=d-l.value<i.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:s.fixed})})(a)}};return d((()=>s.fixed),(e=>t("change",e))),Op("scroll",f,{target:a}),function(e,t){if(Cf&&window.IntersectionObserver){var n=new IntersectionObserver((e=>{t(e[0].intersectionRatio>0)}),{root:document.body}),r=()=>{e.value&&n.unobserve(e.value)};H(r),k(r),Sp((()=>{e.value&&n.observe(e.value)}))}}(o,f),()=>h("div",{ref:o,style:u.value},[h("div",{class:Dv({fixed:s.fixed}),style:A.value},[null==n.default?void 0:n.default()])])}})),[Rv,Hv]=Wf("tab"),jv=s({name:Rv,props:{dot:Boolean,type:String,color:String,title:String,badge:[Number,String],isActive:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,renderTitle:Function,inactiveColor:String},setup(e){var t=r((()=>{var t={},{type:n,color:r,disabled:i,isActive:o,activeColor:a,inactiveColor:s}=e;r&&"card"===n&&(t.borderColor=r,i||(o?t.backgroundColor=r:t.color=r));var l=o?a:s;return l&&(t.color=l),t}));return()=>{return h("div",{role:"tab",class:[Hv({active:e.isActive,disabled:e.disabled})],style:t.value,"aria-selected":e.isActive},[(n=h("span",{class:Hv("text",{ellipsis:!e.scrollable})},[e.renderTitle?e.renderTitle():e.title]),e.dot||If(e.badge)&&""!==e.badge?h(Xp,{dot:e.dot,content:e.badge},{default:()=>[n]}):n)]);var n}}}),[Kv,Vv]=Wf("swipe"),zv=Symbol(Kv),qv=Gf(s({name:Kv,props:{loop:Ef,width:[Number,String],height:[Number,String],vertical:Boolean,touchable:Ef,lazyRender:Boolean,indicatorColor:String,showIndicators:Ef,stopPropagation:Ef,autoplay:{type:[Number,String],default:0},duration:{type:[Number,String],default:500},initialSwipe:{type:[Number,String],default:0}},emits:["change"],setup(e,{emit:t,slots:n}){var o,a,s,l,u=c(),A=i({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),f=pg(),p=Np(),{children:m,linkChildren:v}=Ep(zv),y=r((()=>m.length)),b=r((()=>A[e.vertical?"height":"width"])),_=r((()=>e.vertical?f.deltaY.value:f.deltaX.value)),w=r((()=>A.rect?(e.vertical?A.rect.height:A.rect.width)-b.value*y.value:0)),B=r((()=>Math.ceil(Math.abs(w.value)/b.value))),C=r((()=>y.value*b.value)),E=r((()=>(A.active+y.value)%y.value)),T=r((()=>{var t=e.vertical?"vertical":"horizontal";return f.direction.value===t})),S=r((()=>{var t={transitionDuration:(A.swiping?0:e.duration)+"ms",transform:"translate"+(e.vertical?"Y":"X")+"("+A.offset+"px)"};if(b.value){var n=e.vertical?"height":"width",r=e.vertical?"width":"height";t[n]=C.value+"px",t[r]=e[r]?e[r]+"px":""}return t})),x=(t,n=0)=>{var r=t*b.value;e.loop||(r=Math.min(r,-w.value));var i=n-r;return e.loop||(i=ep(i,w.value,0)),i},O=({pace:n=0,offset:r=0,emitChange:i})=>{if(!(y.value<=1)){var{active:o}=A,a=(t=>{var{active:n}=A;return t?e.loop?ep(n+t,-1,y.value):ep(n+t,0,B.value):n})(n),s=x(a,r);if(e.loop){if(m[0]&&s!==w.value){var l=s<w.value;m[0].setOffset(l?C.value:0)}if(m[y.value-1]&&0!==s){var u=s>0;m[y.value-1].setOffset(u?-C.value:0)}}A.active=a,A.offset=s,i&&a!==o&&t("change",E.value)}},U=()=>{A.swiping=!0,A.active<=-1?O({pace:y.value}):A.active>=y.value&&O({pace:-y.value})},N=()=>{U(),f.reset(),bp((()=>{A.swiping=!1,O({pace:1,emitChange:!0})}))},I=()=>clearTimeout(o),F=()=>{I(),e.autoplay>0&&y.value>1&&(o=setTimeout((()=>{N(),F()}),+e.autoplay))},L=(t=+e.initialSwipe)=>{if(u.value){if(!rp(u)){var n,r,i={width:u.value.offsetWidth,height:u.value.offsetHeight};A.rect=i,A.width=+(null!=(n=e.width)?n:i.width),A.height=+(null!=(r=e.height)?r:i.height)}y.value&&(t=Math.min(y.value-1,t)),A.active=t,A.swiping=!0,A.offset=x(t),m.forEach((e=>{e.setOffset(0)}))}},P=()=>L(A.active),Q=t=>{e.touchable&&(f.start(t),a=Date.now(),I(),U())},D=t=>{e.touchable&&A.swiping&&(f.move(t),T.value&&(op(t,e.stopPropagation),O({offset:_.value})))},M=()=>{if(e.touchable&&A.swiping){var t=Date.now()-a,n=_.value/t;if((Math.abs(n)>.25||Math.abs(_.value)>b.value/2)&&T.value){var r=e.vertical?f.offsetY.value:f.offsetX.value,i=0;i=e.loop?r>0?_.value>0?-1:1:0:-Math[_.value>0?"ceil":"floor"](_.value/b.value),O({pace:i,emitChange:!0})}else _.value&&O({pace:0});A.swiping=!1,F()}},j=(t,n)=>{var r=n===E.value,i=r?{backgroundColor:e.indicatorColor}:void 0;return h("i",{style:i,class:Vv("indicator",{active:r})},null)};return jp({prev:()=>{U(),f.reset(),bp((()=>{A.swiping=!1,O({pace:-1,emitChange:!0})}))},next:N,state:A,resize:P,swipeTo:(t,n={})=>{U(),f.reset(),bp((()=>{var r;r=e.loop&&t===y.value?0===A.active?0:t:t%y.value,n.immediate?bp((()=>{A.swiping=!1})):A.swiping=!1,O({pace:r-A.active,emitChange:!0})}))}}),v({size:b,props:e,count:y,activeIndicator:E}),d((()=>e.initialSwipe),(e=>L(+e))),d(y,(()=>L(A.active))),d([y,()=>e.autoplay],F),d([p.width,p.height],P),d((s=c("visible"),(l=()=>{fp&&(s.value=document.hidden?"hidden":"visible")})(),Op("visibilitychange",l),s),(e=>{"visible"===e?F():I()})),g(L),R((()=>L(A.active))),yg((()=>L(A.active))),H(I),k(I),()=>h("div",{ref:u,class:Vv()},[h("div",{style:S.value,class:Vv("track",{vertical:e.vertical}),onTouchstart:Q,onTouchmove:D,onTouchend:M,onTouchcancel:M},[null==n.default?void 0:n.default()]),n.indicator?n.indicator({active:E.value}):e.showIndicators&&y.value>1?h("div",{class:Vv("indicators",{vertical:e.vertical})},[Array(y.value).fill("").map(j)]):void 0])}})),[Wv,Gv]=Wf("tabs"),Xv=s({name:Wv,props:{inited:Boolean,animated:Boolean,swipeable:Boolean,lazyRender:Boolean,count:{type:Number,required:!0},duration:{type:[Number,String],required:!0},currentIndex:{type:Number,required:!0}},emits:["change"],setup(e,{emit:t,slots:n}){var r=c(),i=e=>t("change",e),o=t=>{var n=r.value;n&&n.state.active!==t&&n.swipeTo(t,{immediate:!e.inited})};return d((()=>e.currentIndex),o),g((()=>{o(e.currentIndex)})),()=>{return h("div",{class:Gv("content",{animated:e.animated||e.swipeable})},[(t=null==n.default?void 0:n.default(),e.animated||e.swipeable?h(qv,{ref:r,loop:!1,class:Gv("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[t]}):t)]);var t}}}),[Jv,Yv]=Wf("tabs"),$v=Symbol(Jv),Zv=s({name:Jv,props:{color:String,border:Boolean,sticky:Boolean,animated:Boolean,ellipsis:Ef,swipeable:Boolean,scrollspy:Boolean,background:String,lazyRender:Ef,lineWidth:[Number,String],lineHeight:[Number,String],beforeChange:Function,titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},duration:{type:[Number,String],default:.3},offsetTop:{type:[Number,String],default:0},swipeThreshold:{type:[Number,String],default:5}},emits:["click","change","scroll","disabled","rendered","update:active"],setup(e,{emit:t,slots:n}){var o,s,l,u=c(),A=c(),f=c(),p=Np(),g=Qp(u),[m,v]=mv(),{children:y,linkChildren:b}=Ep($v),_=i({inited:!1,position:"",lineStyle:{},currentIndex:-1}),w=r((()=>y.length>e.swipeThreshold||!e.ellipsis)),B=r((()=>({borderColor:e.color,background:e.background}))),C=(e,t)=>{var n;return null!=(n=e.name)?n:t},E=r((()=>{var e=y[_.currentIndex];if(e)return C(e,_.currentIndex)})),T=r((()=>Zf(e.offsetTop))),S=r((()=>e.sticky?T.value+o:0)),k=t=>{var n=A.value,r=m.value;if(w.value&&n&&r&&r[_.currentIndex]){var i=r[_.currentIndex].$el;!function(e,t,n){yp(wv);var r=0,i=e.scrollLeft,o=0===n?1:Math.round(1e3*n/16);!function n(){e.scrollLeft+=(t-i)/o,++r<o&&(wv=vp(n))}()}(n,i.offsetLeft-(n.offsetWidth-i.offsetWidth)/2,t?0:+e.duration)}},x=()=>{var t=_.inited;a((()=>{var n=m.value;if(n&&n[_.currentIndex]&&"line"===e.type&&!rp(u.value)){var r=n[_.currentIndex].$el,{lineWidth:i,lineHeight:o}=e,a=r.offsetLeft+r.offsetWidth/2,s={width:Xf(i),backgroundColor:e.color,transform:"translateX("+a+"px) translateX(-50%)"};if(t&&(s.transitionDuration=e.duration+"s"),If(o)){var l=Xf(o);s.height=l,s.borderRadius=l}_.lineStyle=s}}))},O=n=>{var r=(e=>{for(var t=e<_.currentIndex?-1:1;e>=0&&e<y.length;){if(!y[e].disabled)return e;e+=t}})(n);if(If(r)){var i=y[r],o=C(i,r),a=null!==_.currentIndex;_.currentIndex=r,o!==e.active&&(t("update:active",o),a&&t("change",o,i.title))}},U=e=>{var t=y.find(((t,n)=>C(t,n)===e)),n=t?y.indexOf(t):0;O(n)},N=(t=!1)=>{if(e.scrollspy){var n=y[_.currentIndex].$el;if(n&&g.value){var r=dp(n,g.value)-S.value;s=!0,function(e,t,n,r){var i=sp(e),o=i<t,a=0===n?1:Math.round(1e3*n/16),s=(t-i)/a;!function n(){i+=s,(o&&i>t||!o&&i<t)&&(i=t),lp(e,i),o&&i<t||!o&&i>t?vp(n):r&&vp(r)}()}(g.value,r,t?0:+e.duration,(()=>{s=!1}))}}},I=e=>{l=e.isFixed,t("scroll",e)},F=()=>y.map(((n,r)=>h(jv,{ref:v(r),dot:n.dot,type:e.type,badge:n.badge,title:n.title,color:e.color,style:n.titleStyle,class:n.titleClass,isActive:r===_.currentIndex,disabled:n.disabled,scrollable:w.value,renderTitle:n.$slots.title,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,onClick:()=>{((n,r)=>{var{title:i,disabled:o}=y[r],a=C(y[r],r);o?t("disabled",a,i):(bm({interceptor:e.beforeChange,args:[a],done:()=>{O(r),N()}}),t("click",a,i),Vp(n))})(n,r)}},null))),L=()=>{var t,r,{type:i,border:o}=e;return h("div",{ref:f,class:[Yv("wrap",{scrollable:w.value}),{"van-hairline--top-bottom":"line"===i&&o}]},[h("div",{ref:A,role:"tablist",class:Yv("nav",[i,{complete:w.value}]),style:B.value},[null==(t=n["nav-left"])?void 0:t.call(n),F(),"line"===i&&h("div",{class:Yv("line"),style:_.lineStyle},null),null==(r=n["nav-right"])?void 0:r.call(n)])])};d([()=>e.color,p.width],x),d((()=>e.active),(e=>{e!==E.value&&U(e)})),d((()=>y.length),(()=>{_.inited&&(U(e.active),x(),a((()=>{k(!0)})))})),d((()=>_.currentIndex),(()=>{k(),x(),l&&!e.scrollspy&&cp(Math.ceil(dp(u.value)-T.value))}));return jp({resize:x,scrollTo:e=>{a((()=>{U(e),N(!0)}))}}),R(x),yg(x),Sp((()=>{U(e.active),a((()=>{var e;_.inited=!0,e=f.value,o=ap(e)?e.innerHeight:e.getBoundingClientRect().height,k(!0)}))})),Op("scroll",(()=>{if(e.scrollspy&&!s){var t=(()=>{for(var e=0;e<y.length;e++)if((ap(t=y[e].$el)?0:t.getBoundingClientRect().top)>S.value)return 0===e?0:e-1;var t;return y.length-1})();O(t)}}),{target:g}),b({props:e,setLine:x,onRendered:(e,n)=>t("rendered",e,n),currentName:E,scrollIntoView:k}),()=>h("div",{ref:u,class:Yv([e.type])},[e.sticky?h(Mv,{container:u.value,offsetTop:T.value,onScroll:I},{default:()=>[L()]}):L(),h(Xv,{count:y.length,inited:_.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:_.currentIndex,onChange:O},{default:()=>[null==n.default?void 0:n.default()]})])}}),ey=Symbol();var[ty,ny]=Wf("swipe-item"),ry=Gf(s({name:ty,setup(e,{slots:t}){var n,o=i({offset:0,inited:!1,mounted:!1}),{parent:s,index:l}=Bp(zv);if(s){var u=r((()=>{var e={},{vertical:t}=s.props;return s.size.value&&(e[t?"height":"width"]=s.size.value+"px"),o.offset&&(e.transform="translate"+(t?"Y":"X")+"("+o.offset+"px)"),e})),c=r((()=>{var{loop:e,lazyRender:t}=s.props;if(!t||n)return!0;if(!o.mounted)return!1;var r=s.activeIndicator.value,i=s.count.value-1,a=0===r&&e?i:r-1,u=r===i&&e?0:r+1;return n=l.value===r||l.value===a||l.value===u}));return g((()=>{a((()=>{o.mounted=!0}))})),jp({setOffset:e=>{o.offset=e}}),()=>h("div",{class:ny(),style:u.value},[c.value?null==t.default?void 0:t.default():null])}}})),[iy,oy]=Wf("tab"),ay=Gf(s({name:iy,props:Bf({},Kp,{dot:Boolean,name:[Number,String],badge:[Number,String],title:String,disabled:Boolean,titleClass:null,titleStyle:[String,Object]}),setup(e,{slots:t}){var n=c(!1),{parent:i,index:o}=Bp($v);if(i){var s=()=>{var t;return null!=(t=e.name)?t:o.value},l=r((()=>{var t=s()===i.currentName.value;return t&&!n.value&&(n.value=!0,i.props.lazyRender&&a((()=>{i.onRendered(s(),e.title)}))),t}));return d((()=>e.title),(()=>{i.setLine(),i.scrollIntoView()})),u(ey,l),()=>{var{animated:e,swipeable:r,scrollspy:o,lazyRender:a}=i.props;if(t.default||e){var s=o||l.value;if(e||r)return h(ry,{role:"tabpanel","aria-hidden":!l.value,class:oy("pane-wrapper",{inactive:!l.value})},{default:()=>[h("div",{class:oy("pane")},[null==t.default?void 0:t.default()])]});var u=n.value||o||!a?null==t.default?void 0:t.default():null;return T(h("div",{role:"tabpanel",class:oy("pane")},[u]),[[j,s]])}}}}})),sy=Gf(Zv),[ly,uy,cy]=Wf("cascader"),dy=Gf(s({name:ly,props:{title:String,closeable:Ef,swipeable:Ef,modelValue:[Number,String],fieldNames:Object,placeholder:String,activeColor:String,options:{type:Array,default:()=>[]},closeIcon:{type:String,default:"cross"}},emits:["close","change","finish","update:modelValue","click-tab"],setup(e,{slots:t,emit:n}){var r=i({tabs:[],activeTab:0}),{text:o,value:s,children:l}=Bf({text:"text",value:"value",children:"children"},e.fieldNames),u=(e,t)=>{for(var n=0;n<e.length;n++){var r=e[n];if(r[s]===t)return[r];if(r[l]){var i=u(r[l],t);if(i)return[r,...i]}}},c=()=>{if(e.modelValue||0===e.modelValue){var t=u(e.options,e.modelValue);if(t){var n=e.options;return r.tabs=t.map((e=>{var t={options:n,selectedOption:e},r=n.find((t=>t[s]===e[s]));return r&&(n=r[l]),t})),n&&r.tabs.push({options:n,selectedOption:null}),void a((()=>{r.activeTab=r.tabs.length-1}))}}r.tabs=[{options:e.options,selectedOption:null}]},A=()=>n("close"),f=(e,t)=>{n("click-tab",e,t)},p=(t,i,u)=>h("ul",{class:uy("options")},[t.map((t=>{var c=i&&t[s]===i[s];return h("li",{class:uy("option",{selected:c}),style:{color:c?e.activeColor:void 0},onClick:()=>((e,t)=>{if(r.tabs[t].selectedOption=e,r.tabs.length>t+1&&(r.tabs=r.tabs.slice(0,t+1)),e[l]){var i={options:e[l],selectedOption:null};r.tabs[t+1]?r.tabs[t+1]=i:r.tabs.push(i),a((()=>{r.activeTab++}))}var o=r.tabs.map((e=>e.selectedOption)).filter(Boolean),u={value:e[s],tabIndex:t,selectedOptions:o};n("update:modelValue",e[s]),n("change",u),e[l]||n("finish",u)})(t,u)},[h("span",null,[t[o]]),c?h($p,{name:"success",class:uy("selected-icon")},null):null])}))]),g=(t,n)=>{var{options:r,selectedOption:i}=t,a=i?i[o]:e.placeholder||cy("select");return h(ay,{title:a,titleClass:uy("tab",{unselected:!i})},{default:()=>[p(r,i,n)]})};return c(),d((()=>e.options),c,{deep:!0}),d((()=>e.modelValue),(e=>{if((e||0===e)&&r.tabs.map((e=>{var t;return null==(t=e.selectedOption)?void 0:t[s]})).includes(e))return;c()})),()=>h("div",{class:uy()},[h("div",{class:uy("header")},[h("h2",{class:uy("title")},[t.title?t.title():e.title]),e.closeable?h($p,{name:e.closeIcon,class:uy("close-icon"),onClick:A},null):null]),h(sy,{active:r.activeTab,"onUpdate:active":e=>r.activeTab=e,animated:!0,class:uy("tabs"),color:e.activeColor,swipeThreshold:0,swipeable:e.swipeable,onClick:f},{default:()=>[r.tabs.map(g)]})])}})),[Ay,hy]=Wf("cell-group"),fy=Gf(s({name:Ay,inheritAttrs:!1,props:{title:String,border:Ef},setup(e,{slots:t,attrs:n}){var r=()=>h("div",x({class:[hy(),{"van-hairline--top-bottom":e.border}]},n),[null==t.default?void 0:t.default()]);return()=>e.title||t.title?h(p,null,[h("div",{class:hy("title")},[t.title?t.title():e.title]),r()]):r()}})),[py,gy]=Wf("checkbox-group"),my=Symbol(py),vy=s({name:py,props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,modelValue:{type:Array,default:()=>[]}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var{children:r,linkChildren:i}=Ep(my),o=e=>t("update:modelValue",e);return d((()=>e.modelValue),(e=>t("change",e))),jp({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});var{checked:t,skipDisabled:n}=e,i=r.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&n?e.checked.value:null!=t?t:!e.checked.value))).map((e=>e.name));o(i)}}),em((()=>e.modelValue)),i({props:e,updateValue:o}),()=>h("div",{class:gy([e.direction])},[null==n.default?void 0:n.default()])}}),[yy,by]=Wf("checkbox"),_y=Gf(s({name:yy,props:Bf({},Gm,{bindGroup:Ef}),emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var{parent:i}=Bp(my),o=r((()=>i&&e.bindGroup?-1!==i.props.modelValue.indexOf(e.name):!!e.modelValue)),a=(n=!o.value)=>{i&&e.bindGroup?(t=>{var{name:n}=e,{max:r,modelValue:o}=i.props,a=o.slice();if(t)r&&a.length>=r||a.includes(n)||(a.push(n),e.bindGroup&&i.updateValue(a));else{var s=a.indexOf(n);-1!==s&&(a.splice(s,1),e.bindGroup&&i.updateValue(a))}})(n):t("update:modelValue",n)};return d((()=>e.modelValue),(e=>t("change",e))),jp({toggle:a,props:e,checked:o}),em((()=>e.modelValue)),()=>h(Xm,x({bem:by,role:"checkbox",parent:i,checked:o.value,onToggle:a},e),Sf(n,["default","icon"]))}})),wy=Gf(vy),[By,Cy]=Wf("circle"),Ey=0;function Ty(e){return Math.min(Math.max(+e,0),100)}var Sy=Gf(s({name:By,props:{text:String,size:[Number,String],color:[String,Object],clockwise:Ef,layerColor:String,strokeLinecap:String,currentRate:{type:Number,default:0},speed:{type:[Number,String],default:0},fill:{type:String,default:"none"},rate:{type:[Number,String],default:100},strokeWidth:{type:[Number,String],default:40}},emits:["update:currentRate"],setup(e,{emit:t,slots:n}){var i="van-circle-"+Ey++,o=r((()=>+e.strokeWidth+1e3)),a=r((()=>function(e,t){var n=e?1:0;return"M "+t/2+" "+t/2+" m 0, -500 a 500, 500 0 1, "+n+" 0, 1000 a 500, 500 0 1, "+n+" 0, -1000"}(e.clockwise,o.value)));d((()=>e.rate),(n=>{var r,i=Date.now(),o=e.currentRate,a=Ty(n),s=Math.abs(1e3*(o-a)/+e.speed),l=()=>{var e=Date.now(),n=Math.min((e-i)/s,1)*(a-o)+o;t("update:currentRate",Ty(parseFloat(n.toFixed(1)))),(a>o?n<a:n>a)&&(r=vp(l))};e.speed?(r&&yp(r),r=vp(l)):t("update:currentRate",a)}),{immediate:!0});var s=()=>{var{strokeWidth:t,currentRate:n,strokeLinecap:r}=e,o=3140*n/100,s=Lf(e.color)?"url(#"+i+")":e.color,l={stroke:s,strokeWidth:+t+1+"px",strokeLinecap:r,strokeDasharray:o+"px 3140px"};return h("path",{d:a.value,style:l,class:Cy("hover"),stroke:s},null)},l=()=>{var{color:t}=e;if(Lf(t)){var n=Object.keys(t).sort(((e,t)=>parseFloat(e)-parseFloat(t))).map(((e,n)=>h("stop",{key:n,offset:e,"stop-color":t[e]},null)));return h("defs",null,[h("linearGradient",{id:i,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[n])])}};return()=>{return h("div",{class:Cy(),style:Jf(e.size)},[h("svg",{viewBox:"0 0 "+o.value+" "+o.value},[l(),(t={fill:e.fill,stroke:e.layerColor,strokeWidth:e.strokeWidth+"px"},h("path",{class:Cy("layer"),style:t,d:a.value},null)),s()]),n.default?n.default():e.text?h("div",{class:Cy("text")},[e.text]):void 0]);var t}}})),[ky,xy]=Wf("row"),Oy=Symbol(ky),Uy=s({name:ky,props:{wrap:Ef,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},setup(e,{slots:t}){var{children:n,linkChildren:i}=Ep(Oy),o=r((()=>{var e=[[]],t=0;return n.forEach(((n,r)=>{(t+=Number(n.span))>24?(e.push([r]),t-=24):e[e.length-1].push(r)})),e}));return i({spaces:r((()=>{var t=Number(e.gutter),n=[];return t?(o.value.forEach((e=>{var r=t*(e.length-1)/e.length;e.forEach(((e,i)=>{if(0===i)n.push({right:r});else{var o=t-n[e-1].right,a=r-o;n.push({left:o,right:a})}}))})),n):n}))}),()=>{var{tag:n,wrap:r,align:i,justify:o}=e;return h(n,{class:xy({["align-"+i]:i,["justify-"+o]:o,nowrap:!r})},{default:()=>[null==t.default?void 0:t.default()]})}}}),[Ny,Iy]=Wf("col"),Fy=Gf(s({name:Ny,props:{offset:[Number,String],tag:{type:String,default:"div"},span:{type:[Number,String],default:0}},setup(e,{slots:t}){var{parent:n,index:i}=Bp(Oy),o=r((()=>{if(n){var{spaces:e}=n;if(e&&e.value&&e.value[i.value]){var{left:t,right:r}=e.value[i.value];return{paddingLeft:t?t+"px":null,paddingRight:r?r+"px":null}}}}));return()=>{var{tag:n,span:r,offset:i}=e;return h(n,{style:o.value,class:Iy({[r]:r,["offset-"+i]:i})},{default:()=>[null==t.default?void 0:t.default()]})}}})),[Ly,Py]=Wf("collapse"),Qy=Symbol(Ly),Dy=Gf(s({name:Ly,props:{border:Ef,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var{linkChildren:r}=Ep(Qy),i=e=>{t("change",e),t("update:modelValue",e)};return r({toggle:(t,n)=>{var{accordion:r,modelValue:o}=e;i(r?t===o?"":t:n?o.concat(t):o.filter((e=>e!==t)))},isExpanded:t=>{var{accordion:n,modelValue:r}=e;return n?r===t:r.includes(t)}}),()=>h("div",{class:[Py(),{"van-hairline--top-bottom":e.border}]},[null==n.default?void 0:n.default()])}})),[My,Ry]=Wf("collapse-item"),Hy=Gf(s({name:My,props:Bf({},qg,{name:[Number,String],isLink:Ef,disabled:Boolean,readonly:Boolean}),setup(e,{slots:t}){var n=c(),i=c(),{parent:o,index:s}=Bp(Qy);if(o){var l=r((()=>{var t;return null!=(t=e.name)?t:s.value})),u=r((()=>o.isExpanded(l.value))),A=c(u.value),f=mg(A),p=()=>{u.value?n.value.style.height="":A.value=!1};d(u,((e,t)=>{null!==t&&(e&&(A.value=!0),(e?a:vp)((()=>{if(i.value&&n.value){var{offsetHeight:t}=i.value;if(t){var r=t+"px";n.value.style.height=e?"0":r,bp((()=>{n.value.style.height=e?r:"0"}))}else p()}})))}));var g=(e=!u.value)=>{o.toggle(l.value,e)},m=()=>{e.disabled||e.readonly||g()},v=()=>{var{border:n,disabled:r,readonly:i}=e,o=Sf(e,Object.keys(qg));return i&&(o.isLink=!1),(r||i)&&(o.clickable=!1),h(Wg,x({role:"button",class:Ry("title",{disabled:r,expanded:u.value,borderless:!n}),"aria-expanded":String(u.value),onClick:m},o),{icon:t.icon,title:t.title,default:t.value,"right-icon":t["right-icon"]})},y=f((()=>T(h("div",{ref:n,class:Ry("wrapper"),onTransitionend:p},[h("div",{ref:i,class:Ry("content")},[null==t.default?void 0:t.default()])]),[[j,A.value]])));return jp({toggle:g}),()=>h("div",{class:[Ry({border:s.value&&e.border})]},[v(),y()])}}})),[jy,Ky,Vy]=Wf("contact-card"),zy=Gf(s({name:jy,props:{tel:String,name:String,addText:String,editable:Ef,type:{type:String,default:"add"}},emits:["click"],setup(e,{emit:t}){var n=n=>{e.editable&&t("click",n)};return()=>h(Wg,{center:!0,icon:"edit"===e.type?"contact":"add-square",class:Ky([e.type]),border:!1,isLink:e.editable,valueClass:Ky("value"),onClick:n},{default:()=>["add"===e.type?e.addText||Vy("addText"):[h("div",null,[Vy("name")+"："+e.name]),h("div",null,[Vy("tel")+"："+e.tel])]]})}})),[qy,Wy]=Wf("form"),Gy=Gf(s({name:qy,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:Ef,showErrorMessage:Ef,errorMessageAlign:String,validateTrigger:{type:String,default:"onBlur"}},emits:["submit","failed"],setup(e,{emit:t,slots:n}){var{children:r,linkChildren:i}=Ep($g),o=e=>e?r.filter((t=>e.includes(t.name))):r,a=t=>{return"string"==typeof t?(e=>{var t=r.find((t=>t.name===e));return t?new Promise(((e,n)=>{t.validate().then((t=>{t?n(t):e()}))})):Promise.reject()})(t):e.validateFirst?(n=t,new Promise(((e,t)=>{var r=[];o(n).reduce(((e,t)=>e.then((()=>{if(!r.length)return t.validate().then((e=>{e&&r.push(e)}))}))),Promise.resolve()).then((()=>{r.length?t(r):e()}))}))):(e=>new Promise(((t,n)=>{var r=o(e);Promise.all(r.map((e=>e.validate()))).then((e=>{(e=e.filter(Boolean)).length?n(e):t()}))})))(t);var n},s=(e,t)=>{r.some((n=>n.name===e&&(n.$el.scrollIntoView(t),!0)))},l=()=>{var n=r.reduce(((e,t)=>(e[t.name]=t.formValue.value,e)),{});a().then((()=>t("submit",n))).catch((r=>{t("failed",{values:n,errors:r}),e.scrollToError&&r[0].name&&s(r[0].name)}))},u=e=>{e.preventDefault(),l()};return i({props:e}),jp({submit:l,validate:a,scrollToField:s,resetValidation:e=>{"string"==typeof e&&(e=[e]),o(e).forEach((e=>{e.resetValidation()}))}}),()=>h("form",{class:Wy(),onSubmit:u},[null==n.default?void 0:n.default()])}})),[Xy,Jy,Yy]=Wf("contact-edit"),$y={tel:"",name:""},Zy=Gf(s({name:Xy,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>Bf({},$y)},telValidator:{type:Function,default:Df}},emits:["save","delete","change-default"],setup(e,{emit:t}){var n=i(Bf({},$y,e.contactInfo)),r=()=>{e.isSaving||t("save",n)},o=()=>{Sm.confirm({title:Yy("confirmDelete")}).then((()=>t("delete",n)))},a=()=>h(Om,{modelValue:n.isDefault,"onUpdate:modelValue":e=>n.isDefault=e,size:24,onChange:e=>t("change-default",e)},null),s=()=>{if(e.showSetDefault)return h(Wg,{title:e.setDefaultLabel,class:Jy("switch-cell"),border:!1},{"right-icon":a})};return d((()=>e.contactInfo),(e=>Bf(n,$y,e))),()=>h(Gy,{class:Jy(),onSubmit:r},{default:()=>[h("div",{class:Jy("fields")},[h(im,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e,clearable:!0,label:Yy("name"),rules:[{required:!0,message:Yy("nameInvalid")}],maxlength:"30",placeholder:Yy("nameEmpty")},null),h(im,{modelValue:n.tel,"onUpdate:modelValue":e=>n.tel=e,clearable:!0,type:"tel",label:Yy("tel"),rules:[{validator:e.telValidator,message:Yy("telInvalid")}],placeholder:Yy("telEmpty")},null)]),s(),h("div",{class:Jy("buttons")},[h(ag,{block:!0,round:!0,type:"danger",text:Yy("save"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&h(ag,{block:!0,round:!0,text:Yy("delete"),loading:e.isDeleting,onClick:o},null)])]})}})),[eb,tb,nb]=Wf("contact-list"),rb=Gf(s({name:eb,props:{list:Array,addText:String,modelValue:null,defaultTagText:String},emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){var n=(n,r)=>h(Wg,{key:n.id,isLink:!0,center:!0,class:tb("item"),valueClass:tb("item-value"),onClick:()=>{t("update:modelValue",n.id),t("select",n,r)}},{icon:()=>h($p,{name:"edit",class:tb("edit"),onClick:e=>{e.stopPropagation(),t("edit",n,r)}},null),default:()=>{var t=[n.name+"，"+n.tel];return n.isDefault&&e.defaultTagText&&t.push(h(Wm,{type:"danger",round:!0,class:tb("item-tag")},{default:()=>[e.defaultTagText]})),t},"right-icon":()=>h($m,{class:tb("radio"),name:n.id,iconSize:16},null)});return()=>h("div",{class:tb()},[h(Vm,{modelValue:e.modelValue,class:tb("group")},{default:()=>[e.list&&e.list.map(n)]}),h("div",{class:tb("bottom")},[h(ag,{round:!0,block:!0,type:"danger",class:tb("add"),text:e.addText||nb("addText"),onClick:()=>t("add")},null)])])}}));var[ib,ob]=Wf("count-down"),ab=Gf(s({name:ib,props:{autoStart:Ef,millisecond:Boolean,time:{type:[Number,String],default:0},format:{type:String,default:"HH:mm:ss"}},emits:["change","finish"],setup(e,{emit:t,slots:n}){var{start:i,pause:o,reset:a,current:s}=Tp({time:+e.time,millisecond:e.millisecond,onChange:e=>t("change",e),onFinish:()=>t("finish")}),l=r((()=>function(e,t){var{days:n}=t,{hours:r,minutes:i,seconds:o,milliseconds:a}=t;if(e.includes("DD")?e=e.replace("DD",Nf(n)):r+=24*n,e.includes("HH")?e=e.replace("HH",Nf(r)):i+=60*r,e.includes("mm")?e=e.replace("mm",Nf(i)):o+=60*i,e.includes("ss")?e=e.replace("ss",Nf(o)):a+=1e3*o,e.includes("S")){var s=Nf(a,3);e=e.includes("SSS")?e.replace("SSS",s):e.includes("SS")?e.replace("SS",s.slice(0,2)):e.replace("S",s.charAt(0))}return e}(e.format,s.value))),u=()=>{a(+e.time),e.autoStart&&i()};return d((()=>e.time),u,{immediate:!0}),jp({start:i,pause:o,reset:u}),()=>h("div",{class:ob()},[n.default?n.default(s.value):l.value])}})),[sb,lb,ub]=Wf("coupon");function cb(e){var t=new Date(1e3*e);return t.getFullYear()+"."+Nf(t.getMonth()+1)+"."+Nf(t.getDate())}function db(e){return(e/100).toFixed(e%100==0?0:e%10==0?1:2)}var Ab=Gf(s({name:sb,props:{chosen:Boolean,disabled:Boolean,coupon:{type:Object,required:!0},currency:{type:String,default:"¥"}},setup(e){var t=r((()=>{var{startAt:t,endAt:n}=e.coupon;return cb(t)+" - "+cb(n)})),n=r((()=>{var t,{coupon:n,currency:r}=e;if(n.valueDesc)return[n.valueDesc,h("span",null,[n.unitDesc||""])];if(n.denominations){var i=db(n.denominations);return[h("span",null,[r])," "+i]}return n.discount?ub("discount",((t=n.discount)/10).toFixed(t%10==0?0:1)):""})),i=r((()=>{var t=db(e.coupon.originCondition||0);return"0"===t?ub("unlimited"):ub("condition",t)}));return()=>{var{chosen:r,coupon:o,disabled:a}=e,s=a&&o.reason||o.description;return h("div",{class:lb({disabled:a})},[h("div",{class:lb("content")},[h("div",{class:lb("head")},[h("h2",{class:lb("amount")},[n.value]),h("p",{class:lb("condition")},[o.condition||i.value])]),h("div",{class:lb("body")},[h("p",{class:lb("name")},[o.name]),h("p",{class:lb("valid")},[t.value]),!a&&h(_y,{class:lb("corner"),modelValue:r},null)])]),s&&h("p",{class:lb("description")},[s])])}}})),[hb,fb,pb]=Wf("coupon-cell");var gb=Gf(s({name:hb,props:{title:String,border:Ef,editable:Ef,coupons:{type:Array,default:()=>[]},currency:{type:String,default:"¥"},chosenCoupon:{type:[Number,String],default:-1}},setup:e=>()=>{var t=e.coupons[+e.chosenCoupon],n=function(e,t,n){var r=e[+t];if(r){var i=0;return If(r.value)?({value:i}=r):If(r.denominations)&&(i=r.denominations),"-"+n+" "+(i/100).toFixed(2)}return 0===e.length?pb("tips"):pb("count",e.length)}(e.coupons,e.chosenCoupon,e.currency);return h(Wg,{class:fb(),value:n,title:e.title||pb("title"),border:e.border,isLink:e.editable,valueClass:fb("value",{selected:t})},null)}})),[mb,vb,yb]=Wf("coupon-list"),bb=Gf(s({name:mb,props:{showCount:Ef,enabledTitle:String,disabledTitle:String,showExchangeBar:Ef,showCloseButton:Ef,closeButtonText:String,inputPlaceholder:String,exchangeButtonText:String,exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,code:{type:String,default:""},exchangeMinLength:{type:Number,default:1},chosenCoupon:{type:Number,default:-1},coupons:{type:Array,default:()=>[]},disabledCoupons:{type:Array,default:()=>[]},displayedCouponIndex:{type:Number,default:-1},currency:{type:String,default:"¥"},emptyImage:{type:String,default:"https://img.yzcdn.cn/vant/coupon-empty.png"}},emits:["change","exchange","update:code"],setup(e,{emit:t}){var[n,o]=mv(),s=i({tab:0,code:e.code}),{height:l}=Np(),u=r((()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!s.code||s.code.length<e.exchangeMinLength))),c=r((()=>({height:l.value-(e.showExchangeBar?140:94)+"px"}))),A=()=>{t("exchange",s.code),e.code||(s.code="")},f=e=>{a((()=>{n.value[e]&&n.value[e].scrollIntoView()}))},p=()=>h("div",{class:vb("empty")},[h("img",{src:e.emptyImage},null),h("p",null,[yb("empty")])]),m=()=>{if(e.showExchangeBar)return h("div",{class:vb("exchange-bar")},[h(im,{modelValue:s.code,"onUpdate:modelValue":e=>s.code=e,clearable:!0,border:!1,class:vb("field"),placeholder:e.inputPlaceholder||yb("placeholder"),maxlength:"20"},null),h(ag,{plain:!0,type:"danger",class:vb("exchange"),text:e.exchangeButtonText||yb("exchange"),loading:e.exchangeButtonLoading,disabled:u.value,onClick:A},null)])},v=()=>{var{coupons:n}=e,r=e.showCount?" ("+n.length+")":"",i=(e.enabledTitle||yb("enable"))+r;return h(ay,{title:i},{default:()=>[h("div",{class:vb("list",{"with-bottom":e.showCloseButton}),style:c.value},[n.map(((n,r)=>h(Ab,{key:n.id,ref:o(r),coupon:n,chosen:r===e.chosenCoupon,currency:e.currency,onClick:()=>t("change",r)},null))),!n.length&&p()])]})},y=()=>{var{disabledCoupons:t}=e,n=e.showCount?" ("+t.length+")":"",r=(e.disabledTitle||yb("disabled"))+n;return h(ay,{title:r},{default:()=>[h("div",{class:vb("list",{"with-bottom":e.showCloseButton}),style:c.value},[t.map((t=>h(Ab,{disabled:!0,key:t.id,coupon:t,currency:e.currency},null))),!t.length&&p()])]})};return d((()=>e.code),(e=>{s.code=e})),d((()=>s.code),(e=>t("update:code",e))),d((()=>e.displayedCouponIndex),f),g((()=>{f(e.displayedCouponIndex)})),()=>h("div",{class:vb()},[m(),h(sy,{modelValue:s.tab,"onUpdate:modelValue":e=>s.tab=e,class:vb("tab"),border:!1},{default:()=>[v(),y()]}),h("div",{class:vb("bottom")},[T(h(ag,{round:!0,block:!0,type:"danger",class:vb("close"),text:e.closeButtonText||yb("close"),onClick:()=>t("change",-1)},null),[[j,e.showCloseButton]])])])}})),[_b]=Wf("time-picker"),wb=s({name:_b,props:Bf({},vv,{modelValue:String,minHour:{type:[Number,String],default:0},maxHour:{type:[Number,String],default:23},minMinute:{type:[Number,String],default:0},maxMinute:{type:[Number,String],default:59}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){var i=t=>{var{minHour:n,maxHour:r,maxMinute:i,minMinute:o}=e;t||(t=Nf(n)+":"+Nf(o));var[a,s]=t.split(":");return(a=Nf(ep(+a,+n,+r)))+":"+(s=Nf(ep(+s,+o,+i)))},o=c(),s=c(i(e.modelValue)),l=r((()=>[{type:"hour",range:[+e.minHour,+e.maxHour]},{type:"minute",range:[+e.minMinute,+e.maxMinute]}])),u=r((()=>l.value.map((({type:t,range:n})=>{var r=bv(n[1]-n[0]+1,(e=>Nf(n[0]+e)));return e.filter&&(r=e.filter(t,r)),{type:t,values:r}})))),A=r((()=>u.value.map((t=>({values:t.values.map((n=>e.formatter(t.type,n)))}))))),f=()=>{var t=s.value.split(":"),n=[e.formatter("hour",t[0]),e.formatter("minute",t[1])];a((()=>{o.value.setValues(n)}))},p=()=>{var[e,t]=o.value.getIndexes(),[n,r]=u.value,a=n.values[e]||n.values[0],l=r.values[t]||r.values[0];s.value=i(a+":"+l),f()},m=()=>t("confirm",s.value),v=()=>t("cancel"),y=()=>{p(),a((()=>{a((()=>t("change",s.value)))}))};return g((()=>{f(),a(p)})),d(A,f),d((()=>[e.filter,e.maxHour,e.minMinute,e.maxMinute]),p),d((()=>e.minHour),(()=>{a(p)})),d(s,(e=>t("update:modelValue",e))),d((()=>e.modelValue),(e=>{(e=i(e))!==s.value&&(s.value=e,f())})),jp({getPicker:()=>o.value}),()=>h(Rg,x({ref:o,columns:A.value,onChange:y,onCancel:v,onConfirm:m},Sf(e,yv)),n)}}),Bb=(new Date).getFullYear(),[Cb]=Wf("date-picker"),Eb=s({name:Cb,props:Bf({},vv,{modelValue:Date,type:{type:String,default:"datetime"},minDate:{type:Date,default:()=>new Date(Bb-10,0,1),validator:Qf},maxDate:{type:Date,default:()=>new Date(Bb+10,11,31),validator:Qf}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){var i=t=>{if(Qf(t)){var n=ep(t.getTime(),e.minDate.getTime(),e.maxDate.getTime());return new Date(n)}},o=c(),s=c(i(e.modelValue)),l=(t,n)=>{var r=e[t+"Date"],i=r.getFullYear(),o=1,a=1,s=0,l=0;return"max"===t&&(o=12,a=_v(n.getFullYear(),n.getMonth()+1),s=23,l=59),n.getFullYear()===i&&(o=r.getMonth()+1,n.getMonth()+1===o&&(a=r.getDate(),n.getDate()===a&&(s=r.getHours(),n.getHours()===s&&(l=r.getMinutes())))),{[t+"Year"]:i,[t+"Month"]:o,[t+"Date"]:a,[t+"Hour"]:s,[t+"Minute"]:l}},u=r((()=>{var{maxYear:t,maxDate:n,maxMonth:r,maxHour:i,maxMinute:o}=l("max",s.value||e.minDate),{minYear:a,minDate:u,minMonth:c,minHour:d,minMinute:A}=l("min",s.value||e.minDate),h=[{type:"year",range:[a,t]},{type:"month",range:[c,r]},{type:"day",range:[u,n]},{type:"hour",range:[d,i]},{type:"minute",range:[A,o]}];switch(e.type){case"date":h=h.slice(0,3);break;case"year-month":h=h.slice(0,2);break;case"month-day":h=h.slice(1,3);break;case"datehour":h=h.slice(0,4)}if(e.columnsOrder){var f=e.columnsOrder.concat(h.map((e=>e.type)));h.sort(((e,t)=>f.indexOf(e.type)-f.indexOf(t.type)))}return h})),A=r((()=>u.value.map((({type:t,range:n})=>{var r=bv(n[1]-n[0]+1,(e=>Nf(n[0]+e)));return e.filter&&(r=e.filter(t,r)),{type:t,values:r}})))),f=r((()=>A.value.map((t=>({values:t.values.map((n=>e.formatter(t.type,n)))}))))),p=()=>{var t=s.value||e.minDate,{formatter:n}=e,r=A.value.map((e=>{switch(e.type){case"year":return n("year",""+t.getFullYear());case"month":return n("month",Nf(t.getMonth()+1));case"day":return n("day",Nf(t.getDate()));case"hour":return n("hour",Nf(t.getHours()));case"minute":return n("minute",Nf(t.getMinutes()));default:return null}}));a((()=>{o.value.setValues(r)}))},m=()=>{var t,n,r,{type:a}=e,l=o.value.getIndexes(),u=e=>{var t=0;A.value.forEach(((n,r)=>{e===n.type&&(t=r)}));var{values:n}=A.value[t];return function(e){if(!e)return 0;for(;Number.isNaN(parseInt(e,10));){if(!(e.length>1))return 0;e=e.slice(1)}return parseInt(e,10)}(n[l[t]])};"month-day"===a?(t=(s.value||e.minDate).getFullYear(),n=u("month"),r=u("day")):(t=u("year"),n=u("month"),r="year-month"===a?1:u("day"));var c=_v(t,n);r=r>c?c:r;var d=0,h=0;"datehour"===a&&(d=u("hour")),"datetime"===a&&(d=u("hour"),h=u("minute"));var f=new Date(t,n-1,r,d,h);s.value=i(f)},v=()=>{t("update:modelValue",s.value),t("confirm",s.value)},y=()=>t("cancel"),b=()=>{m(),a((()=>{a((()=>t("change",s.value)))}))};return g((()=>{p(),a(m)})),d(f,p),d(s,((e,n)=>t("update:modelValue",n?e:null))),d((()=>[e.filter,e.maxDate]),m),d((()=>e.minDate),(()=>{a(m)})),d((()=>e.modelValue),(e=>{var t;(e=i(e))&&e.valueOf()!==(null==(t=s.value)?void 0:t.valueOf())&&(s.value=e)})),jp({getPicker:()=>o.value}),()=>h(Rg,x({ref:o,columns:f.value,onChange:b,onCancel:y,onConfirm:v},Sf(e,yv)),n)}}),[Tb,Sb]=Wf("datetime-picker"),kb=Object.keys(wb.props),xb=Object.keys(Eb.props),Ob=Gf(s({name:Tb,props:Bf({},wb.props,Eb.props,{modelValue:[String,Date]}),setup(e,{attrs:t,slots:n}){var r=c();return jp({getPicker:()=>{var e;return null==(e=r.value)?void 0:e.getPicker()}}),()=>{var i="time"===e.type,o=i?wb:Eb,a=Sf(e,i?kb:xb);return h(o,x({ref:r,class:Sb()},a,t),n)}}})),[Ub,Nb]=Wf("divider"),Ib=Gf(s({name:Ub,props:{dashed:Boolean,hairline:Ef,contentPosition:{type:String,default:"center"}},setup:(e,{slots:t})=>()=>h("div",{role:"separator",class:Nb({dashed:e.dashed,hairline:e.hairline,["content-"+e.contentPosition]:!!t.default})},[null==t.default?void 0:t.default()])})),[Fb,Lb]=Wf("dropdown-menu"),Pb=Symbol(Fb),Qb=s({name:Fb,props:{overlay:Ef,zIndex:[Number,String],activeColor:String,closeOnClickOutside:Ef,closeOnClickOverlay:Ef,duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"}},setup(e,{slots:t}){var n=c(),i=c(),o=c(0),{children:a,linkChildren:s}=Ep(Pb),l=Qp(n),u=r((()=>a.some((e=>e.state.showWrapper)))),d=r((()=>{if(u.value&&If(e.zIndex))return{zIndex:+e.zIndex+1}})),A=()=>{if(i.value){var t=wp(i);"down"===e.direction?o.value=t.bottom:o.value=window.innerHeight-t.top}},f=(t,n)=>{var{showPopup:r}=t.state,{disabled:i,titleClass:o}=t;return h("div",{role:"button",tabindex:i?-1:0,class:Lb("item",{disabled:i}),onClick:()=>{var e;i||(e=n,a.forEach(((t,n)=>{n===e?(A(),t.toggle()):t.state.showPopup&&t.toggle(!1,{immediate:!0})})))}},[h("span",{class:[Lb("title",{down:r===("down"===e.direction),active:r}),o],style:{color:r?e.activeColor:""}},[h("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return s({props:e,offset:o}),Up(n,(()=>{e.closeOnClickOutside&&a.forEach((e=>{e.toggle(!1)}))})),Op("scroll",(()=>{u.value&&A()}),{target:l}),()=>h("div",{ref:n,class:Lb()},[h("div",{ref:i,style:d.value,class:Lb("bar",{opened:u.value})},[a.map(f)]),null==t.default?void 0:t.default()])}}),[Db,Mb]=Wf("dropdown-item"),Rb=Gf(s({name:Db,props:{title:String,disabled:Boolean,teleport:[String,Object],lazyRender:Ef,modelValue:null,titleClass:null,options:{type:Array,default:()=>[]}},emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n}){var r=i({showPopup:!1,transition:!0,showWrapper:!1}),{parent:o}=Bp(Pb);if(o){var a=e=>()=>t(e),s=a("open"),l=a("close"),u=a("opened"),c=()=>{r.showWrapper=!1,t("closed")},d=t=>{e.teleport&&t.stopPropagation()},A=n=>{var{activeColor:i}=o.props,a=n.value===e.modelValue;return h(Wg,{clickable:!0,key:n.value,icon:n.icon,title:n.text,class:Mb("option",{active:a}),style:{color:a?i:""},onClick:()=>{r.showPopup=!1,n.value!==e.modelValue&&(t("update:modelValue",n.value),t("change",n.value))}},{default:()=>[a&&h($p,{class:Mb("icon"),color:i,name:"success"},null)]})},f=()=>{var{offset:t}=o,{zIndex:i,overlay:a,duration:f,direction:p,closeOnClickOverlay:g}=o.props,m=Yf(i);return"down"===p?m.top=t.value+"px":m.bottom=t.value+"px",T(h("div",{style:m,class:Mb([p]),onClick:d},[h(Tg,{show:r.showPopup,"onUpdate:show":e=>r.showPopup=e,class:Mb("content"),overlay:a,position:"down"===p?"top":"bottom",duration:r.transition?f:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:g,onOpen:s,onClose:l,onOpened:u,onClosed:c},{default:()=>[e.options.map(A),null==n.default?void 0:n.default()]})]),[[j,r.showWrapper]])};return jp({state:r,toggle:(e=!r.showPopup,t={})=>{e!==r.showPopup&&(r.showPopup=e,r.transition=!t.immediate,e&&(r.showWrapper=!0))},renderTitle:()=>{if(n.title)return n.title();if(e.title)return e.title;var t=e.options.find((t=>t.value===e.modelValue));return t?t.text:""}}),()=>e.teleport?h(K,{to:e.teleport},{default:()=>[f()]}):f()}}})),Hb=Gf(Qb),jb="van-empty-network-",Kb=(e,t,n)=>h("stop",{"stop-color":e,offset:t+"%","stop-opacity":n},null),Vb=h("svg",{viewBox:"0 0 160 160"},[h("defs",null,[h("linearGradient",{id:jb+"1",x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"},[Kb("#FFF",0,.5),Kb("#F2F3F5",100)]),h("linearGradient",{id:jb+"2",x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"},[Kb("#EBEDF0",0),Kb("#DCDEE0",100,0)]),h("linearGradient",{id:jb+"3",x1:"100%",y1:"0%",x2:"100%",y2:"100%"},[Kb("#EAEDF0",0),Kb("#DCDEE0",100)]),h("linearGradient",{id:jb+"4",x1:"100%",y1:"100%",x2:"100%",y2:"0%"},[Kb("#EAEDF0",0),Kb("#DCDEE0",100)]),h("linearGradient",{id:jb+"5",x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"},[Kb("#EAEDF0",0),Kb("#DCDEE0",100)]),h("linearGradient",{id:jb+"6",x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"},[Kb("#EAEDF0",0),Kb("#DCDEE0",100)]),h("radialGradient",{id:jb+"7",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"},[Kb("#EBEDF0",0),Kb("#FFF",100,0)])]),h("g",{fill:"none","fill-rule":"evenodd"},[h("g",{opacity:".8"},[h("path",{d:"M0 124V46h20v20h14v58H0z",fill:"url(#"+jb+"1)",transform:"matrix(-1 0 0 1 36 7)"},null),h("path",{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:"url(#"+jb+"1)",transform:"translate(2 7)"},null)]),h("path",{fill:"url(#"+jb+"7)",d:"M0 139h160v21H0z"},null),h("path",{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:"url(#"+jb+"2)","fill-rule":"nonzero",transform:"translate(43 36)"},null),h("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7"},[h("path",{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#"+jb+"3)",transform:"translate(43 36)"},null),h("path",{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#"+jb+"3)",transform:"translate(43 36)"},null),h("path",{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#"+jb+"4)",transform:"rotate(-180 76.483 42.257)"},null),h("path",{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#"+jb+"4)",transform:"rotate(-180 89.791 42.146)"},null)]),h("g",{transform:"translate(31 105)","fill-rule":"nonzero"},[h("rect",{fill:"url(#"+jb+"5)",width:"98",height:"34",rx:"2"},null),h("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"},null),h("rect",{fill:"url(#"+jb+"6)",x:"15",y:"12",width:"18",height:"6",rx:"1.114"},null)])])]),[zb,qb]=Wf("empty"),Wb=["error","search","default"],Gb=Gf(s({name:zb,props:{imageSize:[Number,String],description:String,image:{type:String,default:"default"}},setup(e,{slots:t}){var n=()=>{if(t.image)return t.image();var{image:n}=e;return"network"===n?Vb:(Wb.includes(n)&&(n="https://img.yzcdn.cn/vant/empty-image-"+n+".png"),h("img",{src:n},null))},r=()=>{var n=t.description?t.description():e.description;if(n)return h("p",{class:qb("description")},[n])},i=()=>{if(t.default)return h("div",{class:qb("bottom")},[t.default()])};return()=>h("div",{class:qb()},[h("div",{class:qb("image"),style:Jf(e.imageSize)},[n()]),r(),i()])}})),[Xb,Jb]=Wf("grid"),Yb=Symbol(Xb),$b=Gf(s({name:Xb,props:{square:Boolean,center:Ef,border:Ef,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4}},setup(e,{slots:t}){var{linkChildren:n}=Ep(Yb);return n({props:e}),()=>h("div",{style:{paddingLeft:Xf(e.gutter)},class:[Jb(),{"van-hairline--top":e.border&&!e.gutter}]},[null==t.default?void 0:t.default()])}})),[Zb,e_]=Wf("grid-item"),t_=Gf(s({name:Zb,props:Bf({},Kp,{dot:Boolean,text:String,icon:String,badge:[Number,String],iconPrefix:String,iconColor:String}),setup(e,{slots:t}){var{parent:n,index:i}=Bp(Yb),o=zp();if(n){var a=r((()=>{var{square:e,gutter:t,columnNum:r}=n.props,o=100/+r+"%",a={flexBasis:o};if(e)a.paddingTop=o;else if(t){var s=Xf(t);a.paddingRight=s,i.value>=r&&(a.marginTop=s)}return a})),s=r((()=>{var{square:e,gutter:t}=n.props;if(e&&t){var r=Xf(t);return{right:r,bottom:r,height:"auto"}}}));return()=>{var{center:r,border:i,square:l,gutter:u,direction:c,clickable:d}=n.props,A=[e_("content",[c,{center:r,square:l,clickable:d,surround:i&&u}]),{[qp]:i}];return h("div",{class:[e_({square:l})],style:a.value},[h("div",{role:d?"button":void 0,class:A,style:s.value,tabindex:d?0:void 0,onClick:o},[t.default?t.default():[t.icon?h(Xp,{dot:e.dot,content:e.badge},{default:()=>[t.icon()]}):e.icon?h($p,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:e_("icon"),classPrefix:e.iconPrefix,color:e.iconColor},null):void 0,t.text?t.text():e.text?h("span",{class:e_("text")},[e.text]):void 0]])])}}}}));function n_(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}var r_,i_=Wf("image-preview")[1],o_=s({props:{src:String,show:Boolean,active:Number,minZoom:{type:[Number,String],required:!0},maxZoom:{type:[Number,String],required:!0},rootWidth:{type:Number,required:!0},rootHeight:{type:Number,required:!0}},emits:["scale","close"],setup(e,{emit:t}){var n,o,a,s,l,u,c=i({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}),A=pg(),f=r((()=>{var{rootWidth:t,rootHeight:n}=e,r=n/t;return c.imageRatio>r})),p=r((()=>{var{scale:e,moveX:t,moveY:n,moving:r,zooming:i}=c,o={transitionDuration:i||r?"0s":".3s"};if(1!==e){var a=t/e,s=n/e;o.transform="scale("+e+", "+e+") translate("+a+"px, "+s+"px)"}return o})),g=r((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:n}=e,r=f.value?n/c.imageRatio:t;return Math.max(0,(c.scale*r-t)/2)}return 0})),m=r((()=>{if(c.imageRatio){var{rootWidth:t,rootHeight:n}=e,r=f.value?n:t*c.imageRatio;return Math.max(0,(c.scale*r-n)/2)}return 0})),v=n=>{(n=ep(n,+e.minZoom,+e.maxZoom))!==c.scale&&(c.scale=n,t("scale",{scale:n,index:e.active}))},y=()=>{v(1),c.moveX=0,c.moveY=0},b=e=>{var{touches:t}=e,{offsetX:r}=A;A.start(e),n=c.moveX,o=c.moveY,u=Date.now(),c.moving=1===t.length&&1!==c.scale,c.zooming=2===t.length&&!r.value,c.zooming&&(a=c.scale,s=n_(e.touches))},_=e=>{var{touches:t}=e;if(A.move(e),(c.moving||c.zooming)&&op(e,!0),c.moving){var{deltaX:r,deltaY:i}=A,l=r.value+n,u=i.value+o;c.moveX=ep(l,-g.value,g.value),c.moveY=ep(u,-m.value,m.value)}if(c.zooming&&2===t.length){var d=n_(t);v(a*d/s)}},w=()=>{var e,{offsetX:n,offsetY:r}=A,i=Date.now()-u;n.value<10&&r.value<10&&i<250&&(l?(clearTimeout(l),l=null,e=c.scale>1?1:2,v(e),c.moveX=0,c.moveY=0):l=setTimeout((()=>{t("close"),l=null}),250))},B=e=>{var t=!1;(c.moving||c.zooming)&&(t=!0,c.moving&&n===c.moveX&&o===c.moveY&&(t=!1),e.touches.length||(c.zooming&&(c.moveX=ep(c.moveX,-g.value,g.value),c.moveY=ep(c.moveY,-m.value,m.value),c.zooming=!1),c.moving=!1,n=0,o=0,a=1,c.scale<1&&y())),op(e,t),w(),A.reset()},C=e=>{var{naturalWidth:t,naturalHeight:n}=e.target;c.imageRatio=n/t};return d((()=>e.active),y),d((()=>e.show),(e=>{e||y()})),()=>{var t={loading:()=>h(rg,{type:"spinner"},null)};return h(ry,{class:i_("swipe-item"),onTouchstart:b,onTouchmove:_,onTouchend:B,onTouchcancel:B},{default:()=>[h(Iv,{src:e.src,fit:"contain",class:i_("image",{vertical:f.value}),style:p.value,onLoad:C},t)]})}}}),[a_,s_]=Wf("image-preview"),l_=s({name:a_,props:{show:Boolean,loop:Ef,overlay:Ef,closeable:Boolean,showIndex:Ef,className:null,transition:String,beforeClose:Function,overlayStyle:Object,showIndicators:Boolean,closeOnPopstate:Ef,images:{type:Array,default:()=>[]},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},swipeDuration:{type:[Number,String],default:300},startPosition:{type:[Number,String],default:0},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"}},emits:["scale","close","closed","change","update:show"],setup(e,{emit:t,slots:n}){var r=c(),o=Np(),s=i({active:0,rootWidth:0,rootHeight:0}),l=()=>{if(r.value){var e=r.value.$el.getBoundingClientRect();s.rootWidth=e.width,s.rootHeight=e.height,r.value.resize()}},u=e=>t("scale",e),A=e=>t("update:show",e),f=()=>{bm({interceptor:e.beforeClose,args:[s.active],done:()=>A(!1)})},p=e=>{e!==s.active&&(s.active=e,t("change",e))},m=()=>{if(e.showIndex)return h("div",{class:s_("index")},[n.index?n.index({index:s.active}):s.active+1+" / "+e.images.length])},v=()=>{if(n.cover)return h("div",{class:s_("cover")},[n.cover()])},y=()=>{if(e.closeable)return h($p,{role:"button",name:e.closeIcon,class:s_("close-icon",e.closeIconPosition),onClick:f},null)},b=()=>t("closed"),_=(e,t)=>{var n;return null==(n=r.value)?void 0:n.swipeTo(e,t)};return jp({swipeTo:_}),g(l),d([o.width,o.height],l),d((()=>e.startPosition),(e=>p(+e))),d((()=>e.show),(n=>{var{images:r,startPosition:i}=e;n?(p(+i),a((()=>{l(),_(+i,{immediate:!0})}))):t("close",{index:s.active,url:r[s.active]})})),()=>h(Tg,x({class:[s_(),e.className],overlayClass:s_("overlay"),onClosed:b},Sf(e,["show","transition","overlayStyle","closeOnPopstate"]),{"onUpdate:show":A}),{default:()=>[y(),h(qv,{ref:r,lazyRender:!0,loop:e.loop,class:s_("swipe"),duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:p},{default:()=>[e.images.map((t=>h(o_,{src:t,show:e.show,active:s.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:s.rootWidth,rootHeight:s.rootHeight,onScale:u,onClose:f},null)))]}),m(),v()]})}}),u_={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,overlayStyle:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"};var c_=(e,t=0)=>{if(Cf){r_||({instance:r_}=am({setup(){var{state:e,toggle:t}=om(),n=()=>{e.images=[]};return()=>h(l_,x(e,{onClosed:n,"onUpdate:show":t}),null)}}));var n=Array.isArray(e)?{images:e,startPosition:t}:e;return r_.open(Bf({},u_,n)),r_}};c_.Component=Gf(l_),c_.install=e=>{e.use(Gf(l_))};var[d_,A_]=Wf("index-bar"),h_=Symbol(d_),f_=s({name:d_,props:{sticky:Ef,zIndex:[Number,String],highlightColor:String,stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:function(){var e="A".charCodeAt(0);return Array(26).fill("").map(((t,n)=>String.fromCharCode(e+n)))}}},emits:["select","change"],setup(e,{emit:t,slots:n}){var i=c(),o=c(""),s=pg(),l=Qp(i),{children:u,linkChildren:A}=Ep(h_);A({props:e});var f=r((()=>{if(If(e.zIndex))return{zIndex:+e.zIndex+1}})),p=r((()=>{if(e.highlightColor)return{color:e.highlightColor}})),m=()=>{if(!rp(i)){var{sticky:t,indexList:n}=e,r=sp(l.value),a="getBoundingClientRect"in l.value?wp(l):{top:0,left:0},s=u.map((e=>e.getRect(l.value,a))),c=((t,n)=>{for(var r=u.length-1;r>=0;r--){var i=r>0?n[r-1].height:0;if(t+(e.sticky?i+e.stickyOffsetTop:0)>=n[r].top)return r}return-1})(r,s);o.value=n[c],t&&u.forEach(((t,n)=>{var{state:i,$el:o}=t;if(n===c||n===c-1){var l=o.getBoundingClientRect();i.left=l.left,i.width=l.width}else i.left=null,i.width=null;if(n===c)i.active=!0,i.top=Math.max(e.stickyOffsetTop,s[n].top-r)+a.top;else if(n===c-1){var u=s[c].top-r;i.active=u>0,i.top=u+a.top-s[n].height}else i.active=!1}))}},v=()=>a(m);Op("scroll",m,{target:l}),g(v),d((()=>e.indexList),v),d(o,(e=>{e&&t("change",e)}));var y,b=n=>{if(n){var r=u.find((e=>String(e.index)===n));r&&(r.$el.scrollIntoView(),e.sticky&&e.stickyOffsetTop&&cp(up()-e.stickyOffsetTop),t("select",r.index))}},_=e=>{var{index:t}=e.dataset;t&&b(t)},w=e=>{_(e.target)},B=e=>{if(s.move(e),s.isVertical()){op(e);var{clientX:t,clientY:n}=e.touches[0],r=document.elementFromPoint(t,n);if(r){var{index:i}=r.dataset;i&&y!==i&&(y=i,_(r))}}};return jp({scrollTo:b}),()=>h("div",{ref:i,class:A_()},[h("div",{class:A_("sidebar"),style:f.value,onClick:w,onTouchstart:s.start,onTouchmove:B},[e.indexList.map((e=>{var t=e===o.value;return h("span",{class:A_("index",{active:t}),style:t?p.value:void 0,"data-index":e},[e])}))]),null==n.default?void 0:n.default()])}}),[p_,g_]=Wf("index-anchor"),m_=Gf(s({name:p_,props:{index:[Number,String]},setup(e,{slots:t}){var n=i({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),o=c(),{parent:a}=Bp(h_);if(a){var s=()=>n.active&&a.props.sticky,l=r((()=>{var{zIndex:e,highlightColor:t}=a.props;if(s())return Bf(Yf(e),{left:n.left?n.left+"px":void 0,width:n.width?n.width+"px":void 0,transform:n.top?"translate3d(0, "+n.top+"px, 0)":void 0,color:t})}));return jp({state:n,getRect:(e,t)=>{var r=wp(o);return n.rect.height=r.height,e===window||e===document.body?n.rect.top=r.top+up():n.rect.top=r.top+sp(e)-t.top,n.rect}}),()=>{var r=s();return h("div",{ref:o,style:{height:r?n.rect.height+"px":void 0}},[h("div",{style:l.value,class:[g_({sticky:r}),{"van-hairline--bottom":r}]},[t.default?t.default():e.index])])}}}})),v_=Gf(f_),[y_,b_,__]=Wf("list"),w_=Gf(s({name:y_,props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:Ef,offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){var r=c(!1),i=c(),s=c(),l=o(ey,null),u=Qp(i),A=()=>{a((()=>{if(!(r.value||e.finished||e.error||!1===(null==l?void 0:l.value))){var{offset:n,direction:o}=e,a=wp(u);if(a.height&&!rp(i)){var c=wp(s);("up"===o?a.top-c.top<=n:c.bottom-a.bottom<=n)&&(r.value=!0,t("update:loading",!0),t("load"))}}}))},f=()=>{if(e.finished){var t=n.finished?n.finished():e.finishedText;if(t)return h("div",{class:b_("finished-text")},[t])}},p=()=>{t("update:error",!1),A()},m=()=>{if(e.error){var t=n.error?n.error():e.errorText;if(t)return h("div",{class:b_("error-text"),onClick:p},[t])}},v=()=>{if(r.value&&!e.finished)return h("div",{class:b_("loading")},[n.loading?n.loading():h(rg,{class:b_("loading-icon")},{default:()=>[e.loadingText||__("loading")]})])};return d([()=>e.loading,()=>e.finished,()=>e.error],A),q((()=>{r.value=e.loading})),g((()=>{e.immediateCheck&&A()})),jp({check:A}),Op("scroll",A,{target:u}),()=>{var t=null==n.default?void 0:n.default(),o=h("div",{ref:s,class:b_("placeholder")},null);return h("div",{ref:i,role:"feed",class:b_(),"aria-busy":r.value},["down"===e.direction?t:o,v(),f(),m(),"up"===e.direction?t:o])}}}));function B_(e,t){var n=Bv(e);return e=>h("div",{class:t("placeholder"),style:{height:n.value?n.value+"px":void 0}},[e()])}var C_,E_,[T_,S_]=Wf("nav-bar"),k_=Gf(s({name:T_,props:{title:String,fixed:Boolean,zIndex:[Number,String],border:Ef,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean},emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){var r=c(),i=B_(r,S_),o=e=>t("click-left",e),a=e=>t("click-right",e),s=()=>{var{title:t,fixed:i,border:s,zIndex:l}=e,u=Yf(l),c=e.leftArrow||e.leftText||n.left,d=e.rightText||n.right;return h("div",{ref:r,style:u,class:[S_({fixed:i,"safe-area-inset-top":e.safeAreaInsetTop}),{"van-hairline--bottom":s}]},[h("div",{class:S_("content")},[c&&h("div",{class:S_("left"),onClick:o},[n.left?n.left():[e.leftArrow&&h($p,{class:S_("arrow"),name:"arrow-left"},null),e.leftText&&h("span",{class:S_("text")},[e.leftText])]]),h("div",{class:[S_("title"),"van-ellipsis"]},[n.title?n.title():t]),d&&h("div",{class:S_("right"),onClick:a},[n.right?n.right():h("span",{class:S_("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?i(s):s()}})),[x_,O_]=Wf("notice-bar"),U_=Gf(s({name:x_,props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:60}},emits:["close","replay"],setup(e,{emit:t,slots:n}){var r,o=0,a=0,s=c(),l=c(),u=i({show:!0,offset:0,duration:0}),A=n=>{"closeable"===e.mode&&(u.show=!1,t("close",n))},f=()=>{if(n["right-icon"])return n["right-icon"]();var t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?h($p,{name:t,class:O_("right-icon"),onClick:A},null):void 0},p=()=>{u.offset=o,u.duration=0,vp((()=>{bp((()=>{u.offset=-a,u.duration=(a+o)/+e.speed,t("replay")}))}))},g=()=>{var{delay:t,speed:n,scrollable:i}=e,c=If(t)?1e3*+t:0;o=0,a=0,u.offset=0,u.duration=0,clearTimeout(r),r=setTimeout((()=>{if(s.value&&l.value&&!1!==i){var e=wp(s).width,t=wp(l).width;(i||t>e)&&bp((()=>{o=e,a=t,u.offset=-a,u.duration=a/+n}))}}),c)};return Sp(g),Op("pageshow",g),d((()=>[e.text,e.scrollable]),g),()=>{var t,r,{color:i,wrapable:o,background:a}=e;return T(h("div",{role:"alert",class:O_({wrapable:o}),style:{color:i,background:a}},[n["left-icon"]?n["left-icon"]():e.leftIcon?h($p,{class:O_("left-icon"),name:e.leftIcon},null):void 0,(t=!1===e.scrollable&&!e.wrapable,r={transform:u.offset?"translateX("+u.offset+"px)":"",transitionDuration:u.duration+"s"},h("div",{ref:s,role:"marquee",class:O_("wrap")},[h("div",{ref:l,style:r,class:[O_("content"),{"van-ellipsis":t}],onTransitionend:p},[n.default?n.default():e.text])])),f()]),[[j,u.show]])}}})),[N_,I_]=Wf("notify"),F_=s({name:N_,props:Bf({},hg,{color:String,message:[Number,String],className:null,background:String,lockScroll:Boolean,type:{type:String,default:"danger"}}),setup:(e,{slots:t})=>()=>{var n={color:e.color,background:e.background};return h(Tg,{show:e.show,class:[I_([e.type]),e.className],style:n,overlay:!1,position:"top",duration:.2,lockScroll:e.lockScroll},{default:()=>[t.default?t.default():e.message]})}});function L_(e){var t;if(Cf)return E_||({instance:E_}=am({setup(){var{state:e,toggle:t}=om();return()=>h(F_,x(e,{"onUpdate:show":t}),null)}})),e=Bf(L_.currentOptions,Lf(t=e)?t:{message:t}),E_.open(e),clearTimeout(C_),e.duration>0&&(C_=window.setTimeout(L_.clear,e.duration)),E_}L_.clear=()=>{E_&&E_.toggle(!1)},L_.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0},L_.setDefaultOptions=e=>{Bf(L_.currentOptions,e)},L_.resetDefaultOptions=()=>{L_.currentOptions={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,className:"",lockScroll:!1,background:void 0}},L_.install=e=>{e.use(Gf(F_)),e.config.globalProperties.$notify=L_},L_.Component=Gf(F_);var[P_,Q_]=Wf("key"),D_=h("svg",{class:Q_("collapse-icon"),viewBox:"0 0 30 24"},[h("path",{d:"M25.877 12.843h-1.502c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.5c.187 0 .187 0 .187-.188v-1.511c0-.19 0-.191-.185-.191zM17.999 10.2c0 .188 0 .188.188.188h1.687c.188 0 .188 0 .188-.188V8.688c0-.187.004-.187-.186-.19h-1.69c-.187 0-.187 0-.187.19V10.2zm2.25-3.967h1.5c.188 0 .188 0 .188-.188v-1.7c0-.19 0-.19-.188-.19h-1.5c-.189 0-.189 0-.189.19v1.7c0 .188 0 .188.19.188zm2.063 4.157h3.563c.187 0 .187 0 .187-.189V4.346c0-.19.004-.19-.185-.19h-1.69c-.187 0-.187 0-.187.188v4.155h-1.688c-.187 0-.187 0-.187.189v1.514c0 .19 0 .19.187.19zM14.812 24l2.812-3.4H12l2.813 3.4zm-9-11.157H4.31c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.502c.187 0 .187 0 .187-.188v-1.511c0-.19.01-.191-.189-.191zm15.937 0H8.25c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h13.5c.188 0 .188 0 .188-.188v-1.511c0-.19 0-.191-.188-.191zm-11.438-2.454h1.5c.188 0 .188 0 .188-.188V8.688c0-.187 0-.187-.188-.189h-1.5c-.187 0-.187 0-.187.189V10.2c0 .188 0 .188.187.188zM27.94 0c.563 0 .917.21 1.313.567.518.466.748.757.748 1.51v14.92c0 .567-.188 1.134-.562 1.512-.376.378-.938.566-1.313.566H2.063c-.563 0-.938-.188-1.313-.566-.562-.378-.75-.945-.75-1.511V2.078C0 1.51.188.944.562.567.938.189 1.5 0 1.875 0zm-.062 2H2v14.92h25.877V2zM5.81 4.157c.19 0 .19 0 .19.189v1.762c-.003.126-.024.126-.188.126H4.249c-.126-.003-.126-.023-.126-.188v-1.7c-.187-.19 0-.19.188-.19zm10.5 2.077h1.503c.187 0 .187 0 .187-.188v-1.7c0-.19 0-.19-.187-.19h-1.502c-.188 0-.188.001-.188.19v1.7c0 .188 0 .188.188.188zM7.875 8.5c.187 0 .187.002.187.189V10.2c0 .188 0 .188-.187.188H4.249c-.126-.002-.126-.023-.126-.188V8.625c.003-.126.024-.126.188-.126zm7.875 0c.19.002.19.002.19.189v1.575c-.003.126-.024.126-.19.126h-1.563c-.126-.002-.126-.023-.126-.188V8.625c.002-.126.023-.126.189-.126zm-6-4.342c.187 0 .187 0 .187.189v1.7c0 .188 0 .188-.187.188H8.187c-.126-.003-.126-.023-.126-.188V4.283c.003-.126.024-.126.188-.126zm3.94 0c.185 0 .372 0 .372.189v1.762c-.002.126-.023.126-.187.126h-1.75C12 6.231 12 6.211 12 6.046v-1.7c0-.19.187-.19.187-.19z",fill:"currentColor"},null)]),M_=h("svg",{class:Q_("delete-icon"),viewBox:"0 0 32 22"},[h("path",{d:"M28.016 0A3.991 3.991 0 0132 3.987v14.026c0 2.2-1.787 3.987-3.98 3.987H10.382c-.509 0-.996-.206-1.374-.585L.89 13.09C.33 12.62 0 11.84 0 11.006c0-.86.325-1.62.887-2.08L9.01.585A1.936 1.936 0 0110.383 0zm0 1.947H10.368L2.24 10.28c-.224.226-.312.432-.312.73 0 .287.094.51.312.729l8.128 8.333h17.648a2.041 2.041 0 002.037-2.04V3.987c0-1.127-.915-2.04-2.037-2.04zM23.028 6a.96.96 0 01.678.292.95.95 0 01-.003 1.377l-3.342 3.348 3.326 3.333c.189.188.292.43.292.679 0 .248-.103.49-.292.679a.96.96 0 01-.678.292.959.959 0 01-.677-.292L18.99 12.36l-3.343 3.345a.96.96 0 01-.677.292.96.96 0 01-.678-.292.962.962 0 01-.292-.68c0-.248.104-.49.292-.679l3.342-3.348-3.342-3.348A.963.963 0 0114 6.971c0-.248.104-.49.292-.679A.96.96 0 0114.97 6a.96.96 0 01.677.292l3.358 3.348 3.345-3.348A.96.96 0 0123.028 6z",fill:"currentColor"},null)]),R_=s({name:P_,props:{type:String,text:[Number,String],color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){var r=c(!1),i=pg(),o=e=>{i.start(e),r.value=!0},a=e=>{i.move(e),i.direction.value&&(r.value=!1)},s=i=>{r.value&&(n.default||i.preventDefault(),r.value=!1,t("press",e.text,e.type))},l=()=>{if(e.loading)return h(rg,{class:Q_("loading-icon")},null);var t=n.default?n.default():e.text;switch(e.type){case"delete":return t||M_;case"extra":return t||D_;default:return t}};return()=>h("div",{class:Q_("wrapper",{wider:e.wider}),onTouchstart:o,onTouchmove:a,onTouchend:s,onTouchcancel:s},[h("div",{role:"button",tabindex:0,class:Q_([e.color,{large:e.large,active:r.value,delete:"delete"===e.type}])},[l()])])}}),[H_,j_]=Wf("number-keyboard"),K_=Gf(s({name:H_,props:{show:Boolean,title:String,zIndex:[Number,String],teleport:[String,Object],transition:Ef,blurOnClose:Ef,showDeleteKey:Ef,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:Ef,safeAreaInsetBottom:Ef,theme:{type:String,default:"default"},modelValue:{type:String,default:""},extraKey:{type:[String,Array],default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE}},emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n}){var i=c(),o=()=>{var t=Array(9).fill("").map(((e,t)=>({text:t+1})));return e.randomKeyOrder&&t.sort((()=>Math.random()>.5?1:-1)),t},a=r((()=>"custom"===e.theme?(()=>{var t=o(),{extraKey:n}=e,r=Array.isArray(n)?n:[n];return 1===r.length?t.push({text:0,wider:!0},{text:r[0],type:"extra"}):2===r.length&&t.push({text:r[0],type:"extra"},{text:0},{text:r[1],type:"extra"}),t})():[...o(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}])),s=()=>{e.show&&t("blur")},l=()=>{t("close"),e.blurOnClose&&s()},u=()=>t(e.show?"show":"hide"),A=(n,r)=>{if(""!==n){var i=e.modelValue;"delete"===r?(t("delete"),t("update:modelValue",i.slice(0,i.length-1))):"close"===r?l():i.length<e.maxlength&&(t("input",n),t("update:modelValue",i+n))}else"extra"===r&&s()},f=()=>{if("custom"===e.theme)return h("div",{class:j_("sidebar")},[e.showDeleteKey&&h(R_,{large:!0,text:e.deleteButtonText,type:"delete",onPress:A},{delete:n.delete}),h(R_,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:A},null)])};return d((()=>e.show),(n=>{e.transition||t(n?"show":"hide")})),e.hideOnClickOutside&&Up(i,l,{eventName:"touchstart"}),()=>{var t=(()=>{var{title:t,theme:r,closeButtonText:i}=e,o=n["title-left"],a=i&&"default"===r;if(t||a||o)return h("div",{class:j_("header")},[o&&h("span",{class:j_("title-left")},[o()]),t&&h("h2",{class:j_("title")},[t]),a&&h("button",{type:"button",class:j_("close"),onClick:l},[i])])})(),r=h(O,{name:e.transition?"van-slide-up":""},{default:()=>[T(h("div",{ref:i,style:Yf(e.zIndex),class:j_({unfit:!e.safeAreaInsetBottom,"with-title":!!t}),onTouchstart:ip,onAnimationend:u,onWebkitAnimationEnd:u},[t,h("div",{class:j_("body")},[h("div",{class:j_("keys")},[a.value.map((e=>{var t={};return"delete"===e.type&&(t.default=n.delete),"extra"===e.type&&(t.default=n["extra-key"]),h(R_,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:A},t)}))]),f()])]),[[j,e.show]])]});return e.teleport?h(K,{to:e.teleport},{default:()=>[r]}):r}}})),[V_,z_,q_]=Wf("pagination");function W_(e,t,n){return{number:e,text:t,active:n}}var G_=Gf(s({name:V_,props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},modelValue:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var i=r((()=>{var{pageCount:t,totalItems:n,itemsPerPage:r}=e,i=+t||Math.ceil(+n/+r);return Math.max(1,i)})),o=r((()=>{var t=[],n=i.value,r=+e.showPageSize,{modelValue:o,forceEllipses:a}=e;if("multi"!==e.mode)return t;var s=1,l=n,u=r<n;u&&(l=(s=Math.max(o-Math.floor(r/2),1))+r-1)>n&&(s=(l=n)-r+1);for(var c=s;c<=l;c++){var d=W_(c,c,c===o);t.push(d)}if(u&&r>0&&a){if(s>1){var A=W_(s-1,"...");t.unshift(A)}if(l<n){var h=W_(l+1,"...");t.push(h)}}return t})),a=(n,r)=>{n=Math.min(i.value,Math.max(1,n)),e.modelValue!==n&&(t("update:modelValue",n),r&&t("change",n))};d((()=>e.modelValue),(e=>{a(e)}),{immediate:!0});var s=()=>{if("multi"!==e.mode)return h("li",{class:z_("page-desc")},[n.pageDesc?n.pageDesc():e.modelValue+"/"+i.value])};return()=>{var t=e.modelValue,r="multi"!==e.mode,l=e=>()=>a(e,!0);return h("ul",{class:z_({simple:r})},[h("li",{class:[z_("item",{disabled:1===t}),z_("prev"),qp],onClick:l(t-1)},[n["prev-text"]?n["prev-text"]():e.prevText||q_("prev")]),o.value.map((e=>h("li",{class:[z_("item",{active:e.active}),z_("page"),qp],onClick:l(e.number)},[n.page?n.page(e):e.text]))),s(),h("li",{class:[z_("item",{disabled:t===i.value}),z_("next"),qp],onClick:l(t+1)},[n["next-text"]?n["next-text"]():e.nextText||q_("next")])])}}})),[X_,J_]=Wf("password-input"),Y_=Gf(s({name:X_,props:{info:String,mask:Ef,gutter:[Number,String],focused:Boolean,errorInfo:String,value:{type:String,default:""},length:{type:[Number,String],default:6}},emits:["focus"],setup(e,{emit:t}){var n=e=>{e.stopPropagation(),t("focus",e)},r=()=>{for(var t=[],{mask:n,value:r,length:i,gutter:o,focused:a}=e,s=0;s<i;s++){var l=r[s],u=0!==s&&!o,c=a&&s===r.length,d=void 0;0!==s&&o&&(d={marginLeft:Xf(o)}),t.push(h("li",{class:[{"van-hairline--left":u},J_("item",{focus:c})],style:d},[n?h("i",{style:{visibility:l?"visible":"hidden"}},null):l,c&&h("div",{class:J_("cursor")},null)]))}return t};return()=>{var t=e.errorInfo||e.info;return h("div",{class:J_()},[h("ul",{class:[J_("security"),{"van-hairline--surround":!e.gutter}],onTouchstart:n},[r()]),t&&h("div",{class:J_(e.errorInfo?"error-info":"info")},[t])])}}}));function $_(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function Z_(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ew(e){var t=Z_(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tw(e){return e instanceof Z_(e).Element||e instanceof Element}function nw(e){return e instanceof Z_(e).HTMLElement||e instanceof HTMLElement}function rw(e){return e?(e.nodeName||"").toLowerCase():null}function iw(e){return((tw(e)?e.ownerDocument:e.document)||window.document).documentElement}function ow(e){return Z_(e).getComputedStyle(e)}function aw(e){var t=ow(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function sw(e,t,n){void 0===n&&(n=!1);var r,i,o=iw(t),a=$_(e),s=nw(t),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(s||!s&&!n)&&(("body"!==rw(t)||aw(o))&&(l=(r=t)!==Z_(r)&&nw(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:ew(r)),nw(t)?((u=$_(t)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=function(e){return $_(iw(e)).left+ew(e).scrollLeft}(o))),{x:a.left+l.scrollLeft-u.x,y:a.top+l.scrollTop-u.y,width:a.width,height:a.height}}function lw(e){return"html"===rw(e)?e:e.assignedSlot||e.parentNode||(t=e,"undefined"!=typeof ShadowRoot&&(t instanceof Z_(t).ShadowRoot||t instanceof ShadowRoot)?e.host:null)||iw(e);var t}function uw(e){return["html","body","#document"].indexOf(rw(e))>=0?e.ownerDocument.body:nw(e)&&aw(e)?e:uw(lw(e))}function cw(e,t){var n;void 0===t&&(t=[]);var r=uw(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Z_(r),a=i?[o].concat(o.visualViewport||[],aw(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(cw(lw(a)))}function dw(e){return["table","td","th"].indexOf(rw(e))>=0}function Aw(e){return nw(e)&&"fixed"!==ow(e).position?e.offsetParent:null}function hw(e){for(var t=Z_(e),n=Aw(e);n&&dw(n)&&"static"===ow(n).position;)n=Aw(n);return n&&("html"===rw(n)||"body"===rw(n)&&"static"===ow(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&nw(e)&&"fixed"===ow(e).position)return null;for(var n=lw(e);nw(n)&&["html","body"].indexOf(rw(n))<0;){var r=ow(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var fw="top",pw="right",gw="left",mw=[].concat([fw,"bottom",pw,gw],["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),vw=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function yw(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function bw(e){return e.split("-")[0]}var _w=Math.round;var ww={placement:"bottom",modifiers:[],strategy:"absolute"};function Bw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Cw(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ww:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},ww,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){d(),s.options=Object.assign({},o,s.options,n),s.scrollParents={reference:tw(e)?cw(e):e.contextElement?cw(e.contextElement):[],popper:cw(t)};var i,a,u=function(e){var t=yw(e);return vw.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((i=[].concat(r,s.options.modifiers),a=i.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(a).map((function(e){return a[e]}))));return s.orderedModifiers=u.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:c,options:r}),a=function(){};l.push(o||a)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(Bw(t,n)){var r,i,o,a;s.rects={reference:sw(t,hw(n),"fixed"===s.options.strategy),popper:(r=n,i=$_(r),o=r.offsetWidth,a=r.offsetHeight,Math.abs(i.width-o)<=1&&(o=i.width),Math.abs(i.height-a)<=1&&(a=i.height),{x:r.offsetLeft,y:r.offsetTop,width:o,height:a})},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var l=0;l<s.orderedModifiers.length;l++)if(!0!==s.reset){var d=s.orderedModifiers[l],A=d.fn,h=d.options,f=void 0===h?{}:h,p=d.name;"function"==typeof A&&(s=A({state:s,options:f,name:p,instance:c})||s)}else s.reset=!1,l=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){d(),u=!0}};if(!Bw(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var Ew={passive:!0};var Tw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sw(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,s=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,c=!0===u?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:_w(_w(t*r)/r)||0,y:_w(_w(n*r)/r)||0}}(o):"function"==typeof u?u(o):o,d=c.x,A=void 0===d?0:d,h=c.y,f=void 0===h?0:h,p=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),m=gw,v=fw,y=window;if(l){var b=hw(n),_="clientHeight",w="clientWidth";b===Z_(n)&&"static"!==ow(b=iw(n)).position&&(_="scrollHeight",w="scrollWidth"),b=b,i===fw&&(v="bottom",f-=b[_]-r.height,f*=s?1:-1),i===gw&&(m=pw,A-=b[w]-r.width,A*=s?1:-1)}var B,C=Object.assign({position:a},l&&Tw);return s?Object.assign({},C,((B={})[v]=g?"0":"",B[m]=p?"0":"",B.transform=(y.devicePixelRatio||1)<2?"translate("+A+"px, "+f+"px)":"translate3d("+A+"px, "+f+"px, 0)",B)):Object.assign({},C,((t={})[v]=g?f+"px":"",t[m]=p?A+"px":"",t.transform="",t))}var kw=Cw({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Z_(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,Ew)})),s&&l.addEventListener("resize",n.update,Ew),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Ew)})),s&&l.removeEventListener("resize",n.update,Ew)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=function(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?bw(i):null,a=i?function(e){return e.split("-")[1]}(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case fw:t={x:s,y:n.y-r.height};break;case"bottom":t={x:s,y:n.y+n.height};break;case pw:t={x:n.x+n.width,y:l};break;case gw:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case"start":t[u]=t[u]-(n[c]/2-r[c]/2);break;case"end":t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:bw(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Sw(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sw(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];nw(i)&&rw(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});nw(r)&&rw(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]}]});var xw={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=mw.reduce((function(e,n){return e[n]=function(e,t,n){var r=bw(e),i=[gw,fw].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[gw,pw].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},[Ow,Uw]=Wf("popover"),Nw=["show","overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],Iw=Gf(s({name:Ow,props:{show:Boolean,overlay:Boolean,duration:[Number,String],iconPrefix:String,overlayClass:null,overlayStyle:Object,closeOnClickAction:Ef,closeOnClickOverlay:Ef,closeOnClickOutside:Ef,offset:{type:Array,default:()=>[0,8]},theme:{type:String,default:"light"},trigger:{type:String,default:"click"},actions:{type:Array,default:()=>[]},placement:{type:String,default:"bottom"},teleport:{type:[String,Object],default:"body"}},emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:r}){var i,o=c(),s=c(),l=()=>{a((()=>{e.show&&(i?i.setOptions({placement:e.placement}):i=kw(o.value,s.value.popupRef.value,{placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Bf({},xw,{options:{offset:e.offset}})]}))}))},u=e=>t("update:show",e),A=()=>{"click"===e.trigger&&u(!e.show)},f=e=>{e.stopPropagation(),t("touchstart",e)},m=(n,r)=>{var{icon:i,text:o,color:a,disabled:s,className:l}=n;return h("div",{role:"menuitem",class:[Uw("action",{disabled:s,"with-icon":i}),l],style:{color:a},onClick:()=>((n,r)=>{n.disabled||(t("select",n,r),e.closeOnClickAction&&u(!1))})(n,r)},[i&&h($p,{name:i,classPrefix:e.iconPrefix,class:Uw("action-icon")},null),h("div",{class:[Uw("action-text"),"van-hairline--bottom"]},[o])])};return g(l),k((()=>{i&&(i.destroy(),i=null)})),d((()=>[e.show,e.placement]),l),Up(o,(()=>{!e.closeOnClickOutside||e.overlay&&!e.closeOnClickOverlay||u(!1)}),{eventName:"touchstart"}),()=>h(p,null,[h("span",{ref:o,class:Uw("wrapper"),onClick:A},[null==n.reference?void 0:n.reference()]),h(Tg,x({ref:s,class:Uw([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,onTouchstart:f},r,Sf(e,Nw),{"onUpdate:show":u}),{default:()=>[h("div",{class:Uw("arrow")},null),h("div",{role:"menu",class:Uw("content")},[n.default?n.default():e.actions.map(m)])]})])}})),[Fw,Lw]=Wf("progress"),Pw=Gf(s({name:Fw,props:{color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:Ef,pivotColor:String,trackColor:String,strokeWidth:[Number,String],percentage:{type:[Number,String],required:!0,validator:e=>e>=0&&e<=100}},setup(e){var t=c(),n=c(),o=i({rootWidth:0,pivotWidth:0}),s=r((()=>e.inactive?"#cacaca":e.color)),l=()=>{a((()=>{o.rootWidth=t.value?t.value.offsetWidth:0,o.pivotWidth=n.value?n.value.offsetWidth:0}))},u=()=>{var{rootWidth:t,pivotWidth:r}=o,{textColor:i,pivotText:a,pivotColor:l,percentage:u}=e,c=null!=a?a:u+"%";if(e.showPivot&&c){var d={color:i,left:(t-r)*+u/100+"px",background:l||s.value};return h("span",{ref:n,style:d,class:Lw("pivot")},[c])}};return d((()=>[e.showPivot,e.pivotText]),l),g(l),jp({resize:l}),()=>{var{trackColor:n,percentage:r,strokeWidth:i}=e,a={background:n,height:Xf(i)},l={background:s.value,width:o.rootWidth*+r/100+"px"};return h("div",{ref:t,class:Lw(),style:a},[h("span",{class:Lw("portion"),style:l},[u()])])}}})),[Qw,Dw,Mw]=Wf("pull-refresh"),Rw=["pulling","loosing","success"],Hw=Gf(s({name:Qw,props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:[Number,String],modelValue:{type:Boolean,default:!1},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:50}},emits:["refresh","update:modelValue"],setup(e,{emit:t,slots:n}){var r,o=c(),s=Qp(o),l=i({status:"normal",distance:0,duration:0}),u=pg(),A=()=>{if(50!==e.headHeight)return{height:e.headHeight+"px"}},f=()=>"loading"!==l.status&&"success"!==l.status&&!e.disabled,p=(t,n)=>{var r=+(e.pullDistance||e.headHeight);l.distance=t,l.status=n?"loading":0===t?"normal":t<r?"pulling":"loosing"},g=()=>{var{status:t}=l;return"normal"===t?"":e[t+"Text"]||Mw(t)},m=()=>{var{status:e,distance:t}=l;if(n[e])return n[e]({distance:t});var r=[];return Rw.includes(e)&&r.push(h("div",{class:Dw("text")},[g()])),"loading"===e&&r.push(h(rg,{class:Dw("loading")},{default:()=>[g()]})),r},v=e=>{(r=0===sp(s.value))&&(l.duration=0,u.start(e))},y=e=>{f()&&v(e)},b=t=>{if(f()){r||v(t);var{deltaY:n}=u;u.move(t),r&&n.value>=0&&u.isVertical()&&(op(t),p((i=n.value,o=+(e.pullDistance||e.headHeight),i>o&&(i=i<2*o?o+(i-o)/2:1.5*o+(i-2*o)/4),Math.round(i))))}var i,o},_=()=>{r&&u.deltaY.value&&f()&&(l.duration=+e.animationDuration,"loosing"===l.status?(p(+e.headHeight,!0),t("update:modelValue",!0),a((()=>t("refresh")))):p(0))};return d((()=>e.modelValue),(t=>{l.duration=+e.animationDuration,t?p(+e.headHeight,!0):n.success||e.successText?(l.status="success",setTimeout((()=>{p(0)}),+e.successDuration)):p(0,!1)})),()=>{var e={transitionDuration:l.duration+"ms",transform:l.distance?"translate3d(0,"+l.distance+"px, 0)":""};return h("div",{ref:o,class:Dw()},[h("div",{class:Dw("track"),style:e,onTouchstart:y,onTouchmove:b,onTouchend:_,onTouchcancel:_},[h("div",{class:Dw("head"),style:A()},[m()]),null==n.default?void 0:n.default()])])}}})),[jw,Kw]=Wf("rate");var Vw=Gf(s({name:jw,props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,touchable:Ef,iconPrefix:String,disabledColor:String,modelValue:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5}},emits:["change","update:modelValue"],setup(e,{emit:t}){var n,i=pg(),[o,a]=mv(),s=()=>e.readonly||e.disabled||!e.touchable,l=r((()=>Array(e.count).fill("").map(((t,n)=>function(e,t,n,r){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&n&&!r)return{status:"half",value:.5};if(e+1>=t&&n&&r){var i=Math.pow(10,10);return{status:"half",value:Math.round((e-t+1)*i)/i}}return{status:"void",value:0}}(e.modelValue,n+1,e.allowHalf,e.readonly))))),u=()=>{var t=o.value.map((e=>e.getBoundingClientRect()));n=[],t.forEach(((t,r)=>{e.allowHalf?n.push({score:r+.5,left:t.left},{score:r+1,left:t.left+t.width/2}):n.push({score:r+1,left:t.left})}))},c=t=>{for(var r=n.length-1;r>0;r--)if(t>n[r].left)return n[r].score;return e.allowHalf?.5:1},d=n=>{e.disabled||e.readonly||n===e.modelValue||(t("update:modelValue",n),t("change",n))},A=e=>{s()||(i.start(e),u())},f=e=>{if(!s()&&(i.move(e),i.isHorizontal())){var{clientX:t}=e.touches[0];op(e),d(c(t))}},p=(t,n)=>{var r,{icon:i,size:o,color:s,count:l,gutter:A,voidIcon:f,disabled:p,voidColor:g,allowHalf:m,iconPrefix:v,disabledColor:y}=e,b=n+1,_="full"===t.status,w="void"===t.status,B=m&&t.value>0&&t.value<1;A&&b!==+l&&(r={paddingRight:Xf(A)});return h("div",{key:n,ref:a(n),role:"radio",style:r,class:Kw("item"),tabindex:0,"aria-setsize":+l,"aria-posinset":b,"aria-checked":!w,onClick:e=>{u(),d(m?c(e.clientX):b)}},[h($p,{size:o,name:_?i:f,class:Kw("icon",{disabled:p,full:_}),color:p?y:_?s:g,classPrefix:v},null),B&&h($p,{size:o,style:{width:t.value+"em"},name:w?f:i,class:Kw("icon",["half",{disabled:p,full:!w}]),color:p?y:w?g:s,classPrefix:v},null)])};return em((()=>e.modelValue)),()=>h("div",{role:"radiogroup",class:Kw({readonly:e.readonly,disabled:e.disabled}),tabindex:0,onTouchstart:A,onTouchmove:f},[l.value.map(p)])}})),zw=Gf(Uy),[qw,Ww,Gw]=Wf("search"),Xw=Gf(s({name:qw,props:Bf({},rm,{label:String,clearable:Ef,actionText:String,background:String,showAction:Boolean,shape:{type:String,default:"square"},leftIcon:{type:String,default:"search"}}),emits:["search","cancel","update:modelValue"],setup(e,{emit:t,slots:n,attrs:r}){var i=c(),o=()=>{n.action||(t("update:modelValue",""),t("cancel"))},a=n=>{13===n.keyCode&&(op(n),t("search",e.modelValue))},s=()=>{if(n.label||e.label)return h("div",{class:Ww("label")},[n.label?n.label():e.label])},l=()=>{if(e.showAction){var t=e.actionText||Gw("cancel");return h("div",{class:Ww("action"),role:"button",tabindex:0,onClick:o},[n.action?n.action():t])}},u=Object.keys(rm);return jp({focus:()=>{var e;return null==(e=i.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=i.value)?void 0:e.blur()}}),()=>{return h("div",{class:Ww({"show-action":e.showAction}),style:{background:e.background}},[null==n.left?void 0:n.left(),h("div",{class:Ww("content",e.shape)},[s(),(o=Bf({},r,Sf(e,u)),h(im,x({ref:i,type:"search",border:!1,onKeypress:a},o,{"onUpdate:modelValue":e=>t("update:modelValue",e)}),Sf(n,["left-icon","right-icon"])))]),l()]);var o}}})),Jw=["qq","link","weibo","wechat","poster","qrcode","weapp-qrcode","wechat-moments"],Yw=[...fg,"closeOnPopstate","safeAreaInsetBottom"];function $w(e){return Jw.includes(e)?"https://img.yzcdn.cn/vant/share-sheet-"+e+".png":e}var[Zw,eB,tB]=Wf("share-sheet"),nB=Gf(s({name:Zw,props:Bf({},hg,{title:String,cancelText:String,description:String,closeOnPopstate:Ef,safeAreaInsetBottom:Ef,options:{type:Array,default:()=>[]}}),emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){var r=e=>t("update:show",e),i=()=>{r(!1),t("cancel")},o=()=>{var t=n.title?n.title():e.title,r=n.description?n.description():e.description;if(t||r)return h("div",{class:eB("header")},[t&&h("h2",{class:eB("title")},[t]),r&&h("span",{class:eB("description")},[r])])},a=(e,n)=>{var{name:r,icon:i,className:o,description:a}=e;return h("div",{role:"button",tabindex:0,class:[eB("option"),o],onClick:()=>((e,n)=>t("select",e,n))(e,n)},[h("img",{src:$w(i),class:eB("icon")},null),r&&h("span",{class:eB("name")},[r]),a&&h("span",{class:eB("option-description")},[a])])},s=(e,t)=>h("div",{class:eB("options",{border:t})},[e.map(a)]),l=()=>{var{options:t}=e;return Array.isArray(t[0])?t.map(((e,t)=>s(e,0!==t))):s(t)},u=()=>{var t,r=null!=(t=e.cancelText)?t:tB("cancel");if(n.cancel||r)return h("button",{type:"button",class:eB("cancel"),onClick:i},[n.cancel?n.cancel():r])};return()=>h(Tg,x({round:!0,class:eB(),position:"bottom"},Sf(e,Yw),{"onUpdate:show":r}),{default:()=>[o(),l(),u()]})}})),[rB,iB]=Wf("sidebar"),oB=Symbol(rB),aB=Gf(s({name:rB,props:{modelValue:{type:[Number,String],default:0}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var{linkChildren:r}=Ep(oB),i=()=>+e.modelValue;return r({getActive:i,setActive:e=>{e!==i()&&(t("update:modelValue",e),t("change",e))}}),()=>h("div",{class:iB()},[null==n.default?void 0:n.default()])}})),[sB,lB]=Wf("sidebar-item"),uB=Gf(s({name:sB,props:Bf({},Kp,{dot:Boolean,title:String,badge:[Number,String],disabled:Boolean}),emits:["click"],setup(e,{emit:t,slots:n}){var r=zp(),{parent:i,index:o}=Bp(oB);if(i){var a=()=>{e.disabled||(t("click",o.value),i.setActive(o.value),r())};return()=>{var{dot:t,badge:r,title:s,disabled:l}=e,u=o.value===i.getActive();return h("a",{class:lB({select:u,disabled:l}),onClick:a},[h(Xp,{dot:t,content:r,class:lB("text")},{default:()=>[n.title?n.title():s]})])}}}})),[cB,dB]=Wf("skeleton"),AB=Gf(s({name:cB,props:{title:Boolean,round:Boolean,avatar:Boolean,loading:Ef,animate:Ef,avatarSize:[Number,String],titleWidth:[Number,String],row:{type:[Number,String],default:0},avatarShape:{type:String,default:"round"},rowWidth:{type:[Number,String,Array],default:"100%"}},setup(e,{slots:t}){var n=()=>{if(e.avatar)return h("div",{class:dB("avatar",e.avatarShape),style:Jf(e.avatarSize)},null)},r=()=>{if(e.title)return h("h3",{class:dB("title"),style:{width:Xf(e.titleWidth)}},null)},i=t=>{var{rowWidth:n}=e;return"100%"===n&&t===+e.row-1?"60%":Array.isArray(n)?n[t]:n};return()=>e.loading?h("div",{class:dB({animate:e.animate,round:e.round})},[n(),h("div",{class:dB("content")},[r(),Array(e.row).fill("").map(((e,t)=>h("div",{class:dB("row"),style:{width:Xf(i(t))}},null)))])]):null==t.default?void 0:t.default()}})),[hB,fB]=Wf("slider"),pB=Gf(s({name:hB,props:{range:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},modelValue:{type:[Number,Array],default:0}},emits:["change","drag-end","drag-start","update:modelValue"],setup(e,{emit:t,slots:n}){var i,o,a,s=c(),l=c(),u=pg(),d=r((()=>Number(e.max)-Number(e.min))),A=r((()=>{var t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:Xf(e.barHeight)}})),f=t=>!!e.range&&Array.isArray(t),p=()=>{var{modelValue:t,min:n}=e;return f(t)?100*(t[1]-t[0])/d.value+"%":100*(t-Number(n))/d.value+"%"},g=()=>{var{modelValue:t,min:n}=e;return f(t)?100*(t[0]-Number(n))/d.value+"%":"0%"},m=r((()=>({[e.vertical?"height":"width"]:p(),left:e.vertical?void 0:g(),top:e.vertical?g():void 0,background:e.activeColor,transition:l.value?"none":void 0}))),v=t=>{var{min:n,max:r,step:i}=e;return t=Math.max(+n,Math.min(t,+r)),Math.round(t/+i)*+i},y=(e,t)=>JSON.stringify(e)===JSON.stringify(t),b=(n,r)=>{n=f(n)?(e=>e[0]>e[1]?e.slice(0).reverse():e)(n).map(v):v(n),y(n,e.modelValue)||t("update:modelValue",n),r&&!y(n,o)&&t("change",n)},_=t=>{if(t.stopPropagation(),!e.disabled&&!e.readonly){var{min:n,vertical:r,modelValue:i}=e,o=wp(s),a=r?t.clientY-o.top:t.clientX-o.left,l=r?o.height:o.width,u=Number(n)+a/l*d.value;if(f(i)){var[c,A]=i;b(u<=(c+A)/2?[u,A]:[c,u],!0)}else b(u,!0)}},w=n=>{if(!e.disabled&&!e.readonly){"start"===l.value&&t("drag-start"),op(n,!0),u.move(n),l.value="draging";var r=wp(s),c=(e.vertical?u.deltaY.value:u.deltaX.value)/(e.vertical?r.height:r.width)*d.value;f(o)?a[i]=o[i]+c:a=o+c,b(a)}},B=()=>{e.disabled||e.readonly||("draging"===l.value&&(b(a,!0),t("drag-end")),l.value="")},C=t=>{var r="number"==typeof t?e.modelValue[t]:e.modelValue;return h("div",{role:"slider",class:fB((()=>{if("number"==typeof t){return"button-wrapper-"+["left","right"][t]}return"button-wrapper"})()),tabindex:e.disabled||e.readonly?-1:0,"aria-valuemin":+e.min,"aria-valuenow":r,"aria-valuemax":+e.max,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstart:n=>{"number"==typeof t&&(i=t),(t=>{e.disabled||e.readonly||(u.start(t),a=e.modelValue,o=f(a)?a.map(v):v(a),l.value="start")})(n)},onTouchmove:w,onTouchend:B,onTouchcancel:B,onClick:ip},[n.button?n.button():h("div",{class:fB("button"),style:Jf(e.buttonSize)},null)])};return b(e.modelValue),em((()=>e.modelValue)),()=>h("div",{ref:s,style:A.value,class:fB({vertical:e.vertical,disabled:e.disabled}),onClick:_},[h("div",{class:fB("bar"),style:m.value},[e.range?[C(0),C(1)]:C()])])}})),[gB,mB]=Wf("steps"),vB=Symbol(gB),yB=s({name:gB,props:{iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},emits:["click-step"],setup(e,{emit:t,slots:n}){var{linkChildren:r}=Ep(vB);return r({props:e,onClickStep:e=>t("click-step",e)}),()=>h("div",{class:mB([e.direction])},[h("div",{class:mB("items")},[null==n.default?void 0:n.default()])])}}),[bB,_B]=Wf("step"),wB=Gf(s({name:bB,setup(e,{slots:t}){var{parent:n,index:i}=Bp(vB);if(n){var o=n.props,a=()=>{var e=+o.active;return i.value<e?"finish":i.value===e?"process":"waiting"},s=()=>"process"===a(),l=r((()=>({background:"finish"===a()?o.activeColor:o.inactiveColor}))),u=r((()=>s()?{color:o.activeColor}:a()?void 0:{color:o.inactiveColor})),c=()=>n.onClickStep(i.value),d=()=>{var{iconPrefix:e,finishIcon:n,activeIcon:r,activeColor:i,inactiveIcon:u}=o;return s()?t["active-icon"]?t["active-icon"]():h($p,{class:_B("icon","active"),name:r,color:i,classPrefix:e},null):"finish"===a()&&(n||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():h($p,{class:_B("icon","finish"),name:n,color:i,classPrefix:e},null):t["inactive-icon"]?t["inactive-icon"]():u?h($p,{class:_B("icon"),name:u,classPrefix:e},null):h("i",{class:_B("circle"),style:l.value},null)};return()=>{var e=a();return h("div",{class:[qp,_B([o.direction,{[e]:e}])]},[h("div",{class:_B("title",{active:s()}),style:u.value,onClick:c},[null==t.default?void 0:t.default()]),h("div",{class:_B("circle-container"),onClick:c},[d()]),h("div",{class:_B("line"),style:l.value},null)])}}}})),[BB,CB]=Wf("stepper");function EB(e,t){return String(e)===String(t)}var TB=Gf(s({name:BB,props:{theme:String,integer:Boolean,disabled:Boolean,showPlus:Ef,showMinus:Ef,showInput:Ef,longPress:Ef,allowEmpty:Boolean,modelValue:[Number,String],inputWidth:[Number,String],buttonSize:[Number,String],placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,decimalLength:[Number,String],name:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1}},emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){var n,i,o,s,l,u,A=t=>{var{min:n,max:r,allowEmpty:i,decimalLength:o}=e;return i&&""===t||(t=""===(t=np(String(t),!e.integer))?0:+t,t=Number.isNaN(t)?+n:t,t=Math.max(Math.min(+r,t),+n),If(o)&&(t=t.toFixed(+o))),t},f=c(),p=c((o=null!=(i=e.modelValue)?i:e.defaultValue,EB(s=A(o),e.modelValue)||t("update:modelValue",s),s)),g=r((()=>e.disabled||e.disableMinus||p.value<=+e.min)),m=r((()=>e.disabled||e.disablePlus||p.value>=+e.max)),v=r((()=>({width:Xf(e.inputWidth),height:Xf(e.buttonSize)}))),y=r((()=>Jf(e.buttonSize))),b=t=>{e.beforeChange?bm({args:[t],interceptor:e.beforeChange,done(){p.value=t}}):p.value=t},_=()=>{if("plus"===n&&m.value||"minus"===n&&g.value)t("overlimit",n);else{var r,i,o,a="minus"===n?-e.step:+e.step,s=A((r=+p.value,i=a,o=Math.pow(10,10),Math.round((r+i)*o)/o));b(s),t(n)}},w=t=>{var n=t.target,{value:r}=n,{decimalLength:i}=e,o=np(String(r),!e.integer);if(If(i)&&o.includes(".")){var a=o.split(".");o=a[0]+"."+a[1].slice(0,+i)}e.beforeChange?n.value=String(p.value):EB(r,o)||(n.value=o);var s=o===String(+o);b(s?+o:o)},B=n=>{var r;e.disableInput?null==(r=f.value)||r.blur():t("focus",n)},C=e=>{var n=e.target,r=A(n.value);n.value=String(r),p.value=r,a((()=>{t("blur",e),hp()}))},E=()=>{u=setTimeout((()=>{_(),E()}),200)},S=t=>{e.longPress&&(clearTimeout(u),l&&op(t))},k=t=>{e.disableInput&&t.preventDefault()},O=t=>({onClick:e=>{e.preventDefault(),n=t,_()},onTouchstart:()=>{n=t,e.longPress&&(l=!1,clearTimeout(u),u=setTimeout((()=>{l=!0,_(),E()}),600))},onTouchend:S,onTouchcancel:S});return d([()=>e.max,()=>e.min,()=>e.integer,()=>e.decimalLength],(()=>{var e=A(p.value);EB(e,p.value)||(p.value=e)})),d((()=>e.modelValue),(e=>{EB(e,p.value)||(p.value=A(e))})),d(p,(n=>{t("update:modelValue",n),t("change",n,{name:e.name})})),em((()=>e.modelValue)),()=>h("div",{class:CB([e.theme])},[T(h("button",x({type:"button",style:y.value,class:CB("minus",{disabled:g.value})},O("minus")),null),[[j,e.showMinus]]),T(h("input",{ref:f,type:e.integer?"tel":"text",role:"spinbutton",class:CB("input"),value:p.value,style:v.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,"aria-valuemax":+e.max,"aria-valuemin":+e.min,"aria-valuenow":+p.value,onBlur:C,onInput:w,onFocus:B,onMousedown:k},null),[[j,e.showInput]]),T(h("button",x({type:"button",style:y.value,class:CB("plus",{disabled:m.value})},O("plus")),null),[[j,e.showPlus]])])}})),SB=Gf(yB),[kB,xB,OB]=Wf("submit-bar"),UB=Gf(s({name:kB,props:{tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,textAlign:String,buttonText:String,buttonColor:String,suffixLabel:String,safeAreaInsetBottom:Ef,decimalLength:{type:[Number,String],default:2},currency:{type:String,default:"¥"},buttonType:{type:String,default:"danger"}},emits:["submit"],setup(e,{emit:t,slots:n}){var r=()=>{var{price:t,label:n,currency:r,textAlign:i,suffixLabel:o,decimalLength:a}=e;if("number"==typeof t){var s=(t/100).toFixed(+a).split("."),l=a?"."+s[1]:"";return h("div",{class:xB("text"),style:{textAlign:i}},[h("span",null,[n||OB("label")]),h("span",{class:xB("price")},[r,h("span",{class:xB("price-integer")},[s[0]]),l]),o&&h("span",{class:xB("suffix-label")},[o])])}},i=()=>{var{tip:t,tipIcon:r}=e;if(n.tip||t)return h("div",{class:xB("tip")},[r&&h($p,{class:xB("tip-icon"),name:r},null),t&&h("span",{class:xB("tip-text")},[t]),null==n.tip?void 0:n.tip()])},o=()=>t("submit");return()=>h("div",{class:xB({unfit:!e.safeAreaInsetBottom})},[null==n.top?void 0:n.top(),i(),h("div",{class:xB("bar")},[null==n.default?void 0:n.default(),r(),n.button?n.button():h(ag,{round:!0,type:e.buttonType,text:e.buttonText,class:xB("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:o},null)])])}})),[NB,IB]=Wf("swipe-cell"),FB=Gf(s({name:NB,props:{disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},emits:["open","close","click"],setup(e,{emit:t,slots:n}){var o,a,s,l=c(),u=c(),d=c(),A=i({offset:0,dragging:!1}),f=pg(),p=e=>e.value?wp(e).width:0,g=r((()=>If(e.leftWidth)?+e.leftWidth:p(u))),m=r((()=>If(e.rightWidth)?+e.rightWidth:p(d))),v=n=>{o=!0,A.offset="left"===n?g.value:-m.value,t("open",{name:e.name,position:n})},y=n=>{A.offset=0,o&&(o=!1,t("close",{name:e.name,position:n}))},b=t=>{e.disabled||(s=A.offset,f.start(t))},_=t=>{if(!e.disabled){var{deltaX:n}=f;if(f.move(t),f.isHorizontal())a=!0,A.dragging=!0,(!o||n.value*s<0)&&op(t,e.stopPropagation),A.offset=ep(n.value+s,-m.value,g.value)}},w=()=>{var e,t,n,r;A.dragging&&(A.dragging=!1,e=A.offset>0?"left":"right",t=Math.abs(A.offset),n=o?.85:.15,(r="left"===e?g.value:m.value)&&t>r*n?v(e):y(e),setTimeout((()=>{a=!1}),0))},B=(n="outside")=>{t("click",n),o&&!a&&bm({interceptor:e.beforeClose,args:[{name:e.name,position:n}],done:()=>y(n)})},C=(e,t)=>n=>{t&&n.stopPropagation(),B(e)},E=(e,t)=>{var r=n[e];if(r)return h("div",{ref:t,class:IB(e),onClick:C(e,!0)},[r()])};return jp({open:v,close:y}),Up(l,(()=>B("outside")),{eventName:"touchstart"}),()=>{var e={transform:"translate3d("+A.offset+"px, 0, 0)",transitionDuration:A.dragging?"0s":".6s"};return h("div",{ref:l,class:IB(),onClick:C("cell"),onTouchstart:b,onTouchmove:_,onTouchend:w,onTouchcancel:w},[h("div",{class:IB("wrapper"),style:e},[E("left",u),null==n.default?void 0:n.default(),E("right",d)])])}}})),[LB,PB]=Wf("tabbar"),QB=Symbol(LB),DB=Gf(s({name:LB,props:{route:Boolean,fixed:Ef,border:Ef,zIndex:[Number,String],placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:{type:[Number,String],default:0},safeAreaInsetBottom:{type:Boolean,default:null}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){var r=c(),{linkChildren:i}=Ep(QB),o=B_(r,PB),a=()=>{var t,{fixed:i,zIndex:o,border:a}=e;return h("div",{ref:r,style:Yf(o),class:[PB({unfit:!(null!=(t=e.safeAreaInsetBottom)?t:e.fixed),fixed:i}),{"van-hairline--top-bottom":a}]},[null==n.default?void 0:n.default()])};return i({props:e,setActive:n=>{n!==e.modelValue&&bm({interceptor:e.beforeChange,args:[n],done(){t("update:modelValue",n),t("change",n)}})}}),()=>e.fixed&&e.placeholder?o(a):a()}})),[MB,RB]=Wf("tabbar-item"),HB=Gf(s({name:MB,props:Bf({},Kp,{dot:Boolean,icon:String,name:[Number,String],badge:[Number,String],iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:n}){var i=zp(),o=y().proxy,{parent:a,index:s}=Bp(QB);if(a){var l=r((()=>{var{route:t,modelValue:n}=a.props;if(t&&"$route"in o){var{$route:r}=o,{to:i}=e,l=Lf(i)?i:{path:i},u="path"in l&&l.path===r.path,c="name"in l&&l.name===r.name;return u||c}return(e.name||s.value)===n})),u=n=>{var r;a.setActive(null!=(r=e.name)?r:s.value),t("click",n),i()};return()=>{var{dot:t,badge:r}=e,{activeColor:i,inactiveColor:o}=a.props,s=l.value?i:o;return h("div",{class:RB({active:l.value}),style:{color:s},onClick:u},[h(Xp,{dot:t,content:r,class:RB("icon")},{default:()=>[n.icon?n.icon({active:l.value}):e.icon?h($p,{name:e.icon,classPrefix:e.iconPrefix},null):void 0]}),h("div",{class:RB("text")},[null==n.default?void 0:n.default({active:l.value})])])}}}})),[jB,KB]=Wf("tree-select"),VB=Gf(s({name:jB,props:{max:{type:[Number,String],default:1/0},items:{type:Array,default:()=>[]},height:{type:[Number,String],default:300},activeId:{type:[Number,String,Array],default:0},selectedIcon:{type:String,default:"success"},mainActiveIndex:{type:[Number,String],default:0}},emits:["click-nav","click-item","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){var r=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,i=n=>h("div",{key:n.id,class:["van-ellipsis",KB("item",{active:r(n.id),disabled:n.disabled})],onClick:()=>{if(!n.disabled){var r;if(Array.isArray(e.activeId)){var i=(r=e.activeId.slice()).indexOf(n.id);-1!==i?r.splice(i,1):r.length<e.max&&r.push(n.id)}else r=n.id;t("update:activeId",r),t("click-item",n)}}},[n.text,r(n.id)&&h($p,{name:e.selectedIcon,class:KB("selected")},null)]),o=e=>{t("update:mainActiveIndex",e),t("click-nav",e)},a=()=>{if(n.content)return n.content();var t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(i):void 0};return()=>{return h("div",{class:KB(),style:{height:Xf(e.height)}},[(t=e.items.map((e=>h(uB,{dot:e.dot,title:e.text,badge:e.badge,class:[KB("nav-item"),e.className],disabled:e.disabled},null))),h(aB,{class:KB("nav"),modelValue:e.mainActiveIndex,onChange:o},{default:()=>[t]})),h("div",{class:KB("content")},[a()])]);var t}}})),[zB,qB]=Wf("uploader");function WB(e){return Array.isArray(e)?e:[e]}function GB(e,t){return new Promise((n=>{if("file"!==t){var r=new FileReader;r.onload=e=>{n(e.target.result)},"dataUrl"===t?r.readAsDataURL(e):"text"===t&&r.readAsText(e)}else n()}))}function XB(e,t){return WB(e).some((e=>!!e.file&&(Ff(t)?t(e.file):e.file.size>t)))}var JB=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function YB(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,JB.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var $B=s({props:{name:[Number,String],index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,previewSize:[Number,String],beforeDelete:Function,item:{type:Object,required:!0}},emits:["delete","preview"],setup(e,{emit:t,slots:n}){var r=()=>{var{status:t,message:n}=e.item;if("uploading"===t||"failed"===t){var r="failed"===t?h($p,{name:"close",class:qB("mask-icon")},null):h(rg,{class:qB("loading")},null),i=If(n)&&""!==n;return h("div",{class:qB("mask")},[r,i&&h("div",{class:qB("mask-message")},[n])])}},i=n=>{var{name:r,item:i,index:o,beforeDelete:a}=e;n.stopPropagation(),bm({interceptor:a,args:[i,{name:r,index:o}],done:()=>t("delete")})},o=()=>t("preview"),a=()=>{if(e.deletable&&"uploading"!==e.item.status)return h("div",{class:qB("preview-delete"),onClick:i},[h($p,{name:"cross",class:qB("preview-delete-icon")},null)])},s=()=>{if(n["preview-cover"]){var{index:t,item:r}=e;return h("div",{class:qB("preview-cover")},[n["preview-cover"](Bf({index:t},r))])}},l=()=>{var{item:t}=e;return YB(t)?h(Iv,{fit:e.imageFit,src:t.content||t.url,class:qB("preview-image"),width:e.previewSize,height:e.previewSize,lazyLoad:e.lazyLoad,onClick:o},{default:()=>[s()]}):h("div",{class:qB("file"),style:Jf(e.previewSize)},[h($p,{class:qB("file-icon"),name:"description"},null),h("div",{class:[qB("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),s()])};return()=>h("div",{class:qB("preview")},[l(),r(),a()])}}),ZB=Gf(s({name:zB,props:{capture:String,multiple:Boolean,disabled:Boolean,lazyLoad:Boolean,uploadText:String,deletable:Ef,afterRead:Function,showUpload:Ef,beforeRead:Function,beforeDelete:Function,previewSize:[Number,String],previewImage:Ef,previewOptions:Object,previewFullImage:Ef,name:{type:[Number,String],default:""},accept:{type:String,default:"image/*"},modelValue:{type:Array,default:()=>[]},maxSize:{type:[Number,String,Function],default:Number.MAX_VALUE},maxCount:{type:[Number,String],default:Number.MAX_VALUE},imageFit:{type:String,default:"cover"},resultType:{type:String,default:"dataUrl"},uploadIcon:{type:String,default:"photograph"}},emits:["delete","oversize","close-preview","click-preview","update:modelValue"],setup(e,{emit:t,slots:n}){var r,o=c(),a=(t=e.modelValue.length)=>({name:e.name,index:t}),s=()=>{o.value&&(o.value.value="")},l=n=>{if(s(),XB(n,e.maxSize)){if(!Array.isArray(n))return void t("oversize",n,a());var r=function(e,t){var n=[],r=[];return e.forEach((e=>{XB(e,t)?r.push(e):n.push(e)})),{valid:n,invalid:r}}(n,e.maxSize);if(n=r.valid,t("oversize",r.invalid,a()),!n.length)return}n=i(n),t("update:modelValue",[...e.modelValue,...WB(n)]),e.afterRead&&e.afterRead(n,a())},u=t=>{var{maxCount:n,modelValue:r,resultType:i}=e;if(Array.isArray(t)){var o=+n-r.length;t.length>o&&(t=t.slice(0,o)),Promise.all(t.map((e=>GB(e,i)))).then((e=>{var n=t.map(((t,n)=>{var r={file:t,status:"",message:""};return e[n]&&(r.content=e[n]),r}));l(n)}))}else GB(t,i).then((e=>{var n={file:t,status:"",message:""};e&&(n.content=e),l(n)}))},d=t=>{var{files:n}=t.target;if(!e.disabled&&n&&n.length){var r=1===n.length?n[0]:[].slice.call(n);if(e.beforeRead){var i=e.beforeRead(r,a());if(!i)return void s();if(Pf(i))return void i.then((e=>{u(e||r)})).catch(s)}u(r)}},A=()=>t("close-preview"),f=(i,o)=>{var s=["imageFit","deletable","previewSize","beforeDelete"],l=Bf(Sf(e,s),Sf(i,s,!0));return h($B,x({item:i,index:o,onClick:()=>t("click-preview",i,a(o)),onDelete:()=>((n,r)=>{var i=e.modelValue.slice(0);i.splice(r,1),t("update:modelValue",i),t("delete",n,a(r))})(i,o),onPreview:()=>(t=>{if(e.previewFullImage){var n=e.modelValue.filter(YB),i=n.map((e=>e.content||e.url)).filter(Boolean);r=c_(Bf({images:i,startPosition:n.indexOf(t),onClose:A},e.previewOptions))}})(i)},Sf(e,["name","lazyLoad"]),l),{"preview-cover":n["preview-cover"]})},p=()=>{if(e.previewImage)return e.modelValue.map(f)},g=()=>{if(!(e.modelValue.length>=e.maxCount)&&e.showUpload){var t=h("input",{ref:o,type:"file",class:qB("input"),accept:e.accept,capture:e.capture,multiple:e.multiple,disabled:e.disabled,onChange:d},null);return n.default?h("div",{class:qB("input-wrapper")},[n.default(),t]):h("div",{class:qB("upload"),style:Jf(e.previewSize)},[h($p,{name:e.uploadIcon,class:qB("upload-icon")},null),e.uploadText&&h("span",{class:qB("upload-text")},[e.uploadText]),t])}};return jp({chooseFile:()=>{o.value&&!e.disabled&&o.value.click()},closeImagePreview:()=>{r&&r.close()}}),em((()=>e.modelValue)),()=>h("div",{class:qB()},[h("div",{class:qB("wrapper",{disabled:e.disabled})},[p(),g()])])}}));var eC={install:function(e){[Hp,ug,Ag,xg,Rm,ov,Kg,Xp,ag,Ov,Pv,dy,Wg,fy,_y,wy,Sy,Fy,Dy,Hy,zy,Zy,rb,ab,Ab,gb,bb,Ob,Sm,Ib,Rb,Hb,Gb,im,Gy,$b,t_,$p,Iv,c_,m_,v_,w_,rg,zf,k_,U_,L_,K_,wg,G_,Y_,Rg,Iw,Tg,Pw,Hw,$m,Vm,Vw,zw,Xw,nB,aB,uB,AB,pB,wB,TB,SB,Mv,UB,qv,FB,ry,Om,ay,DB,HB,sy,Wm,vm,VB,ZB].forEach((t=>{t.install?e.use(t):t.name&&e.component(t.name,t)}))},version:"3.0.17"};const tC=new _h,nC=["/login"];cf.defaults.withCredentials=!0;const rC=cf.create({timeout:6e4,baseURL:window._config.api});rC.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",rC.interceptors.request.use((e=>{if(rn(tC.getItem("token"))||nC.includes(e.url))return e.headers.token=tC.getItem("token"),"get"===e.method&&Object.assign(e.params,{t:(new Date).getTime()}),e.url.toLowerCase().includes("download")&&(e.responseType="blob"),e.url.toLowerCase().includes("upload")&&(e.headers["Content-Type"]="multipart/form-data"),e;throw new Error("登陆超时，请重新登录")}),(e=>Promise.reject(e))),rC.interceptors.response.use((e=>{const{data:t}=e;return e.headers["content-disposition"]?Promise.resolve(e):t.success||200===t.code?Promise.resolve(t.result):(401===t.code&&lC.dispatch("logout"),ln()?L_({type:"danger",message:t.message}):_f({type:"error",title:"请求失败",message:t.message}),Promise.reject(t.message))}),(e=>e.response?Promise.reject(e):Promise.reject(new Error("请求超时"))));const iC=new _h,oC={state:{token:iC.getItem(wh.TOKEN),userInfo:iC.getItem(wh.USER_INFO),roles:[]},mutations:{SET_USERINFO(e,t){e.userInfo=t,iC.setItem(wh.USER_INFO,t)},SET_TOKEN(e,t){e.token=t,iC.setItem(wh.TOKEN,t)},CLEAR_STATE(e){},SET_ROLES(e,t){e.roles=t}},actions:{login:({commit:t},n)=>new Promise(((r,i)=>{const o=86400*(6*Number(n.noLogin)+1);(e=>rC({url:"/login",data:e,method:"post"}))(n).then((n=>{t("SET_TOKEN",n.token,o);const i=JSON.parse(JSON.stringify(n));delete i.token,t("SET_USERINFO",e(e({},i),{role:"admin"})),r("登陆成功")})).catch((()=>{t("SET_TOKEN","test",o),t("SET_USERINFO",{username:n.username,email:`${n.username}@qq.com`,avatar:"/assets/avatar.jpg",signature:"",theme:"",sound:70,bright:100,lang:"zh",album:"pic",role:"admin",createDate:new Date,updateDate:new Date}),r("登陆成功")}))})),getInfo:({commit:e},t=["admin"])=>(e("SET_ROLES",t),Promise.resolve(t)),logout({commit:e}){Promise.resolve().then((()=>{iC.clear(),e("CLEAR_STATE"),location.reload()}))},setUserInfo({commit:e},t){e("SET_USERINFO",t)}}};var aC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",user:oC});const sC=Object.values({"./modules/lang.ts":sh,"./modules/menu.ts":uh,"./modules/permission.ts":mh,"./modules/search.ts":yh,"./modules/user.ts":aC}).reduce(((e,t)=>{const[n,r]=Object.entries(t).flat(2);return e[n]=r,e}),{}),lC=new Xt({state:{},mutations:{},actions:{},modules:sC});const uC=new _h,cC=["/login"];oh.beforeEach(((t,n,r)=>{W.start(),rn(t.meta.title)&&rA(Yi(t.meta.title));const i=uC.getItem(wh.TOKEN);if(rn(i))if(cC.includes(t.path))if("/login"===t.path){(ln()?Sm.confirm({title:"提示",message:"是否退出登录？"}):G.confirm("是否退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})).then((async()=>{await lC.dispatch("logout")})).catch(console.log)}else r(),W.done();else 0===lC.state.user.roles.length?lC.dispatch("getInfo",[lC.state.user.userInfo.role]).then((async i=>{await lC.dispatch("generateRoutes",i).then((i=>{i.forEach((e=>oh.addRoute(e)));const o=decodeURIComponent(n.query.redirect||t.path);t.path===o?r(e(e({},t),{replace:!0})):r({path:o})}))})).catch((e=>{lC.dispatch("logout").then((()=>{r({path:"/login",query:{redirect:t.fullPath}})}))})):r();else cC.includes(t.path)?r():r({path:"/login",query:{redirect:t.fullPath}}),W.done()})),oh.afterEach((()=>{W.done()}));const dC={name:"el-drag-dialog",mounted(e){const t=e.querySelector(".el-dialog__header"),n=e;t.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";const r=window.document.currentStyle?(e,t)=>e.currentStyle[t]:(e,t)=>getComputedStyle(e,null)[t];t.onmousedown=e=>{const i=e.clientX-t.offsetLeft,o=e.clientY-t.offsetTop,a=n.offsetWidth,s=n.offsetHeight,l=document.body.clientWidth,u=document.body.clientHeight,c=n.offsetLeft,d=l-n.offsetLeft-a,A=n.offsetTop,h=u-n.offsetTop-s;let f=r(n,"left"),p=r(n,"top");f.includes("%")?(f=+document.body.clientWidth*(+f.replace(/\%/g,"")/100),p=+document.body.clientHeight*(+p.replace(/\%/g,"")/100)):(f=+f.replace(/\px/g,""),p=+p.replace(/\px/g,"")),document.onmousemove=e=>{let t=e.clientX-i,r=e.clientY-o;-t>c?t=-c:t>d&&(t=d),-r>A?r=-A:r>h&&(r=h),n.style.cssText+=`;left:${t+f}px;top:${r+p}px;`},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null}}}};var AC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:dC});const hC=(e,t)=>{Array.isArray(t)&&t.length?(e.style.userSelect="none",fC.dragListInit.length||(document.body.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()})),fC.dragListInit=t.map((t=>X.create(e.querySelector(t.dom),Object.assign({},rn(t.target)&&{draggable:t.target},un(t.callback)&&{onEnd:t.callback}))))),fC.dragListInit.forEach((e=>e.options.disabled=!1))):(e.style.userSelect="auto",fC.dragListInit.forEach((e=>e.options.disabled=!0)))},fC={name:"draggable",dragListInit:[],mounted(e,{value:t}){hC(e,t)},updated(e,{value:t}){hC(e,t)},beforeUnmount(){document.body.removeEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()})),fC.dragListInit.forEach((e=>e.destroy&&e.destroy())),fC.dragListInit=[]}};var pC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fC});const gC={name:"print",mounted(e,{value:t}){const n=Object.assign({},{printable:e,type:"html",style:"@page { margin: 0 10mm; } h1 { font-size: 24px; text-align: center; line-height: 35px; }"},rn(t)&&{header:Yi(t)});a((()=>{sA(n,!0)}))},unmounted(){(()=>{var e;const t=document.getElementById("printJS");on(t)&&(null==(e=null==t?void 0:t.parentNode)||e.removeChild(t))})()}};var mC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:gC}),vC={"el-icon":["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"],"iconfont vite-icon":["wide","wide-reset","webfull-reset","webfull","notice-panel","notice","sound","start","laptop","electric","life","home","comments","about","other","archive","sun","moon","i18n","doc","ppt","pdf","gif","xls","jpg","png","file","txt","wps","tar","rar","xsl","zip","tif","rp","swf","svg","psd","mp3","mp4","mov","flv","exe","html","7z","bmp","ai","avi","eps"],"vant-icon":["arrow","arrow-left","arrow-up","arrow-down","success","cross","plus","minus","fail","circle","location-o","like-o","star-o","phone-o","setting-o","fire-o","coupon-o","cart-o","shopping-cart-o","cart-circle-o","friends-o","comment-o","gem-o","gift-o","point-gift-o","send-gift-o","service-o","bag-o","todo-list-o","balance-list-o","close","clock-o","question-o","passed","add-o","gold-coin-o","info-o","play-circle-o","pause-circle-o","stop-circle-o","warning-o","phone-circle-o","music-o","smile-o","thumb-circle-o","comment-circle-o","browsing-history-o","underway-o","more-o","video-o","shop-o","shop-collect-o","share-o","chat-o","smile-comment-o","vip-card-o","award-o","diamond-o","volume-o","cluster-o","wap-home-o","photo-o","gift-card-o","expand-o","medal-o","good-job-o","manager-o","label-o","bookmark-o","bill-o","hot-o","hot-sale-o","new-o","new-arrival-o","goods-collect-o","eye-o","delete-o","font-o","balance-o","refund-o","birthday-cake-o","user-o","orders-o","tv-o","envelop-o","flag-o","flower-o","filter-o","bar-chart-o","chart-trending-o","brush-o","bullhorn-o","hotel-o","cashier-o","newspaper-o","warn-o","notes-o","calendar-o","bulb-o","user-circle-o","desktop-o","apps-o","home-o","back-top","search","points","edit","qr","qr-invalid","closed-eye","down","scan","revoke","free-postage","certificate","logistics","contact","cash-back-record","after-sale","exchange","upgrade","ellipsis","description","records","sign","completed","failure","ecard-pay","peer-pay","balance-pay","credit-pay","debit-pay","cash-on-deliver","other-pay","tosend","pending-payment","paid","aim","discount","idcard","replay","shrink","location","like","star","phone","setting","fire","coupon","cart","shopping-cart","cart-circle","friends","comment","gem","gift","point-gift","send-gift","service","bag","todo-list","balance-list","clear","clock","question","checked","add","gold-coin","info","play-circle","pause-circle","stop-circle","warning","phone-circle","music","smile","thumb-circle","comment-circle","browsing-history","underway","more","video","shop","shop-collect","share","chat","smile-comment","vip-card","award","diamond","volume","cluster","wap-home","photo","gift-card","expand","medal","good-job","manager","label","bookmark","bill","hot","hot-sale","new","new-arrival","goods-collect","eye","delete","font","wechat","wechat-pay","alipay","photograph","youzan-shield","umbrella-circle","bell","printer","map-marked","card","add-square","live","lock","audio","graphic","column","invition","play","pause","stop","weapp-nav","ascending","descending","bars","wap-nav","enlarge","photo-fail","sort"]};const yC=()=>{const e=r((()=>({"el-icon":Yi("el-icon"),"vant-icon":Yi("vant-icon"),"iconfont vite-icon":Yi("iconfont vite-icon")}))),t=c("el-icon");return{icons:vC,name:t,enKeytoChKey:e,clickIcon:async(e,t,n)=>{let r;r="vant-icon"!==e?`<i class="${e}-${t}" />`:`<van-icon name="${t}" />`,await tA(r),un(n)&&n(`复制成功：${r}`)}}};const bC=s({name:"MobileIcons",componentName:"ManageMobileIcons",components:{Tabs:sy,Tab:ay,Grid:$b,GridItem:t_},__file:"@Mobile/Icons",setup(){const{enKeytoChKey:e,name:t,clickIcon:n,icons:r}=yC();return{icons:r,name:t,enKeytoChKey:e,clickIcon:n}},render(){let e;return h(sy,{active:this.name,"onUpdate:active":e=>this.name=e,sticky:!0,animated:!0,square:!0},"function"==typeof(t=e=Object.entries(this.icons).map((([e,t])=>h(ay,{key:e,name:e,title:this.enKeytoChKey[e]},{default:()=>[h($b,null,{default:()=>[Array.isArray(t)&&t.length>0&&t.map((t=>h(t_,{onClick:()=>this.clickIcon(e,t,this.$toast),title:`${e}-${t}`},{default:()=>["vant-icon"!==e?h("i",{class:e+"-"+t},null):h(f("van-icon"),{name:t},null),h("span",null,[t])]})))]})]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!w(t)?e:{default:()=>[e]});var t}});var _C=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bC});const wC=function(){},BC=e=>({Array:[],Object:{},String:"",Number:0,Boolean:!1,Function:wC,Symbol:Symbol()}[sn(e)]),CC=(e,t)=>{if("string"==typeof t)return{[t]:e[t]};if(Array.isArray(t)){const n={};return t.forEach((t=>{n[t]=e[t]})),n}return{}},EC=(e={})=>{var t,n,r,i;const o={};for(let a in e){let s;if(null==(t=e[a])?void 0:t.default)an(e[a].default)&&(o[a]=e[a].default);else if(null==(n=e[a])?void 0:n.type){const t=e[a].type;s=Array.isArray(t)?t[t.length-1]():t(),o[a]=BC(s)}else if(null==(r=e[a])?void 0:r.types){const t=e[a].types;s=Array.isArray(t)?t[0]():t(),o[a]=BC(s)}else null==(i=e[a])||i.validator}return o},TC=()=>()=>{},SC=(e,t,n)=>({stepsProps:r((()=>Object.assign({},CC(e,Object.keys(n.props).filter((e=>"active"!==e))),{direction:"horizontal"}))),activeIndex:r({get:()=>e.active,set(e){t("update:active",e)}}),carousel:c(null)}),kC=(e,t,n)=>({prevStep:r=>{var i;t.value>0&&(t.value-=1,(null==(i=n.value)?void 0:i.prev)&&n.value.prev()),un(e.prev)&&e.prev(),oA(r)},confirmStep:t=>{un(e.confirm)&&e.confirm(),oA(t)},nextStep:r=>{var i;t.value<e.steps.length&&(t.value+=1,(null==(i=n.value)?void 0:i.next)&&n.value.next()),un(e.next)&&e.next(),oA(r)}});function xC(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)}const OC=s({name:"MobileSteps",componentName:"ManageMobileSteps",__file:"@Mobile/Steps",components:{Steps:SB,Step:wB},props:Object.assign({},SB.props,{steps:{type:Array,default:()=>[]},next:{type:Function,default:TC},prev:{type:Function,default:TC},confirm:{type:Function,default:TC}}),setup(e,{emit:t}){const{stepsProps:n,activeIndex:r,carousel:i}=SC(e,t,SB),{prevStep:o,confirmStep:a,nextStep:s}=kC(e,r,i);return{stepsProps:n,activeIndex:r,carousel:i,prevStep:o,confirmStep:a,nextStep:s}},render(){let e,t;const n=this.$slots;return h("section",{class:"manage-mobile-steps-page"},[h("header",null,[h(SB,x(this.stepsProps,{active:this.activeIndex,onClickStep:e=>{this.carousel&&(this.carousel.swipeTo(e),this.carousel.resize()),this.activeIndex=e}}),xC(e=this.steps.map(((e,t)=>{let n;return h(wB,null,xC(n=Object.assign({},{default:()=>un(e.title)?e.title():h("p",{innerHTML:e.title},null)},e.icon&&{"active-icon":()=>un(e.icon)?e.icon():h("i",{class:e.icon},null),"inactive-icon":()=>un(e.icon)?e.icon():h("i",{class:e.icon},null),"finish-icon":()=>h("i",{class:"el-icon-check"},null)}))?n:{default:()=>[n]})})))?e:{default:()=>[e]})]),h("main",{class:"manage-mobile-steps-content"},[h(f("van-swipe"),{"show-indicators":!1,"lazy-render":!0,onChange:e=>this.activeIndex=e,loop:!1,ref:e=>this.carousel=e},xC(t=this.steps.map(((e,t)=>h(f("van-swipe-item"),null,{default:()=>[un(n[`step${t}`])&&n[`step${t}`]()]}))))?t:{default:()=>[t]})]),h("footer",{class:"manage-mobile-steps-footer"},[this.activeIndex>0&&h(f("van-button"),{type:"primary",plain:!0,hairline:!0,size:"small",onTouchstart:this.prevStep},{default:()=>[E("上一步")]}),this.activeIndex===this.steps.length-1&&h(f("van-button"),{type:"success",plain:!0,hairline:!0,size:"small",onTouchstart:this.confirmStep},{default:()=>[E("确定")]}),this.activeIndex<this.steps.length-1&&h(f("van-button"),{type:"primary",plain:!0,hairline:!0,size:"small",onTouchstart:this.nextStep},{default:()=>[E("下一步")]})])])}});var UC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OC});const NC=s({name:"Auth",componentName:"ManageAuthList",props:{},setup(e){},render(){}});var IC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:NC});const FC=s({name:"MinimizeButton",componentName:"ManageMinimizeButton",__file:"@PC/Dialog/Button/minimize",props:{maximize:{type:Boolean,default:!1},minimize:{type:Boolean,default:!1}},setup:(e,{emit:t})=>()=>h("button",{type:"button","aria-label":"Minimize",class:"el-dialog__headerbtn",style:"right: 70px",onClick:()=>t("minimize",!e.minimize,!1)},[h("i",{class:"el-icon-minus el-icon",title:"最小化",style:"font-size: 14px"},null)])});var LC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:FC});const PC=s({name:"MaximizeButton",componentName:"ManageMaximizeButton",__file:"@PC/Dialog/Button/maximize",props:{maximize:{type:Boolean,default:!1},minimize:{type:Boolean,default:!1}},setup:(e,{emit:t})=>()=>h("button",{type:"button","aria-label":e.maximize?"Resize":"Maximize",class:{"el-dialog__headerbtn":!0},style:"right: 45px",onClick:()=>t("maximize",!e.maximize,!1)},[h("i",{class:{"el-icon":!0,"el-icon-full-screen":!e.maximize,"el-icon-copy-document":e.maximize},title:e.maximize?"还原":"最大化",style:"font-size: 14px"},null)])});var QC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:PC});const DC=s({name:"Dialogs",componentName:"ManageDialogs",__file:"@PC/Dialog",__emits:{"update:modelValue":()=>{}},components:{minimizeButton:FC,maximizeButton:PC,ElDialog:Y},props:Object.assign({},Y.props,{showMinimize:{type:Boolean,default:!1},showMaximize:{type:Boolean,default:!1},enterTransition:{type:String,default:"zoomIn"},fadeTransition:{type:String,default:"zoomOut"},dragging:{type:Boolean,default:!1}}),setup(e,{slots:t,emit:n}){const i=c(!1),o=c(!1),a=c(null),s=rn(e.customClass)?e.customClass+" ":"",l=r((()=>Object.assign({},CC(e,Object.keys(Y.props)),{customClass:`${s}animated ${e.modelValue?e.enterTransition:e.fadeTransition}`,onClosed:()=>{n("update:modelValue",!1)}},(e.showMinimize||e.showMaximize)&&{"append-to-body":!0,modalClass:`${o.value?"maximize ":" "}${i.value?"minimize ":" "}`})));return g((()=>{if(e.dragging){S("el-drag-dialog").mounted(a.value.$refs.dialogRef)}})),()=>{let n;return h(f("el-dialog"),x(l.value,{ref:a}),"function"==typeof(r=n=Object.assign({title:()=>h(p,null,[un(t.title)?t.title(l.value.title):h("span",{class:"dialogs-title"},[l.value.title]),e.showMinimize&&h(FC,{minimize:i.value,maximize:o.value,onMinimize:(e,t)=>{i.value=e,o.value=t}},null),e.showMaximize&&h(PC,{maximize:o.value,minimize:i.value,onMaximize:(e,t)=>{o.value=e,i.value=t}},null)]),default:e=>un(t.default)&&t.default(e)},un(t.footer)&&{footer:e=>t.footer(e)}))||"[object Object]"===Object.prototype.toString.call(r)&&!w(r)?n:{default:()=>[n]});var r}}});var MC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DC});const RC={title:{text:"ECharts 入门示例"},tooltip:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]},HC=(e,t={})=>{const n=$(document.getElementById(e));return n.setOption(Object.assign(RC,t)),n};const jC=s({name:"Echarts",componentName:"ManageEcharts",__file:"@PC/Echarts",props:{domId:{type:String,default:"default-charts"},height:{type:String,default:"400px"},width:{type:String,default:"50%"},minWidth:{type:String,default:"350px"},minHeight:{type:String,default:"200px"},options:{type:Object,default:()=>({})}},setup(e){const t=c(null);let n,r,i;const o=n=>{t.value._dom.style.height=`${Math.min(Math.max(parseInt(n),parseInt(e.minHeight)),parseInt(e.height))}px`,t.value.resize()};return g((()=>{var a;t.value=HC(e.domId,e.options),r=null==(a=document.getElementById(e.domId))?void 0:a.parentElement,i=window.getComputedStyle(r).height,o(parseInt(i)),n=new aA(r,(([{contentRect:e}])=>o(e.height))),window.addEventListener("resize",XA.debounce((()=>o(parseInt(i))),0))})),m((()=>{n.disconnect((()=>t.value.clear())),window.removeEventListener("resize",XA.debounce((()=>o(parseInt(i))),0)),n=null})),{charts:t}},render(){return h("div",{id:this.domId,style:{width:this.width,height:this.height,transition:"all 0.5s",minWidth:this.minWidth,minHeight:this.minHeight}},null)}});var KC,VC=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jC}),zC=C(B((function(e,t){var n;"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),d=n(12),A=n(32),h=n(33),f=n(31),p=n(1),g={Scope:p.Scope,create:p.create,find:p.find,query:p.query,register:p.register,Container:r.default,Format:i.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:A.default,Style:h.default,Store:f.default}};t.default=g},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return i(t,e),t}(Error);t.ParchmentError=o;var a,s,l={},u={},c={},d={};function A(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=d[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=d.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=d.block:e&a.LEVEL&a.INLINE&&(n=d.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var i in r)if(n=u[r[i]])break;n=n||c[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",(s=a=t.Scope||(t.Scope={}))[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY",t.create=function(e,t){var n=A(e);if(null==n)throw new o("Unable to create "+e+" blot");var r=n,i=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t);return new r(i,t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=A,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");if(d[r.blotName||r.attrName]=r,"string"==typeof r.keyName)l[r.keyName]=r;else if(null!=r.className&&(u[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(e){return e.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var i=Array.isArray(r.tagName)?r.tagName:[r.tagName];i.forEach((function(e){null!=c[e]&&null!=r.className||(c[e]=r)}))}return r}},function(e,t,n){var r=n(51),i=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),i=0;i<t&&r.hasNext();){var o;i<e?o=r.next(e-i):(o=r.next(t-i),n.push(o)),i+=a.length(o)}return new l(n)},l.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),r.push(t.next());o.retain-s>0&&n.next(o.retain-s)}for(var u=new l(r);t.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),d=t.next(c),A=n.next(c);if("number"==typeof A.retain){var h={};"number"==typeof d.retain?h.retain=c:h.insert=d.insert;var f=a.attributes.compose(d.attributes,A.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),u.push(h),!n.hasNext()&&i(u.ops[u.ops.length-1],h)){var p=new l(t.rest());return u.concat(p).chop()}}else"number"==typeof A.delete&&"number"==typeof d.retain&&u.push(A)}return u.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new l,u=r(n[0],n[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case r.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(n),l=d.next(n);i(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}t-=n}})),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new l,i=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new l}}r.length()>0&&e(r,{},i)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),i=new l;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())i.push(r.next());else{var o=Math.min(n.peekLength(),r.peekLength()),s=n.next(o),u=r.next(o);if(s.delete)continue;u.delete?i.push(u):i.retain(o,a.attributes.transform(s.attributes,u.attributes,t))}else i.retain(a.length(n.next()));return i.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.exports=l},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},s=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,i=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!i&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,o,c,d=arguments[0],A=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},A=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});A<h;++A)if(null!=(t=arguments[A]))for(n in t)r=u(d,n),d!==(i=u(t,n))&&(f&&i&&(s(i)||(o=a(i)))?(o?(o=!1,c=r&&a(r)?r:[]):c=r&&s(r)?r:{},l(d,{name:n,newValue:e(f,c,i)})):void 0!==i&&l(d,{name:n,newValue:i}));return d}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=d(n(3)),a=d(n(2)),s=d(n(0)),l=d(n(16)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return A(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"attach",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(g.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}(s.default.Embed);p.scope=s.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){A(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,o){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,o):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,o),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof l.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(s.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[u.default,s.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=p,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var a=g(n(2)),s=g(n(14)),l=g(n(8)),u=g(n(9)),c=g(n(0)),d=n(15),A=g(d),h=g(n(3)),f=g(n(10)),p=g(n(34));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),b=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,e),this.options=_(t,r),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var i=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new A.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var r=n.selection.lastRange,i=r&&0===r.length?r.index:void 0;w.call(n,(function(){return n.editor.update(null,t,i)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+i+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var i=e.attrName||e.blotName;"string"==typeof i?this.register("formats/"+i,e,t):Object.keys(e).forEach((function(r){n.register(r,e[r],t)}))}else null==this.imports[e]||r||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,o=B(e,t,n),a=i(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return r.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var r=n.getSelection(!0),i=new a.default;if(null==r)return i;if(c.default.query(e,c.default.Scope.BLOCK))i=n.editor.formatLine(r.index,r.length,m({},e,t));else{if(0===r.length)return n.selection.format(e,t),i;i=n.editor.formatText(r.index,r.length,m({},e,t))}return n.setSelection(r,l.default.sources.SILENT),i}),r)}},{key:"formatLine",value:function(e,t,n,r,o){var a,s=this,l=B(e,t,n,r,o),u=i(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,r,o){var a,s=this,l=B(e,t,n,r,o),u=i(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=B(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=B(e,t),r=i(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return i.editor.insertEmbed(t,n,r)}),o,t)}},{key:"insertText",value:function(e,t,n,r,o){var a,s=this,l=B(e,0,n,r,o),u=i(l,4);return e=u[0],a=u[2],o=u[3],w.call(this,(function(){return s.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,o=B(e,t,n),a=i(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return r.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new a.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),i=t.editor.applyDelta(e),o=i.ops[i.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),i.delete(1)),r.compose(i)}),n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=B(t,n,r),a=i(o,4);t=a[0],n=a[1],r=a[3],this.selection.setRange(new d.Range(t,n),r),r!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function _(e,t){if((t=(0,h.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=p.default;var n=(0,h.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=b.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,h.default)(!0,{},b.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var i=null==n?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=C(i,s,t):0!==r&&(i=C(i,n,r,t)),this.setSelection(i,l.default.sources.SILENT)),s.length()>0){var u,c,d=[l.default.events.TEXT_CHANGE,s,o,t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return s}function B(e,t,n,i,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=i,i=n,n=t,t=0),"object"===(void 0===n?"undefined":r(n))?(a=n,o=i):"string"==typeof n&&(null!=i?a[n]=i:o=n),[e,t,a,o=o||l.default.sources.API]}function C(e,t,n,r){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,r!==l.default.sources.USER)})),c=i(u,2);o=c[0],s=c[1]}else{var A=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&r===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),h=i(A,2);o=h[0],s=h[1]}return new d.Range(o,s-o)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":p.default},t.expandConfig=_,t.overload=B,t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"formatAt",value:function(e,n,r,o){if(t.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(e,n);o&&s.wrap(r,o)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o)}},{key:"optimize",value:function(e){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),i=t.order.indexOf(n);return r>=0||i>=0?r-i:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default.Text);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"emit",value:function(){s.log.apply(s,arguments),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach((function(t){var r=t.node,i=t.handler;(e.target===r||r.contains(e.target))&&i.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],i="warn";function o(e){if(r.indexOf(e)<=r.indexOf(i)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return r.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=a.level=function(e){i=e},t.default=a},function(e,t,n){var r=Array.prototype.slice,i=n(52),o=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=i(e),A=i(t)}catch(cH){return!1}if(d.length!=A.length)return!1;for(d.sort(),A.sort(),u=d.length-1;u>=0;u--)if(d[u]!=A[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|i:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=d(n(2)),s=d(n(0)),l=d(n(4)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return A(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(u.default);p.blotName="code",p.tagName="CODE";var g=function(e){function t(){return A(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var i=this.descendant(c.default,this.length()-1),a=r(i,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,i){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||i!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,l=o-a+1,u=this.isolate(a,l),c=u.next;u.format(r,i),c instanceof t&&c.formatAt(0,e-a+n-l,r,i)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var i=this.descendant(c.default,e),o=r(i,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=p,t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(2)),s=m(n(20)),l=m(n(0)),u=m(n(13)),c=m(n(24)),d=n(4),A=m(d),h=m(n(16)),f=m(n(21)),p=m(n(11)),g=m(n(3));function m(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),e>=o&&!h.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,h);var f=t.scroll.line(e),p=i(f,2),m=p[0],v=p[1],y=(0,g.default)({},(0,d.bubbleFormats)(m));if(m instanceof A.default){var b=m.descendant(l.default.Leaf,v),_=i(b,1)[0];y=(0,g.default)(y,(0,d.bubbleFormats)(_))}c=s.default.attributes.diff(y,c)||{}}else if("object"===r(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}o+=u}return Object.keys(c).forEach((function(n){t.scroll.formatAt(e,u,n,c[n])})),e+u}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(i){if(null==n.scroll.whitelist||n.scroll.whitelist[i]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach((function(t){var o=t.length();if(t instanceof u.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,i,r[i])}else t.format(i,r[i]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t,i,r[i])})),this.update((new a.default).retain(e).retain(t,(0,f.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((function(e){var t=i(e,1)[0];t instanceof A.default?n.push(t):t instanceof l.default.Leaf&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,r].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=b((0,d.bubbleFormats)(n),t)}return t}));return g.default.apply(g.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach((function(i){n.scroll.formatAt(e,t.length,i,r[i])})),this.update((new a.default).retain(e).insert(t,(0,f.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===A.default.blotName&&!(e.children.length>1)&&e.children.head instanceof h.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),o=i(r,2),s=o[0],l=o[1],c=0,d=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+c-1).insert("\n"));var A=this.getContents(e,t+c).diff((new a.default).insert(n).concat(d)),h=(new a.default).retain(e).concat(A);return this.applyDelta(h)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&l.default.find(t[0].target)){var i=l.default.find(t[0].target),o=(0,d.bubbleFormats)(i),s=i.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),A=(new a.default).insert(u),h=(new a.default).insert(i.value()),f=(new a.default).retain(s).concat(A.diff(h,n));e=f.reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new a.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,p.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function b(e,t){return Object.keys(t).reduce((function(n,r){return null==e[r]||(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]]),n}),{})}t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),a=u(n(21)),s=u(n(11)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var A=(0,u(n(10)).default)("quill:selection"),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var r=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&r.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(i,o,a,s)}})),this.update(l.default.sources.SILENT)}return i(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=o.default.find(n.start.node,!1);if(null==r)return;if(r instanceof o.default.Leaf){var i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var i=void 0,o=this.scroll.leaf(e),a=r(o,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=r(u,2);i=c[0],l=c[1];var d=document.createRange();if(t>0){d.setStart(i,l);var A=this.scroll.leaf(e+t),h=r(A,2);if(s=h[0],l=h[1],null==s)return null;var f=s.position(l,!0),p=r(f,2);return i=p[0],l=p[1],d.setEnd(i,l),d.getBoundingClientRect()}var g="left",m=void 0;return i instanceof Text?(l<i.data.length?(d.setStart(i,l),d.setEnd(i,l+1)):(d.setStart(i,l-1),d.setEnd(i,l),g="right"),m=d.getBoundingClientRect()):(m=s.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:m.top+m.height,height:m.height,left:m[g],right:m[g],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return A.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var i=n.map((function(e){var n=r(e,2),i=n[0],a=n[1],s=o.default.find(i,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof o.default.Container?l+s.length():l+s.index(i,a)})),a=Math.min(Math.max.apply(Math,c(i)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(i)));return new h(s,a-s)}},{key:"normalizeNative",value:function(e){if(!p(this.root,e.startContainer)||!e.collapsed&&!p(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),l=r(s,2),u=l[0],c=l[1],d=u.position(c,0!==n),A=r(d,2);a=A[0],c=A[1],i.push(a,c)})),i.length<2&&(i=i.concat(i)),i}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,i)),a=r(o,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,i));s=r(l,1)[0]}if(null!=a&&null!=s){var u=e.getBoundingClientRect();n.top<u.top?e.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(e.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(A.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||i||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),A.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,c(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),i=r(n,2),o=i[0],u=i[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,A=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(A)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,A)}}}]),e}();function p(e,t){try{t.parentNode}catch(cH){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=h,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"insertInto",value:function(e,n){0===e.children.length?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default.Embed);u.blotName="break",u.tagName="BR",t.default=u},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return i(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(r){if(r instanceof s.ParchmentError)return;throw r}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var r=this.children.find(n),i=r[0],o=r[1];return null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e?[i,o]:i instanceof t?i.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var i=[],o=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&i.push(n),n instanceof t&&(i=i.concat(n.descendants(e,r,o))),o-=a})),i},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,(function(e,t,i){e.formatAt(t,i,n,r)}))},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),i=r[0],o=r[1];if(i)i.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),i=r[0],o=r[1],a=[[this,e]];return i instanceof t?a.concat(i.path(o,n)):(null!=i&&a.push([i,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,r,i){e=e.split(r,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],i=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),i.push.apply(i,e.removedNodes))})),i.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),r.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var r=u(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(cH){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),l=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return i(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===r.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,r){var i=e.prototype.wrap.call(this,n,r);return i instanceof t&&i.statics.scope===this.statics.scope&&this.attributes.move(i),i},t}(s.default);t.default=u},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var r=n(11),i=n(3),o={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i(!0,{},t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,i){return r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=o.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e.exports=o},function(e,t){var n=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function i(o,s,l,u,c){"object"==typeof s&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],A=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function o(l,f){if(null===l)return null;if(0===f)return l;var p,g;if("object"!=typeof l)return l;if(e(l,t))p=new t;else if(e(l,n))p=new n;else if(e(l,r))p=new r((function(e,t){l.then((function(t){e(o(t,f-1))}),(function(e){t(o(e,f-1))}))}));else if(i.__isArray(l))p=[];else if(i.__isRegExp(l))p=new RegExp(l.source,a(l)),l.lastIndex&&(p.lastIndex=l.lastIndex);else if(i.__isDate(l))p=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return p=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(p),p;e(l,Error)?p=Object.create(l):void 0===u?(g=Object.getPrototypeOf(l),p=Object.create(g)):(p=Object.create(u),g=u)}if(s){var m=d.indexOf(l);if(-1!=m)return A[m];d.push(l),A.push(p)}for(var v in e(l,t)&&l.forEach((function(e,t){var n=o(t,f-1),r=o(e,f-1);p.set(n,r)})),e(l,n)&&l.forEach((function(e){var t=o(e,f-1);p.add(t)})),l){var y;g&&(y=Object.getOwnPropertyDescriptor(g,v)),y&&null==y.set||(p[v]=o(l[v],f-1))}if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(l);for(v=0;v<b.length;v++){var _=b[v];(!(B=Object.getOwnPropertyDescriptor(l,_))||B.enumerable||c)&&(p[_]=o(l[_],f-1),B.enumerable||Object.defineProperty(p,_,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(l);for(v=0;v<w.length;v++){var B,C=w[v];(B=Object.getOwnPropertyDescriptor(l,C))&&B.enumerable||(p[C]=o(l[C],f-1),Object.defineProperty(p,C,{enumerable:!1}))}}return p}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=o,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},i.__getRegExpFlags=a,i}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=h(n(0)),s=h(n(8)),l=n(4),u=h(l),c=h(n(16)),d=h(n(13)),A=h(n(25));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof u.default||e instanceof l.BlockEmbed}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var i=this.line(e),a=r(i,2),s=a[0],u=a[1],A=this.line(e+n),h=r(A,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=h&&s!==h&&u>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var p=h.newlineIndex(0);p>-1&&h.split(p+1)}var g=h.children.head instanceof c.default?null:h.children.head;s.moveChildren(h,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,i){(null==this.whitelist||this.whitelist[r])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var i=a.default.create(this.statics.defaultChild);this.appendChild(i),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),i.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,r){var i=[],o=r;return t.children.forEachAt(n,r,(function(t,n,r){f(t)?i.push(t):t instanceof a.default.Container&&(i=i.concat(e(t,n,o))),o-=r})),i};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);p.blotName="scroll",p.className="ql-editor",p.tagName="DIV",p.defaultChild="block",p.allowedChildren=[u.default,l.BlockEmbed,A.default],t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(21)),s=p(n(11)),l=p(n(3)),u=p(n(2)),c=p(n(20)),d=p(n(0)),A=p(n(5)),h=p(n(10)),f=p(n(9));function p(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(0,h.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])})),r.addBinding({key:t.keys.ENTER,shiftKey:null},C),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},B),r.addBinding({key:t.keys.DELETE},{collapsed:!1},B),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=S(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=S(e);if(null==r||null==r.key)return m.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,l.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var u=e.quill.getLine(l.index),c=i(u,2),A=c[0],h=c[1],f=e.quill.getLeaf(l.index),p=i(f,2),g=p[0],m=p[1],v=0===l.length?[g,m]:e.quill.getLeaf(l.index+l.length),y=i(v,2),b=y[0],_=y[1],w=g instanceof d.default.Text?g.value().slice(0,m):"",B=b instanceof d.default.Text?b.value().slice(_):"",C={collapsed:0===l.length,empty:0===l.length&&A.length()<=1,format:e.quill.getFormat(l),offset:h,prefix:w,suffix:B};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==C.format[e]})))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,s.default)(t.format[e],C.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix)||null!=t.suffix&&!t.suffix.test(C.suffix)||!0===t.handler.call(e,l,C))}))&&n.preventDefault()}}}}))}}]),t}(f.default);function b(e,t){var n,r=e===y.keys.LEFT?"prefix":"suffix";return g(n={key:e,shiftKey:t,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;e===y.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return!(i(o,1)[0]instanceof d.default.Embed&&(e===y.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,A.default.sources.USER):this.quill.setSelection(n.index-1,A.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,A.default.sources.USER):this.quill.setSelection(n.index+n.length+1,A.default.sources.USER),1))})),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=i(n,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=i(a,1)[0];if(null!=s&&s.length()>1){var l=r.formats(),u=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(l,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,A.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,A.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},o=0,a=this.quill.getLine(e.index),s=i(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=i(l,1)[0];if(u){var d=s.formats(),h=this.quill.getFormat(e.index,1);r=c.default.attributes.diff(d,h)||{},o=u.length()}}this.quill.deleteText(e.index,n,A.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+o-1,n,r,A.default.sources.USER)}}function B(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),i=t[t.length-1].formats();n=c.default.attributes.diff(i,r)||{}}this.quill.deleteText(e,A.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,A.default.sources.USER),this.quill.setSelection(e.index,A.default.sources.SILENT),this.quill.focus()}function C(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",r,A.default.sources.USER),this.quill.setSelection(e.index+1,A.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],A.default.sources.USER))}))}function E(e){return{key:y.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),r=t.index,o=t.length,a=this.quill.scroll.descendant(n,r),s=i(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),h=l.newlineIndex(u,!0)+1,f=l.newlineIndex(c+u+o),p=l.domNode.textContent.slice(h,f).split("\n");u=0,p.forEach((function(t,i){e?(l.insertAt(h+u,n.TAB),u+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(h+u,n.TAB.length),u-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),u+=t.length+1})),this.quill.update(A.default.sources.USER),this.quill.setSelection(r,o,A.default.sources.SILENT)}}}}function T(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],A.default.sources.USER)}}}function S(e){if("string"==typeof e||"number"==typeof e)return S({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=y.keys[e.key.toUpperCase()])e.key=y.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:T("bold"),italic:T("italic"),underline:T("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",A.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",A.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",A.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,A.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,A.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,A.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,A.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,A.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=(0,l.default)({},r.formats(),{list:"checked"}),s=(new u.default).retain(e.index).insert("\n",a).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,A.default.sources.USER),this.quill.setSelection(e.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=i(n,2),o=r[0],a=r[1],s=(new u.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,A.default.sources.USER),this.quill.setSelection(e.index+1,A.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),o=i(r,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",A.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,A.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,A.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=i(t,2),r=n[0],o=n[1],a=(new u.default).retain(e.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,A.default.sources.USER)}},"embed left":b(y.keys.LEFT,!1),"embed left shift":b(y.keys.LEFT,!0),"embed right":b(y.keys.RIGHT,!1),"embed right shift":b(y.keys.RIGHT,!0)}},t.default=y,t.SHORTKEY=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,o=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),i=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var u=[e,n.start.offset,n.end.offset];i=u[0],o=u[1],l=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(i=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var d=[o,l].map((function(e){return Math.max(0,Math.min(i.data.length,e-1))})),A=r(d,2);return o=A[0],l=A[1],{startNode:i,startOffset:o,endNode:i,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=n(4),o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Container);u.allowedChildren=[o.default,i.BlockEmbed,u],t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join(""):n}}]),t}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),A=new c("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=d,t.ColorStyle=A},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return c(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);function c(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=u,t.sanitize=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return i(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var i=document.createEvent("Event");i.initEvent("change",!0,!0),this.select.dispatchEvent(i)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(0)),i=m(n(5)),o=n(4),a=m(o),s=m(n(16)),l=m(n(25)),u=m(n(24)),c=m(n(35)),d=m(n(6)),A=m(n(22)),h=m(n(7)),f=m(n(55)),p=m(n(42)),g=m(n(23));function m(e){return e&&e.__esModule?e:{default:e}}i.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":A.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":p.default,"modules/keyboard":g.default}),r.default.register(a.default,s.default,u.default,d.default,A.default,h.default),t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var o=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&i)o.wrap(n,i);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);o.wrap(a),a.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?r.create("text",t):r.create(t,n),o=this.split(e);this.parent.insertBefore(i,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=i.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();i.DEFAULTS={modules:{}},i.themes={default:i},t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=s(n(0)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var i=this.prev.length();this.prev.insertAt(i,r),t={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=l,t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}}))}}]),t}(o.default.Embed);t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),l=new o.default.Attributor.Class("align","ql-align",a),u=new o.default.Attributor.Style("align","text-align",a);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=n(26),s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),l=new o.default.Attributor.Class("direction","ql-direction",a),u=new o.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",c),A=new(function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"value",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style))("font","font-family",c);t.FontStyle=A,t.FontClass=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r},a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=s},function(e,t,n){e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,i){e!==o.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&i!==o.default.sources.USER?r.transform(t):r.record(t,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var i=this.stack.undo.pop();n=n.compose(i.undo),e=i.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=i.default.query(e,i.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=f(n(3)),a=f(n(2)),s=f(n(8)),l=f(n(23)),u=f(n(34)),c=f(n(59)),d=f(n(60)),A=f(n(28)),h=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],B=function(e){function t(e,n){p(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),r}return m(t,e),r(t,[{key:"addModule",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&E(e,v),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&E(e,y,"background"===n?"#ffffff":"#000000"),new c.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?E(e,b):e.classList.contains("ql-header")?E(e,_):e.classList.contains("ql-size")&&E(e,w)),new A.default(e)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);B.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(r.index).delete(r.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(r.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var C=function(e){function t(e,n){p(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return m(t,e),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=r;break;case"video":t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var i=this.quill.getSelection(!0);if(null!=i){var o=i.index+i.length;this.quill.insertEmbed(o,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(o+1," ",s.default.sources.USER),this.quill.setSelection(o+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(h.default);function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)}))}t.BaseTooltip=C,t.default=B},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,i=this.find(e),o=i[0],a=e-i[1],s=this.iterator(o);(r=s())&&a<e+t;){var l=r.length();e>a?n(r,e-a,Math.min(t,a+l-e)):n(r,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return i(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,i){this.update(),e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var i=[].slice.call(this.observer.takeRecords());i.length>0;)t.push(i.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[a.DATA_KEY].mutations&&(e.domNode[a.DATA_KEY].mutations=[]),t&&s(e.parent))},l=function(e){null!=e.domNode[a.DATA_KEY]&&null!=e.domNode[a.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(l),e.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),i=(u=[].slice.call(this.observer.takeRecords())).slice();i.length>0;)t.push(i.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==r&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=l},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,r,i){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var i=this.next;i instanceof t&&i.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,i.formats())&&(i.moveChildren(this),i.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(n){var r=a.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,i){null!=a.query(r,a.Scope.BLOCK)?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var i=this.split(t),o=a.create(n,r);i.parent.insertBefore(o,i)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=s},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,i){0===t&&n===this.length()?this.format(r,i):e.prototype.formatAt.call(this,t,n,r,i)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return i(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:i.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var n=-1;function r(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var c=o(e,t),d=e.substring(0,c);c=a(e=e.substring(c),t=t.substring(c));var A=e.substring(e.length-c),h=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var l=e.length>t.length?e:t,u=e.length>t.length?t:e,c=l.indexOf(u);if(-1!=c)return s=[[1,l.substring(0,c)],[0,u],[1,l.substring(c+u.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==u.length)return[[n,e],[1,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,s,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var A=o(e.substring(n),t.substring(c)),h=a(e.substring(0,n),t.substring(0,c));d.length<h+A&&(d=t.substring(c-h,c)+t.substring(c,c+A),r=e.substring(0,n-h),i=e.substring(n+A),s=t.substring(0,c-h),l=t.substring(c+A))}return 2*d.length>=e.length?[r,i,s,l,d]:null}var s,l,u,c,d,A=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));if(!A&&!h)return null;s=h?A&&A[4].length>h[4].length?A:h:A,e.length>t.length?(l=s[0],u=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],l=s[2],u=s[3]);var f=s[4];return[l,u,c,d,f]}(e,t);if(d){var A=d[0],h=d[1],f=d[2],p=d[3],g=d[4],m=r(A,f),v=r(h,p);return m.concat([[0,g]],v)}return function(e,t){for(var r=e.length,o=t.length,a=Math.ceil((r+o)/2),s=a,l=2*a,u=new Array(l),c=new Array(l),d=0;d<l;d++)u[d]=-1,c[d]=-1;u[s+1]=0,c[s+1]=0;for(var A=r-o,h=A%2!=0,f=0,p=0,g=0,m=0,v=0;v<a;v++){for(var y=-v+f;y<=v-p;y+=2){for(var b=s+y,_=(T=y==-v||y!=v&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-y;T<r&&_<o&&e.charAt(T)==t.charAt(_);)T++,_++;if(u[b]=T,T>r)p+=2;else if(_>o)f+=2;else if(h&&(C=s+A-y)>=0&&C<l&&-1!=c[C]&&T>=(B=r-c[C]))return i(e,t,T,_)}for(var w=-v+g;w<=v-m;w+=2){for(var B,C=s+w,E=(B=w==-v||w!=v&&c[C-1]<c[C+1]?c[C+1]:c[C-1]+1)-w;B<r&&E<o&&e.charAt(r-B-1)==t.charAt(o-E-1);)B++,E++;if(c[C]=B,B>r)m+=2;else if(E>o)g+=2;else if(!h){var T;if((b=s+A-w)>=0&&b<l&&-1!=u[b])if(_=s+(T=u[b])-b,T>=(B=r-B))return i(e,t,T,_)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return d&&h.unshift([0,d]),A&&h.push([0,A]),s(h),null!=l&&(h=function(e,t){var r=function(e,t){if(0===t)return[0,e];for(var r=0,i=0;i<e.length;i++){var o=e[i];if(o[0]===n||0===o[0]){var a=r+o[1].length;if(t===a)return[i+1,e];if(t<a){e=e.slice();var s=t-r,l=[o[0],o[1].slice(0,s)],u=[o[0],o[1].slice(s)];return e.splice(i,1,l,u),[i+1,e]}r=a}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],o=r[0],a=i[o],s=i[o+1];if(null==a)return e;if(0!==a[0])return e;if(null!=s&&a[1]+s[1]===s[1]+a[1])return i.splice(o,2,s,a),u(i,o,2);if(null!=s&&0===s[1].indexOf(a[1])){i.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&i.splice(o+2,0,[s[0],l]),u(i,o,3)}return e}(h,l)),h=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)0===e[o-2][0]&&i(e[o-2][1])&&e[o-1][0]===n&&r(e[o-1][1])&&1===e[o][0]&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var a=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&a.push(e[o]);return a}(h)}function i(e,t,n,i){var o=e.substring(0,n),a=t.substring(0,i),s=e.substring(n),l=t.substring(i),u=r(o,a),c=r(s,l);return u.concat(c)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function a(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i}function s(e){e.push([0,""]);for(var t,r=0,i=0,l=0,u="",c="";r<e.length;)switch(e[r][0]){case 1:l++,c+=e[r][1],r++;break;case n:i++,u+=e[r][1],r++;break;case 0:i+l>1?(0!==i&&0!==l&&(0!==(t=o(c,u))&&(r-i-l>0&&0==e[r-i-l-1][0]?e[r-i-l-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),r++),c=c.substring(t),u=u.substring(t)),0!==(t=a(c,u))&&(e[r][1]=c.substring(c.length-t)+e[r][1],c=c.substring(0,c.length-t),u=u.substring(0,u.length-t))),0===i?e.splice(r-l,i+l,[1,c]):0===l?e.splice(r-i,i+l,[n,u]):e.splice(r-i-l,i+l,[n,u],[1,c]),r=r-i-l+(i?1:0)+(l?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,l=0,i=0,u="",c=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&s(e)}var l=r;function u(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var i=e[r],o=e[r+1];i[0]===o[1]&&e.splice(r,2,[i[0],i[1]+o[1]])}return e}l.INSERT=1,l.DELETE=n,l.EQUAL=0,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){var n=Object.prototype.hasOwnProperty,r="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e,t){var n=r?r+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=new Array(a);o<a;o++)s[o]=i[o].fn;return s},a.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var A,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(A=1,l=new Array(d-1);A<d;A++)l[A-1]=arguments[A];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){var i=new o(t,n||this),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.once=function(e,t,n){var i=new o(t,n||this,!0),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,o){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(3)),s=y(n(2)),l=y(n(0)),u=y(n(5)),c=y(n(10)),d=y(n(9)),A=n(36),h=n(37),f=y(n(13)),p=n(26),g=n(38),m=n(39),v=n(40);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,c.default)("quill:clipboard"),w="__ql-matcher",B=[[Node.TEXT_NODE,Q],[Node.TEXT_NODE,L],["br",function(e,t){return x(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};return r.fontStyle&&"italic"===k(e).fontStyle&&(n.italic=!0),r.fontWeight&&(k(e).fontWeight.startsWith("bold")||parseInt(k(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=S(t,n)),parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!x(t,"\n"))return t;for(var r=-1,i=e.parentNode;!i.classList.contains("ql-clipboard");)"list"===(l.default.query(i)||{}).blotName&&(r+=1),i=i.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",N.bind(N,"bold")],["i",N.bind(N,"italic")],["style",function(){return new s.default}]],C=[A.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),E=[A.AlignStyle,h.BackgroundStyle,p.ColorStyle,g.DirectionStyle,m.FontStyle,v.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),T=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],B.concat(r.options.matchers).forEach((function(e){var t=i(e,2),o=t[0],a=t[1];(n.matchVisual||a!==P)&&r.addMatcher(o,a)})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,b({},f.default.blotName,t[f.default.blotName]))}var r=this.prepareMatching(),o=i(r,2),a=o[0],l=o[1],u=U(this.container,a,l);return x(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),_.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),i=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,u.default.sources.USER),t.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=i,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(r){var o=i(r,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(s)}))}})),[t,n]}}]),t}(d.default);function S(e,t,n){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce((function(e,n){return S(e,n,t[n])}),e):e.reduce((function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,a.default)({},b({},t,n),r.attributes))}),new s.default)}function k(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function x(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function O(e){if(0===e.childNodes.length)return!1;var t=k(e);return["block","list-item"].indexOf(t.display)>-1}function U(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(r,i){var o=U(i,t,n);return i.nodeType===e.ELEMENT_NODE&&(o=t.reduce((function(e,t){return t(i,e)}),o),o=(i[w]||[]).reduce((function(e,t){return t(i,e)}),o)),r.concat(o)}),new s.default):new s.default}function N(e,t,n){return S(n,e,!0)}function I(e,t){var n=l.default.Attributor.Attribute.keys(e),r=l.default.Attributor.Class.keys(e),i=l.default.Attributor.Style.keys(e),o={};return n.concat(r).concat(i).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(n=E[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=S(t,o)),t}function F(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var r={},i=n.value(e);null!=i&&(r[n.blotName]=i,t=(new s.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=S(t,n.blotName,n.formats(e)));return t}function L(e,t){return x(t,"\n")||(O(e)||t.length()>0&&e.nextSibling&&O(e.nextSibling))&&t.insert("\n"),t}function P(e,t){if(O(e)&&null!=e.nextElementSibling&&!x(t,"\n\n")){var n=e.offsetHeight+parseFloat(k(e).marginTop)+parseFloat(k(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function Q(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!k(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&O(e.parentNode)||null!=e.previousSibling&&O(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&O(e.parentNode)||null!=e.nextSibling&&O(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}T.DEFAULTS={matchers:[],matchVisual:!0},t.default=T,t.matchAttributor=I,t.matchBlot=F,t.matchNewline=L,t.matchSpacing=P,t.matchText=Q},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(2)),a=c(n(0)),s=c(n(5)),l=c(n(10)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=(0,l.default)("quill:toolbar"),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");p(a,o.options.container),e.container.parentNode.insertBefore(a,e.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=r(e,1)[0];o.update(t)})),o):(i=A.error("Container required for toolbar",o.options),d(o,i))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void A.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void A.warn("ignoring attaching to nonexistent format",n,e)}var i="SELECT"===e.tagName?"change":"click";e.addEventListener(i,(function(i){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),i.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=r(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var i=r(n,2),o=i[0],a=i[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[o])}))}}]),t}(u.default);function f(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function p(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):f(n,t,r)}})),e.appendChild(n)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var i="+1"===e?1:-1;"rtl"===n.direction&&(i*=-1),this.quill.format("indent",r+i,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=h,t.addControls=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect(),o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=t+o+"px"),i.left<r.left&&(o=r.left-i.left,this.root.style.left=t+o+"px"),i.bottom>r.bottom){var a=i.bottom-i.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(3)),s=h(n(8)),l=n(43),u=h(l),c=h(n(27)),d=n(15),A=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return g(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),A.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),A.default),this.tooltip=new y(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(u.default);v.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(t,e),o(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,i){if(null!=t){if(0===t.length&&i===s.default.sources.USER){var o=e.quill.scroll.descendant(c.default,t.index),a=r(o,2),l=a[0],u=a[1];if(null!=l){e.linkRange=new d.Range(t.index-u,l.length());var A=c.default.formats(l.domNode);return e.preview.textContent=A,e.preview.setAttribute("href",A),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=L(n(29)),i=n(36),o=n(38),a=n(64),s=L(n(65)),l=L(n(66)),u=n(67),c=L(u),d=n(37),A=n(26),h=n(39),f=n(40),p=L(n(56)),g=L(n(68)),m=L(n(27)),v=L(n(69)),y=L(n(70)),b=L(n(71)),_=L(n(72)),w=L(n(73)),B=n(13),C=L(B),E=L(n(74)),T=L(n(75)),S=L(n(57)),k=L(n(41)),x=L(n(28)),O=L(n(59)),U=L(n(60)),N=L(n(61)),I=L(n(108)),F=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":i.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":A.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":i.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":A.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),r.default.register({"formats/align":i.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":A.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":p.default,"formats/code":B.Code,"formats/italic":g.default,"formats/link":m.default,"formats/script":v.default,"formats/strike":y.default,"formats/underline":b.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":E.default,"modules/syntax":T.default,"modules/toolbar":S.default,"themes/bubble":I.default,"themes/snow":F.default,"ui/icons":k.default,"ui/picker":x.default,"ui/icon-picker":U.default,"ui/color-picker":O.default,"ui/tooltip":N.default},!0),t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=new(function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((r=o)&&r.__esModule?r:{default:r}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"format",value:function(e,n){e!==h.blotName||n?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:i(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);A.blotName="list-item",A.tagName="LI";var h=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),i=o.default.find(t.target);"checked"===r?i.format("list","unchecked"):"unchecked"===r&&i.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return d(t,e),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof A)i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);h.blotName="list",h.scope=o.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[A],t.ListItem=A,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(56);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((r=a)&&r.__esModule?r:{default:r}).default);u.blotName="script",u.tagName=["SUB","SUP"],t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},l=n(27);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["alt","height","width"],A=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);A.blotName="image",A.tagName="IMG",t.default=A},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),l=(r=s)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=["height","width"],A=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);A.blotName="video",A.className="ql-video",A.tagName="IFRAME",t.default=A},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(35)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,null,[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(o.default);A.blotName="formula",A.className="ql-formula",A.tagName="SPAN";var h=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),r(t,null,[{key:"register",value:function(){a.default.register(A,!0)}}]),t}(s.default);t.FormulaBlot=A,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=l(n(0)),a=l(n(5)),s=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(n(13)).default);A.className="ql-syntax";var h=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),f=function(e){function t(e,n){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var i=null;return r.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(i),i=setTimeout((function(){r.highlight(),i=null}),r.options.interval)})),r.highlight(),r}return d(t,e),r(t,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(A,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(A).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=A,t.CodeToken=h,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=d(n(8)),s=n(43),l=d(s),u=n(15),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,n){A(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=p);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return f(t,e),i(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);g.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,n){A(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,i){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&i===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var o=r.quill.getLines(t.index,t.length);if(1===o.length)r.position(r.quill.getBounds(t));else{var s=o[o.length-1],l=r.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-l),d=r.quill.getBounds(new u.Range(l,c));r.position(d)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return f(t,e),i(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),i=this.root.querySelector(".ql-tooltip-arrow");if(i.style.marginLeft="",0===n)return n;i.style.marginLeft=-1*n-i.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=g},function(e,t,n){e.exports=n(63)}]).default},e.exports=n()}))),qC=Object.prototype.toString,WC=function(e){var t=qC.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===qC.call(e.callee)),n};
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */if(!Object.keys){var GC=Object.prototype.hasOwnProperty,XC=Object.prototype.toString,JC=WC,YC=Object.prototype.propertyIsEnumerable,$C=!YC.call({toString:null},"toString"),ZC=YC.call((function(){}),"prototype"),eE=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],tE=function(e){var t=e.constructor;return t&&t.prototype===e},nE={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},rE=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!nE["$"+e]&&GC.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{tE(window[e])}catch(cH){return!0}}catch(cH){return!0}return!1}();KC=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===XC.call(e),r=JC(e),i=t&&"[object String]"===XC.call(e),o=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var a=ZC&&n;if(i&&e.length>0&&!GC.call(e,0))for(var s=0;s<e.length;++s)o.push(String(s));if(r&&e.length>0)for(var l=0;l<e.length;++l)o.push(String(l));else for(var u in e)a&&"prototype"===u||!GC.call(e,u)||o.push(String(u));if($C)for(var c=function(e){if("undefined"==typeof window||!rE)return tE(e);try{return tE(e)}catch(cH){return!1}}(e),d=0;d<eE.length;++d)c&&"constructor"===eE[d]||!GC.call(e,eE[d])||o.push(eE[d]);return o}}var iE=KC,oE=Array.prototype.slice,aE=Object.keys,sE=aE?function(e){return aE(e)}:iE,lE=Object.keys;sE.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return WC(e)?lE(oE.call(e)):lE(e)}):Object.keys=sE;return Object.keys||sE};var uE=sE,cE="undefined"!=typeof Symbol&&Symbol,dE=function(){return"function"==typeof cE&&("function"==typeof Symbol&&("symbol"==typeof cE("foo")&&("symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}())))},AE="Function.prototype.bind called on incompatible ",hE=Array.prototype.slice,fE=Object.prototype.toString,pE=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||"[object Function]"!==fE.call(t))throw new TypeError(AE+t);for(var n,r=hE.call(arguments,1),i=function(){if(this instanceof n){var i=t.apply(this,r.concat(hE.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(hE.call(arguments)))},o=Math.max(0,t.length-r.length),a=[],s=0;s<o;s++)a.push("$"+s);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},gE=pE.call(Function.call,Object.prototype.hasOwnProperty),mE=SyntaxError,vE=Function,yE=TypeError,bE=function(e){try{return vE('"use strict"; return ('+e+").constructor;")()}catch(cH){}},_E=Object.getOwnPropertyDescriptor;if(_E)try{_E({},"")}catch(cH){_E=null}var wE=function(){throw new yE},BE=_E?function(){try{return wE}catch(e){try{return _E(arguments,"callee").get}catch(t){return wE}}}():wE,CE=dE(),EE=Object.getPrototypeOf||function(e){return e.__proto__},TE={},SE="undefined"==typeof Uint8Array?undefined:EE(Uint8Array),kE={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":CE?EE([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":TE,"%AsyncGenerator%":TE,"%AsyncGeneratorFunction%":TE,"%AsyncIteratorPrototype%":TE,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":vE,"%GeneratorFunction%":TE,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":CE?EE(EE([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&CE?EE((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&CE?EE((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":CE?EE(""[Symbol.iterator]()):undefined,"%Symbol%":CE?Symbol:undefined,"%SyntaxError%":mE,"%ThrowTypeError%":BE,"%TypedArray%":SE,"%TypeError%":yE,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet},xE=function e(t){var n;if("%AsyncFunction%"===t)n=bE("async function () {}");else if("%GeneratorFunction%"===t)n=bE("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=bE("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=EE(i.prototype))}return kE[t]=n,n},OE={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},UE=pE.call(Function.call,Array.prototype.concat),NE=pE.call(Function.apply,Array.prototype.splice),IE=pE.call(Function.call,String.prototype.replace),FE=pE.call(Function.call,String.prototype.slice),LE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,PE=/\\(\\)?/g,QE=function(e){var t=FE(e,0,1),n=FE(e,-1);if("%"===t&&"%"!==n)throw new mE("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new mE("invalid intrinsic syntax, expected opening `%`");var r=[];return IE(e,LE,(function(e,t,n,i){r[r.length]=n?IE(i,PE,"$1"):t||e})),r},DE=function(e,t){var n,r=e;if(gE(OE,r)&&(r="%"+(n=OE[r])[0]+"%"),gE(kE,r)){var i=kE[r];if(i===TE&&(i=xE(r)),void 0===i&&!t)throw new yE("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new mE("intrinsic "+e+" does not exist!")},ME=function(e,t){if("string"!=typeof e||0===e.length)throw new yE("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new yE('"allowMissing" argument must be a boolean');var n=QE(e),r=n.length>0?n[0]:"",i=DE("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],NE(n,UE([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var d=n[u],A=FE(d,0,1),h=FE(d,-1);if(('"'===A||"'"===A||"`"===A||'"'===h||"'"===h||"`"===h)&&A!==h)throw new mE("property names with quotes must have matching quotes");if("constructor"!==d&&c||(s=!0),gE(kE,o="%"+(r+="."+d)+"%"))a=kE[o];else if(null!=a){if(!(d in a)){if(!t)throw new yE("base intrinsic for "+e+" exists, but the property is not available.");return}if(_E&&u+1>=n.length){var f=_E(a,d);a=(c=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[d]}else c=gE(a,d),a=a[d];c&&!s&&(kE[o]=a)}}return a},RE=B((function(e){var t=ME("%Function.prototype.apply%"),n=ME("%Function.prototype.call%"),r=ME("%Reflect.apply%",!0)||pE.call(n,t),i=ME("%Object.getOwnPropertyDescriptor%",!0),o=ME("%Object.defineProperty%",!0),a=ME("%Math.max%");if(o)try{o({},"a",{value:1})}catch(cH){o=null}e.exports=function(e){var t=r(pE,n,arguments);if(i&&o){var s=i(t,"length");s.configurable&&o(t,"length",{value:1+a(0,e.length-(arguments.length-1))})}return t};var s=function(){return r(pE,t,arguments)};o?o(e.exports,"apply",{value:s}):e.exports.apply=s})),HE=RE(ME("String.prototype.indexOf")),jE=function(e,t){var n=ME(e,!!t);return"function"==typeof n&&HE(e,".prototype.")>-1?RE(n):n},KE="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,VE=jE("Object.prototype.toString"),zE=function(e){return!(KE&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===VE(e)};!function(){zE(arguments)}(),zE.isLegacyArguments=function(e){return!!zE(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==VE(e)&&"[object Function]"===VE(e.callee)};var qE="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),WE=Object.prototype.toString,GE=Array.prototype.concat,XE=Object.defineProperty,JE=XE&&function(){var e={};try{for(var t in XE(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(cH){return!1}}(),YE=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===WE.call(i)&&r())&&(JE?XE(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},$E=function(e,t){var n=arguments.length>2?arguments[2]:{},r=uE(t);qE&&(r=GE.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)YE(e,r[i],t[r[i]],n[r[i]])};$E.supportsDescriptors=!!JE;var ZE,eT,tT=$E,nT=function(e){return e!=e},rT=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!nT(e)||!nT(t))},iT=function(){return"function"==typeof Object.is?Object.is:rT},oT=RE(iT(),Object);if(tT(oT,{getPolyfill:iT,implementation:rT,shim:function(){var e=iT();return tT(Object,{is:e},{is:function(){return Object.is!==e}}),e}}),dE()&&"symbol"==typeof Symbol.toStringTag){jE("Object.prototype.hasOwnProperty"),jE("RegExp.prototype.exec"),ZE={};var aT=function(){throw ZE};eT={toString:aT,valueOf:aT},"symbol"==typeof Symbol.toPrimitive&&(eT[Symbol.toPrimitive]=aT)}jE("Object.prototype.toString");var sT=Object,lT=TypeError,uT=function(){if(null!=this&&this!==sT(this))throw new lT("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},cT=tT.supportsDescriptors,dT=Object.getOwnPropertyDescriptor,AT=TypeError,hT=function(){if(!cT)throw new AT("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=dT(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return uT},fT=tT.supportsDescriptors,pT=Object.getOwnPropertyDescriptor,gT=Object.defineProperty,mT=TypeError,vT=Object.getPrototypeOf,yT=/a/,bT=RE(uT);tT(bT,{getPolyfill:hT,implementation:uT,shim:function(){if(!fT||!vT)throw new mT("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=hT(),t=vT(yT),n=pT(t,"flags");return n&&n.get===e||gT(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}});
/*!
 * VueQuill @vueup/vue-quill v1.0.0-alpha.40
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2021 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2021-04-13T04:42:03.902Z
 */
const _T={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},wT=s({name:"QuillEditor",props:{content:{type:[String,Object],default:{}},contentType:{type:String,default:"delta",validator:e=>["delta","html","text"].includes(e)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:e=>["snow","bubble",""].includes(e)},toolbar:{type:[String,Array,Object],required:!1,validator:e=>"string"!=typeof e||""===e||("#"===e.charAt(0)||-1!==Object.keys(_T).indexOf(e))},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(e,t)=>{let n,r;g((()=>{o()})),k((()=>{n=null}));const i=c(),o=()=>{var o;i.value&&(r=s(),n=new zC(i.value,r),p(e.content),n.on("text-change",l),n.on("selection-change",A),n.on("editor-change",h),"bubble"!==e.theme&&i.value.classList.remove("ql-bubble"),"snow"!==e.theme&&i.value.classList.remove("ql-snow"),null===(o=n.getModule("toolbar"))||void 0===o||o.container.addEventListener("mousedown",(e=>{e.preventDefault()})),t.emit("ready",n))},s=()=>{const t={};return""!==e.theme&&(t.theme=e.theme),e.readOnly&&(t.readOnly=e.readOnly),e.placeholder&&(t.placeholder=e.placeholder),e.toolbar&&""!==e.toolbar&&(t.modules={toolbar:(()=>{if("object"==typeof e.toolbar)return e.toolbar;if("string"==typeof e.toolbar){return"#"===e.toolbar.charAt(0)?e.toolbar:_T[e.toolbar]}})()}),Object.assign({},e.globalOptions,e.options,t)},l=(e,n,r)=>{t.emit("update:content",f()),t.emit("textChange",{delta:e,oldContents:n,source:r})},u=c(),A=(e,r,i)=>{u.value=!!(null==n?void 0:n.hasFocus()),t.emit("selectionChange",{range:e,oldRange:r,source:i})};d(u,(e=>{e?t.emit("focus",i):t.emit("blur",i)}));const h=(...e)=>{"text-change"===e[0]&&t.emit("editorChange",{name:e[0],delta:e[1],oldContents:e[2],source:e[3]}),"selection-change"===e[0]&&t.emit("editorChange",{name:e[0],range:e[1],oldRange:e[2],source:e[3]})},f=()=>"html"===e.contentType?y():"text"===e.contentType?m():null==n?void 0:n.getContents(),p=t=>{"html"===e.contentType?b(t):"text"===e.contentType?v(t):null==n||n.setContents(t)},m=()=>{var e;return null!==(e=null==n?void 0:n.getText())&&void 0!==e?e:""},v=e=>{null==n||n.setText(e)},y=()=>{var e;return null!==(e=null==n?void 0:n.root.innerHTML)&&void 0!==e?e:""},b=e=>{null==n||n.clipboard.dangerouslyPasteHTML(e)};return d((()=>e.content),(t=>{n&&t&&t!==e.content&&p(t)})),d((()=>e.enable),(e=>{n&&n.enable(e)})),{editor:i,getEditor:()=>i.value,getToolbar:()=>{var e;return null===(e=null==n?void 0:n.getModule("toolbar"))||void 0===e?void 0:e.container},getQuill:()=>{if(n)return n;throw'The quill editor hasn\'t been instantiated yet, \n                  make sure to call this method when the editor ready\n                  or use v-on:ready="onReady(quill)" event instead.'},getContents:f,setContents:p,getHTML:y,setHTML:b,getText:m,setText:v,reinit:()=>{a((()=>{var e;!t.slots.toolbar&&n&&(null===(e=n.getModule("toolbar"))||void 0===e||e.container.remove()),o(),console.log("reinit call")}))}}},inheritAttrs:!1,render(){var t,n;return[null===(n=(t=this.$slots).toolbar)||void 0===n?void 0:n.call(t),l("div",e({ref:"editor"},this.$attrs))]}});const BT=s({name:"Editor",componentName:"ManageEditor",__file:"@PC/Editor",components:{QuillEditor:wT},props:{options:{type:Object,default:()=>({})},modelValue:{type:String,default:""}},setup(e,{emit:t}){const n=c(null),i=r((()=>Object.assign({},{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],[{clean:"源码编辑"}],["link","image"]]}},e.options))),o=r({set(e){t("update:modelValue",e.replace(/&lt;/g,"<").replace(/&gt;/g,">"))},get:()=>e.modelValue.replace(/&lt;/g,"<").replace(/&gt;/g,">")});return d((()=>o.value),(()=>{n.value.innerHTML=o.value})),{options:i,modelValue:o,initQuillEditor:e=>{n.value=e.addContainer("ql-preview"),n.value.innerHTML=o.value}}},render(){return h("div",null,[h(f("quill-editor"),{options:this.options,content:this.modelValue,"onUpdate:content":e=>this.modelValue=e,contentType:"html",id:"vite-backen-editor",onReady:this.initQuillEditor},null)])}});var CT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:BT});const ET=s({name:"Icons",componentName:"ManageIcons",__file:"@PC/Icons",setup(){const{enKeytoChKey:e,name:t,clickIcon:n,icons:r}=yC();return{icons:r,name:t,enKeytoChKey:e,clickIcon:n}},render(){let e;return h(f("el-tabs"),{modelValue:this.name,"onUpdate:modelValue":e=>this.name=e,type:"border-card",stretch:!0},"function"==typeof(t=e=Object.entries(this.icons).map((([e,t])=>h(f("el-tab-pane"),{key:e,name:e,label:this.enKeytoChKey[e]},{default:()=>[h("ul",{class:"icon-list"},[Array.isArray(t)&&t.length>0&&t.map((t=>h("li",{key:t,onClick:()=>this.clickIcon(e,t,this.$message.success),title:`${e}-${t}`},["vant-icon"!==e?h("i",{class:e+"-"+t},null):h(f("van-icon"),{name:t},null),h("span",null,[t])])))])]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!w(t)?e:{default:()=>[e]});var t}});var TT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ET});const ST=s({name:"FilePreview",componentName:"ManageFilePreview",__file:"@PC/Upload/Preview",components:{Dialog:DC},props:{file:{type:Object,default:()=>({})}},setup(e,{emit:t}){const n=c({}),i=c(null);return{visible:r({get(){if(Object.keys(e.file).length>0){const t=(({file:e})=>{const t=(e.url||"").split("/").pop()||"",n=(e.type||"").split("/").pop(),r={title:`${t}-预览`,showMaximize:!0,dragging:!0};let i=null;if(rn(n))switch(n){case"jpg":case"png":case"jpeg":case"gif":i=h("img",{src:e.url,alt:t,style:"object-fit: contain"},null);break;case"doc":case"docx":case"xls":case"xlsx":case"pdf":case"ppt":i=h("iframe",{src:`https://view.officeapps.live.com/op/view.aspx?src=${e.url}`,frameborder:"no",width:"100%",height:"100%",style:"min-height: 200px;object-fit: contain"},null);break;default:i=h("iframe",{src:e.url,frameborder:"no",width:"100%",height:"100%",style:"min-height: 200px;object-fit: contain"},null)}return{fileProps:r,fileComponent:i}})(e);return n.value=t.fileProps,i.value=t.fileComponent,!0}return!1},set(e){!1===e&&t("update:file",{})}}),fileProps:n,fileComponent:i}},render(){return h(DC,x({modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e},this.fileProps),{default:()=>[this.fileComponent]})}});var kT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ST});var xT={pdf:"vite-icon-pdf",doc:"vite-icon-doc",ppt:"vite-icon-ppt",gif:"vite-icon-gif",xls:"vite-icon-xls",jpg:"vite-icon-jpg",png:"vite-icon-png",file:"vite-icon-file",txt:"vite-icon-txt",wps:"vite-icon-wps",tar:"vite-icon-tar",rar:"vite-icon-rar",xsl:"vite-icon-xsl",zip:"vite-icon-zip",tif:"vite-icon-tif",rp:"vite-icon-rp",swf:"vite-icon-swf",svg:"vite-icon-svg",psd:"vite-icon-psd",mp3:"vite-icon-mp3",mp4:"vite-icon-mp4",mov:"vite-icon-mov",flv:"vite-icon-flv",exe:"vite-icon-exe",html:"vite-icon-html","7z":"vite-icon-7z",bmp:"vite-icon-bmp",ai:"vite-icon-ai",avi:"vite-icon-avi",eps:"vite-icon-eps"};const OT=s({name:"UploadList",componentName:"ManageUploadList",__file:"@PC/Upload/List",components:{Preview:ST},props:{fileList:{type:Array,default:()=>[]}},setup:()=>({current:c({})}),render(){return h("section",null,[h("ul",{class:"manage-pc-upload-list"},[h(Z,{enterActiveClass:"animated fadeInDown",leaveActiveClass:"animated fadeOutUp"},{default:()=>[this.fileList.length>0&&this.fileList.map((e=>h("li",{key:e.uid},[h("section",{class:"upload-file-content"},[h("div",null,[h(f("el-button"),{type:"text",onClick:()=>{var t;return this.$emit("download",(null==(t=e.response)?void 0:t.result)||{})}},{default:()=>{var t;return[h("i",{class:["iconfont",`${xT[e.raw.name.split(".").pop()]||"vite-icon-file"}`],style:"padding-right: 8px; font-size: 1.3rem"},null),(null==(t=e.response)?void 0:t.name)||e.raw.name]}})]),h("div",null,[e.response&&h(f("el-button"),{type:"success",icon:"el-icon-view",size:"mini",circle:!0,title:"预览",onClick:()=>{this.current=e.response.result}},null),h(f("el-button"),{type:"primary",icon:"el-icon-download",size:"mini",title:"下载",circle:!0,onClick:()=>{var t;return this.$emit("download",(null==(t=e.response)?void 0:t.result)||{})}},null),h(f("el-button"),{type:"danger",icon:"el-icon-delete",size:"mini",title:"删除",circle:!0,onClick:()=>this.$emit("remove",e,[])},null)])]),h(f("el-progress"),{percentage:e.percentage,status:"success",style:{display:e.percentage>=100&&"none"}},null)])))]})]),h(ST,{file:this.current,"onUpdate:file":e=>this.current=e},null)])}});var UT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:OT});const NT=e=>rC({url:"/filedownload",method:"post",data:e});const IT=e=>{let t=0;for(;e>=1024;)e/=1024,t++;return`${e}${["b","kb","mb"][t]}`},FT=e=>({uploadProps:r((()=>Object.assign({},CC(e,Object.keys(ee.props)),(e=>{const t=t=>{const n=e.fileList.findIndex((e=>e&&e.uid===t));n>-1&&e.fileList.splice(n,1)};return{beforeUpload:n=>new Promise(((r,i)=>{if(e.filesize>0){const{filesize:r}=n;if(r>=e.filesize)return te.error(`文件大小不能超过${IT(e.filesize)}`),t(n.uid),i()}if(rn(e.accept)){const r=n.name.slice(n.name.lastIndexOf(".")+1);if(!e.accept.includes(r))return te.error(`上传文件格式必须为${e.accept.replace(/,./g,"/")}`),t(n.uid),i()}return un(e.beforeUpload)&&e.beforeUpload(n),rn(e.action)?r(null):i()})),onChange:(t,n)=>{const r=e.fileList.findIndex((e=>e&&e.uid===t.uid));t.response?t.response.success?(t.percentage=100,r>-1&&(e.fileList[r]=t)):(te.error("上传失败，请重试"),r>-1&&e.fileList.splice(r,1)):("fail"===t.status&&(te.error("上传失败，请重试"),r>-1&&e.fileList.splice(r,1)),r<0&&"ready"===t.status&&e.fileList.push(t)),un(e.onChange)&&e.onChange(t,n)},onRemove:(n,r)=>{t(n.uid),un(e.onRemove)&&e.onRemove(n,r)}}})(e))))}),LT=s({name:"Upload",componentName:"ManagePCUpload",__file:"@PC/Upload",components:{FileList:OT},props:Object.assign({},ee.props,{filesize:{type:Number,default:0},customClass:{type:String,default:"manage-pc-upload"}}),setup(e,{emit:t}){const{uploadProps:n}=FT(e);return{uploadProps:n,download:({url:e})=>{rn(e)&&NT({name:e.split("/").pop()}).then((t=>{t.data&&fA(t.data,e.split("/").pop())}))}}},render(){let e;const t=this.$slots;return h("section",{class:this.customClass},[h(f("el-upload"),x(this.uploadProps,{class:"manage-pc-upload-component"}),(n=e=Object.assign({default:()=>un(t.default)?t.default():h(p,null,[h("i",{class:"el-icon-upload"},null),h("div",{class:"el-upload__text"},[E("将文件拖到此处，或"),h("em",null,[E("点击上传")])])]),tip:()=>un(t.tip)?t.tip():h("div",{class:"el-upload__tip"},[rn(this.accept)&&`只能上传${this.accept.replace(/,./g,"/")}文件，`,this.filesize>0&&`文件大小不可超过${IT(this.filesize)}`])},un(t.file)&&{file:({file:e})=>t.file({file:e,download:this.download,remove:this.uploadProps.onRemove})}),"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!w(n)?e:{default:()=>[e]})),!this.uploadProps.showFileList&&(un(t.filelist)?t.filelist():h(f("file-list"),{fileList:this.fileList,onDownload:this.download,onRemove:this.uploadProps.onRemove},null))]);var n}});var PT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:LT});const QT={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},DT=s({name:"ImagePreview",componentName:"ManageImagePreview",__file:"@PC/ImageUpload/Preview/index.tsx",props:{imageList:{type:Array,default:()=>[]},preview:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},setup(t,{emit:n}){const{visible:i,index:o}=((e,t)=>{const n=r({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return{visible:r({get:()=>e.preview,set(e){t("update:preview",e)}}),index:n}})(t,n),{transform:a,mode:s,toggleMode:l,imgStyle:u,handleActions:A,addImgEventListener:h,removeImgEventListener:f,ImgMouseDown:p}=(()=>{const t=c({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),n=c(QT.CONTAIN),i=r((()=>{const{scale:e,deg:r,offsetX:i,offsetY:o,enableTransition:a}=t.value,s={transform:`scale(${e}) rotate(${r}deg)`,transition:a?"transform .3s":"",marginLeft:`${i}px`,marginTop:`${o}px`};return n.value.name===QT.CONTAIN.name&&Object.assign(s,{maxWidth:"100%",maxHeight:"100%"}),s})),o=()=>{const e=n.value.name.toUpperCase();n.value=QT["CONTAIN"===e?"ORIGINAL":"CONTAIN"],t.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},a=(n,r={})=>{const{zoomRate:i,rotateDeg:o,enableTransition:a}=e({zoomRate:.2,rotateDeg:90,enableTransition:!0},r);switch(n){case"zoomOut":t.value.scale=Math.max(.2,parseFloat((t.value.scale-i).toFixed(3)));break;case"zoomIn":t.value.scale=parseFloat((t.value.scale+i).toFixed(3));break;case"clocelise":t.value.deg+=o;break;case"anticlocelise":t.value.deg-=o}t.value.enableTransition=a},s=XA.throttle((e=>({32:o(),38:a("zoomIn"),40:a("zoomOut")}[e.code])),200),l=XA.throttle((e=>{const t=e.wheelDelta?e.wheelDelta:-e.detail;t>0&&a("zoomIn",{zoomRate:.015,enableTransition:!1}),t<=0&&a("zoomOut",{zoomRate:.015,enableTransition:!1})}),200);return{transform:t,mode:n,imgStyle:i,toggleMode:o,handleActions:a,addImgEventListener:()=>{document.addEventListener("keydown",s),document.addEventListener("wheel",l)},removeImgEventListener:()=>{document.removeEventListener("keydown",s),document.removeEventListener("wheel",l)},ImgMouseDown:e=>{const{offsetX:n,offsetY:r}=t.value,{pageX:i,pageY:o}=e,a=e=>{t.value.offsetX=n+e.pageX-i,t.value.offsetY=r+e.pageY-o};document.addEventListener("mousemove",a),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",a)}))}}})();return g(h),k(f),d((()=>i.value),(()=>{!1===i.value&&(o.value=0,a.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},s.value=QT.CONTAIN,f())}),{immediate:!0}),{visible:i,index:o,transform:a,mode:s,toggleMode:l,imgStyle:u,handleActions:A,ImgMouseDown:p}},render(){return h(O,{enterActiveClass:"animated zoomIn",leaveActiveClass:"animated zoomOut"},{default:()=>[this.visible&&h("div",{class:"manage-pc-preview-viewer",tabindex:0},[h("header",null,[h("i",{class:"el-icon-close",title:"关闭",onClick:e=>{e.stopPropagation(),this.visible=!1}},null)]),this.imageList.length>1&&h(p,null,[h("span",{class:{"el-image-viewer__btn":!0,"el-image-viewer__prev":!0},title:"上一张",onClick:()=>{this.index=(this.index-1+this.imageList.length)%this.imageList.length,this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},[h("i",{class:"el-icon-arrow-left"},null)]),h("span",{class:{"el-image-viewer__btn":!0,"el-image-viewer__next":!0},title:"下一张",onClick:()=>{this.index=(this.index+1)%this.imageList.length,this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},[h("i",{class:"el-icon-arrow-right"},null)])]),h("section",{class:"el-image-viewer__canvas"},[this.imageList.map(((e,t)=>h(O,{enterActiveClass:"animated fadeInRightBig",leaveActiveClass:"animated fadeOutLeftBig"},{default:()=>[this.index===t&&h("img",{class:"el-image-viewer__img",src:e,key:e,style:this.imgStyle,onMousedown:this.ImgMouseDown},null)]})))]),h("footer",{class:"el-image-viewer__actions manage-pc-actions-bar"},[h("div",{class:"el-image-viewer__actions__inner"},[h("i",{class:"el-icon-zoom-out",onClick:()=>this.handleActions("zoomOut")},null),h("i",{class:"el-icon-zoom-in",onClick:()=>this.handleActions("zoomIn")},null),h("i",{class:"el-image-viewer__actions__divider"},null),h("i",{class:this.mode.icon,onClick:this.toggleMode},null),h("i",{class:"el-image-viewer__actions__divider"},null),h("i",{class:"el-icon-refresh-left",onClick:()=>this.handleActions("anticlocelise")},null),h("i",{class:"el-icon-refresh-right",onClick:()=>this.handleActions("clocelise")},null)])])])]})}});var MT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DT});const RT=s({name:"ImageUpload",componentName:"ManageImageUpload",__file:"@PC/ImageUpload",props:Object.assign({},ee.props,{filesize:{type:Number,default:0},draggable:{type:Boolean,default:!1}}),components:{Upload:LT,Preview:DT},setup(e,{emit:t}){const n=jt(),i=r((()=>n.state.user.token)),o=c(!1),a=c(0);return{token:i,imageList:r({get:()=>e.fileList,set(e){t("update:fileList",e)}}),preview:o,current:a}},render(){return h("section",null,[T(h(LT,{action:this.action,filesize:this.filesize,headers:{token:this.token},fileList:this.imageList,"list-type":"picture-card",customClass:"manage-image-upload"},{default:()=>h("i",{class:"el-icon-plus"},null),file:({file:e,download:t,remove:n})=>h("div",{style:"height: 100%"},[h(f("el-image"),{class:"el-upload-list__item-thumbnail",src:e.url,alt:"",fit:"cover"},null),h("span",{class:"el-upload-list__item-actions"},[h("span",{class:"el-upload-list__item-preview"},[h("i",{class:"el-icon-zoom-in",onClick:t=>{t.stopPropagation(),this.current=this.imageList.findIndex((t=>t.uid===e.uid)),this.preview=!0}},null)]),h("span",{class:"el-upload-list__item-delete"},[h("i",{class:"el-icon-download",onClick:n=>{var r;n.stopPropagation(),t(null==(r=e.response)?void 0:r.result)}},null)]),h("span",{class:"el-upload-list__item-delete"},[h("i",{class:"el-icon-delete",onClick:t=>{t.stopPropagation(),n(e,this.imageList)}},null)])])])}),[[S("draggable"),[this.draggable&&{dom:".manage-image-upload .el-upload-list",target:".el-upload-list__item",callback:({newIndex:e,oldIndex:t})=>{[this.imageList[e],this.imageList[t]]=[this.imageList[t],this.imageList[e]]}}].filter(Boolean)]]),h(DT,{modelValue:this.current,"onUpdate:modelValue":e=>this.current=e,preview:this.preview,"onUpdate:preview":e=>this.preview=e,imageList:this.imageList.map((e=>{var t,n;return(null==(n=null==(t=e.response)?void 0:t.result)?void 0:n.url)||e.url}))},null)])}});var HT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:RT});const jT=["String","Number","Boolean","Function","Array","Object"],KT=(e,t,n)=>t.showJson&&XA.debounce((()=>e.value="Array"===n?dh(t.json):ch(t.json)),600)(),VT=(e,t)=>{let n=e.replace("root","");return"Array"===t?(n=n.slice(1),n.startsWith("[")?n:`[${n}`):"Object"===t?n:void 0};function zT(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)}const qT=t=>{const n=((e,t)=>{const n=c(),r=c(),i=c();return"Array"===t&&(n.value=e.json.map(((e,t)=>`root.${t}]`)),r.value=dh(e.json),i.value=[{label:"[",key:"root",type:"Array",children:e.json.map(((t,r)=>Ah(e.json,r,`root.${r}]`,n.value)))},{label:"]",key:"]"}]),"Object"===t&&(n.value=Object.keys(e.json).map((e=>`root.${e}`)),r.value=ch(e.json),i.value=[{label:"{",key:"root",type:"Object",children:Object.keys(e.json).map((t=>Ah(e.json,t,`root.${t}`,n.value)))},{label:"}",key:"}"}]),{valueType:jT,jsonKey:n,jsonString:r,treeData:i,componentOnChange:(n,i)=>{const o=VT(n.key,t);new Function("obj","value",`obj${o} = value`)(e.json,n[i]),KT(r,e,t)},propertyKeyChange:(i,o,a)=>{if(rn(i)){const{data:s}=o.parent;let l=VT(a.key,t);n.value=n.value.filter((e=>!e.includes(a.key)));const u=new Function("obj",`return obj${l}`)(e.json);new Function("obj",`delete obj${l}`)(e.json);let c=l.slice(0,l.lastIndexOf(a.label));console.log(c),"Array"===s.type&&(c+=`${i}]`),"Object"===s.type&&(c+=i),a.key=c,a.label=i,new Function("obj","value",`obj${c} = value`)(e.json,u),KT(r,e,t)}},removeProperty:(i,o)=>{const a=(i.children||i).findIndex((e=>e.key===o));if(a>-1){(i.children||i).splice(a,1),n.value=n.value.filter((e=>!e.includes(o)));const r=VT(o,t);new Function("obj",`delete obj${r}`)(e.json)}"Array"===i.type&&i.desc&&(i.desc=`Array(${i.children.length})`),"Object"===i.type&&i.desc&&(i.desc=`Object(${i.children.length})`),"Array"===t&&console.log(e.json),KT(r,e,t)},dragPropertyDrop:(e,t,n,r)=>{},addProperty:(r,i)=>{const o={value:"",type:"String"};if(Array.isArray(r.children)&&("Array"===r.type&&(o.label=r.children.length,o.key=r.key+`[${o.label}]`,r.desc&&(r.desc=`Array(${o.label+1})`)),"Object"===r.type&&(o.label="a",o.key=r.key+".a",r.desc&&(r.desc=`Object(${r.children.length+1})`))),!n.value.includes(o.key)){n.value.push(o.key);const i=VT(o.key,t);new Function("obj","value",`obj${i} = value`)(e.json,o.value),r.children.push(o)}!1===i.expanded&&(i.expanded=!0)},propertyTypeChange:i=>{const o=VT(i.key,t);switch(i.type){case"Array":case"Object":Array.isArray(i.children)&&(n.value=n.value.filter((e=>!i.children.map((e=>e.key)).includes(e)))),delete i.value,i.children=[],i.desc="Array"===i.type?"Array(0)":"Object(0)",new Function("obj","value",`obj${o} = value`)(e.json,"Array"===i.type?[]:{});break;default:i.value="",delete i.desc,delete i.children,new Function("obj",`obj${o} = ''`)(e.json)}KT(r,e,t)}}})(t,sn(t.json));return e({componentType:(e,t)=>{let r,i;switch(e.type||sn(e[t])){case"String":case"Number":return h(f("el-input"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,clearable:!0,size:"mini",placeholder:Yi("please.input.something"),onClick:e=>e.stopPropagation(),onChange:XA.debounce((()=>n.componentOnChange(e,t)),200)},null);case"Boolean":return h(f("el-radio-group"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,onChange:()=>n.componentOnChange(e,t)},{default:()=>[h(f("el-radio"),{label:!0},zT(r=Yi("true"))?r:{default:()=>[r]}),h(f("el-radio"),{label:!1},zT(i=Yi("false"))?i:{default:()=>[i]})]});case"Function":return h(f("el-input"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,clearable:!0,type:"textarea",autosize:{minRows:6,maxRows:12},placeholder:Yi("please.input.something"),onClick:e=>e.stopPropagation(),onChange:XA.debounce((()=>n.componentOnChange(e,t)),200)},null)}}},n)},WT=function(e,t){let n;return t.hasOwnProperty("origin")||(t.origin=t.label),h("div",{class:"json-row"},[h("span",{class:"json-key"},[["root","}","]"].includes(t.key)?t.label:h(p,null,[h(f("el-input"),{size:"mini",modelValue:t.origin,"onUpdate:modelValue":e=>t.origin=e,onClick:e=>e.stopPropagation(),readonly:"Array"===e.parent.data.type,onChange:XA.debounce((()=>this.propertyKeyChange(t.origin,e,t)),200)},null),E("：")])]),h("div",{class:"json-value"},[["root","}","]"].includes(t.key)?"root"===t.key&&h("div",{class:"json-value"},[h(f("el-button"),{type:"text",icon:"el-icon-circle-plus-outline",style:"color: #67c23A",title:"添加属性",onClick:n=>{n.stopPropagation(),this.addProperty(t,e)}},null)]):h(p,null,[t.desc?h("span",{class:"primary",style:"font-style: oblique; padding-top: 2px"},[t.desc]):this.componentType(t,"value"),h(f("el-select"),{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,style:"margin-left: 10px; width: 150px",size:"mini",onChange:()=>this.propertyTypeChange(t),placeholder:Yi("please.select.something")},zT(n=this.valueType.map((e=>h(f("el-option"),{label:Yi(e),value:e,key:e},null))))?n:{default:()=>[n]}),["Array","Object"].includes(t.type)&&h(f("el-button"),{type:"text",icon:"el-icon-circle-plus-outline",style:"color: #67c23A",title:"添加属性",onClick:n=>{n.stopPropagation(),this.addProperty(t,e)}},null),h(f("el-button"),{type:"text",icon:"el-icon-remove-outline",title:"移除属性",style:"color: #F56C6C",onClick:n=>{n.stopPropagation(),this.removeProperty(e.parent.data,t.key)}},null)])])])},GT=s({name:"JsonEditor",componentName:"ManageJsonEditor",props:{json:{type:[Object,Array],default:()=>({})},showJson:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},setup:e=>qT(e),render(){return h("section",{class:"manage-json-render"},[h(f("el-tree"),{data:this.treeData,"node-key":"key","default-expanded-keys":["root"],draggable:this.draggable,"highlight-current":!0,"auto-expand-parent":!0,ref:e=>e&&(this.treeRef=e),"allow-drag":e=>{var t,n;return!["root","}","]"].includes(e.data.key)&&"Array"!==(null==(n=null==(t=e.parent)?void 0:t.data)?void 0:n.type)},"allow-drop":(e,t,n)=>{var r,i,o,a;return!["root","}","]"].includes(t.data.key)&&(null==(i=null==(r=e.parent)?void 0:r.data)?void 0:i.key)===(null==(a=null==(o=t.parent)?void 0:o.data)?void 0:a.key)&&"inner"!==n},onNodeDrop:this.dragPropertyDrop},{default:({node:e,data:t})=>WT.call(this,e,t)}),this.showJson&&h("div",{class:"manage-json-show",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[h(f("el-input"),{type:"textarea",modelValue:this.jsonString,readOnly:!0,autosize:{minRows:28,maxRows:28}},null)])])}});var XT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GT});function JT(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)}const YT=s({name:"Steps",componentName:"ManageStepsPage",__file:"@PC/Steps",props:Object.assign({},ne.props,{steps:{type:Array,default:()=>[]},next:{type:Function,default:TC},prev:{type:Function,default:TC},confirm:{type:Function,default:TC}}),setup(e,{emit:t}){const{stepsProps:n,activeIndex:r,carousel:i}=SC(e,t,ne),{nextStep:o,prevStep:a,confirmStep:s}=kC(e,r,i);return{stepsProps:n,activeIndex:r,carousel:i,nextStep:o,prevStep:a,confirmStep:s}},render(){let e,t;const n=this.$slots;return h("section",{class:"manage-pc-steps-page"},[h("header",null,[h(f("el-steps"),x(this.stepsProps,{active:this.activeIndex}),JT(e=this.steps.map(((e,t)=>{let n;return h(f("el-step"),Object.assign({key:t,onClick:()=>{var n;this.activeIndex=t,(null==(n=this.carousel)?void 0:n.setActiveItem)&&this.carousel.setActiveItem(t),un(e.click)&&e.click()}},rn(e.status)&&{status:e.status}),JT(n=Object.assign({},e.title&&{title:()=>un(e.title)?e.title():h("span",{innerHTML:e.title},null)},e.icon&&{icon:()=>un(e.icon)?e.icon():h("i",{class:e.icon},null)},e.description&&{description:()=>un(e.description)?e.description():h("span",{innerHTML:e.description},null)}))?n:{default:()=>[n]})})))?e:{default:()=>[e]})]),h("main",{class:"manage-pc-steps-content"},[h(f("el-carousel"),{autoplay:!1,"initial-index":this.activeIndex,arrow:"never","indicator-position":"none",height:"calc(100vh - 450px)",ref:e=>this.carousel=e},JT(t=this.steps.map(((e,t)=>h(f("el-carousel-item"),{key:t},{default:()=>[un(n[`step${t}`])&&n[`step${t}`]()]}))))?t:{default:()=>[t]})]),h("footer",{class:"manage-pc-steps-footer"},[this.activeIndex>0&&h(f("el-button"),{size:"small",type:"primary",onClick:this.prevStep,plain:!0},{default:()=>[E("上一步")]}),this.activeIndex===this.steps.length-1&&h(f("el-button"),{type:"success",size:"small",onClick:this.confirmStep,plain:!0},{default:()=>[E("确定")]}),this.activeIndex<this.steps.length-1&&h(f("el-button"),{size:"small",type:"primary",plain:!0,onClick:this.nextStep},{default:()=>[E("下一步")]})])])}});var $T=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YT});const ZT=s({name:"SvgIcon",componentName:"ManageSvgIcon",__file:"@PC/SvgIcon",props:{name:{type:String,required:!0},color:{type:String,default:""}},setup:e=>({iconName:r((()=>`#icon-${e.name}`)),svgClass:r((()=>rn(e.name)?`svg-icon icon-${e.name}`:"svg-icon"))}),render(){return h("svg",x({class:this.svgClass},this.$attrs,{style:{color:this.color}}),[h("use",{"xlink:href":this.iconName},null)])}});var eS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ZT});const tS=s({name:"Table",componentName:"ManageTable",__file:"@PC/Table",props:Object.assign({},re.props,{pagination:{type:[Boolean,Object],default:!0},columns:{type:Array,default:()=>[]},paginationAlign:{type:String,default:"right"},draggable:{type:Boolean,default:!1}}),setup(e,{emit:t}){const n=c(null),{tableProps:i,paginationProps:o}=((e,t)=>({tableProps:r((()=>{var n;return Object.assign({},CC(e,Object.keys(re.props)),null==(n=re.emits)?void 0:n.reduce(((e,n)=>(e[`on${n.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}`]=function(){return t(n,arguments)},e)),{}))})),paginationProps:r({get:()=>Object.assign({pageSize:10,currentPage:1,prevText:"上一页",nextText:"下一页",layout:"sizes, prev, pager, next, jumper, total,"},"Object"===sn(e.pagination)&&e.pagination),set(e){t("update:pagination",e)}})}))(e,t);return d((()=>[n.value,e.draggable]),(()=>{t("get-table",n.value),e.draggable})),{tableProps:i,paginationProps:o,table:n}},render(){const e=this.$slots;return h("section",{class:"manage-pc-table"},[T(h(re,x(this.tableProps,{ref:e=>e&&(this.table=e)}),{default:()=>[this.columns.map(((t,n)=>{let r;return h(f("el-table-column"),x(t,{key:n}),"function"==typeof(i=r=Object.assign({},un(e[t.header])&&{header:n=>e[t.header](n)},un(e[t.content])&&{default:n=>e[t.content](n)}))||"[object Object]"===Object.prototype.toString.call(i)&&!w(i)?r:{default:()=>[r]});var i})),un(e.append)&&{append:()=>e.append(this.data)}]}),[[S("draggable"),[this.draggable&&{dom:".el-table__body-wrapper tbody",target:".el-table__row",callback:({newIndex:e,oldIndex:t})=>{[this.data[e],this.data[t]]=[this.data[t],this.data[e]]}}].filter(Boolean)]]),this.pagination&&h(f("el-pagination"),x({style:{textAlign:this.paginationAlign}},this.paginationProps,{onSizeChange:e=>{this.paginationProps=Object.assign({},this.paginationProps,{pageSize:e})},onCurrentChange:e=>{this.paginationProps=Object.assign({},this.paginationProps,{currentPage:e})}}),null)])}});var nS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tS});const rS=s({name:"Transfer",componentName:"ManagePCTransfer",__file:"@PC/Transfer",components:{ElTransfer:ie},props:Object.assign({},ie.props,{selectedKeys:{type:Array,default:()=>[]}}),setup(e,{emit:t}){const{transferProps:n,transferRef:i,transferKeys:o}=((e,t,n)=>{const i=c(null),o=r({get:()=>e.selectedKeys,set(e){t("update:selectedKeys",e)}});return{transferProps:r((()=>Object.assign({buttonTexts:["移除","添加"]},CC(e,Object.keys(n.props).filter((e=>"modelValue"!==e)))))),transferRef:i,transferKeys:o}})(e,t,ie);return{transferProps:n,transferRef:i,transferKeys:o}},render(){let e;const t=this.$slots;return h("section",{class:"manage-pc-transfer"},[h(ie,x({modelValue:this.transferKeys,"onUpdate:modelValue":e=>this.transferKeys=e},this.transferProps,{ref:e=>e&&(this.transferRef=e)}),(n=e=Object.assign({},un(t["left-footer"])&&{"left-footer":t["left-footer"]},un(t["right-footer"])&&{"right-footer":t["right-footer"]},un(t.default)&&{default:t.default}),"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!w(n)?e:{default:()=>[e]}))]);var n}});var iS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:rS}),oS=F.defineComponent({name:"ElCollapseTransition",setup:()=>({on:{beforeEnter(e){L.addClass(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){L.removeClass(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&(L.addClass(e,"collapse-transition"),e.style.transitionProperty="height",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){L.removeClass(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}})});oS.render=function(e,t,n,r,i,o){return F.openBlock(),F.createBlock(F.Transition,F.toHandlers(e.on),{default:F.withCtx((()=>[F.renderSlot(e.$slots,"default")])),_:3},16)},oS.__file="packages/transition/collapse-transition/index.vue",oS.install=e=>{e.component(oS.name,oS)};var aS=oS;function sS(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var lS=sS(Object.defineProperty({default:aS},"__esModule",{value:!0})),uS=sS(ae),cS=sS(se);const dS="$treeNodeId",AS=function(e,t){t&&!t[dS]&&Object.defineProperty(t,dS,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},hS=function(e,t){return e?t[e]:t[dS]},fS=e=>{let t=!0,n=!0,r=!0;for(let i=0,o=e.length;i<o;i++){const o=e[i];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(!1!==o.checked||o.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},pS=function(e){if(0===e.childNodes.length)return;const{all:t,none:n,half:r}=fS(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const i=e.parent;i&&0!==i.level&&(e.store.checkStrictly||pS(i))},gS=function(e,t){const n=e.store.props,r=e.data||{},i=n[t];if("function"==typeof i)return i(r,e);if("string"==typeof i)return r[i];if(void 0===i){const e=r[t];return void 0===e?"":e}};let mS=0;class vS{constructor(e){this.id=mS++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=gS(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||AS(this,this.data),!this.data)return;const n=e.defaultExpandedKeys,r=e.key;r&&n&&-1!==n.indexOf(this.key)&&this.expand(null,e.autoExpandParent),r&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||AS(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:gS(this,"children")||[];for(let n=0,r=t.length;n<r;n++)this.insertChild({data:t[n]})}get label(){return gS(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return gS(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((n=>n===e||t&&n.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,n){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof vS)){if(!n){const n=this.getChildren(!0);-1===n.indexOf(e.data)&&(void 0===t||t<0?n.push(e.data):n.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=F.reactive(new vS(e)))instanceof vS&&e.initialize()}e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}insertAfter(e,t){let n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}removeChild(e){const t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}expand(e,t){const n=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||pS(this),n())})):n()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,n,r){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:n,allWithoutDisable:i}=fS(this.childNodes);this.isLeaf||n||!i||(this.checked=!1,e=!1);const o=()=>{if(t){const n=this.childNodes;for(let a=0,s=n.length;a<s;a++){const i=n[a];r=r||!1!==e;const o=i.disabled?i.checked:r;i.setChecked(o,t,!0,r)}const{half:i,all:o}=fS(n);o||(this.checked=o,this.indeterminate=i)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),pS(this)}),{checked:!1!==e});o()}const i=this.parent;i&&0!==i.level&&(n||pS(i))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const n=this.store.props;let r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),n={},r=[];e.forEach(((e,i)=>{const o=e[dS];!!o&&t.findIndex((e=>e[dS]===o))>=0?n[o]={index:i,data:e}:r.push({index:i,data:e})})),this.store.lazy||t.forEach((e=>{n[e[dS]]||this.removeChildByData(e)})),r.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const n=n=>{this.loaded=!0,this.loading=!1,this.childNodes=[],this.doCreateChildren(n,t),this.updateLeafState(),e&&e.call(this,n)};this.store.load(this,n)}}}class yS{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new vS({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,n=this.lazy,r=function(i){const o=i.root?i.root.childNodes:i.childNodes;if(o.forEach((n=>{n.visible=t.call(n,e,n.data,n),r(n)})),!i.visible&&o.length){let e=!0;e=!o.some((e=>e.visible)),i.root?i.root.visible=!1===e:i.visible=!1===e}e&&(!i.visible||i.isLeaf||n||i.expand())};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof vS)return e;const t="object"!=typeof e?e:hS(this.key,e);return this.nodesMap[t]||null}insertBefore(e,t){const n=this.getNode(t);n.parent.insertBefore({data:e},n)}insertAfter(e,t){const n=this.getNode(t);n.parent.insertAfter({data:e},n)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const n=t[e];n&&n.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){void 0!==e.key&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const n=[],r=function(i){(i.root?i.root.childNodes:i.childNodes).forEach((i=>{(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&n.push(i.data),r(i)}))};return r(this),n}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(n){(n.root?n.root.childNodes:n.childNodes).forEach((n=>{n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}updateChildren(e,t){const n=this.nodesMap[e];if(!n)return;const r=n.childNodes;for(let i=r.length-1;i>=0;i--){const e=r[i];this.remove(e.data)}for(let i=0,o=t.length;i<o;i++){const e=t[i];this.append(e,n.data)}}_setCheckedKeys(e,t=!1,n){const r=this._getAllNodes().sort(((e,t)=>t.level-e.level)),i=Object.create(null),o=Object.keys(n);r.forEach((e=>e.setChecked(!1,!1)));for(let a=0,s=r.length;a<s;a++){const n=r[a],s=n.data[e].toString();if(!(o.indexOf(s)>-1)){n.checked&&!i[s]&&n.setChecked(!1,!1);continue}let l=n.parent;for(;l&&l.level>0;)i[l.data[e]]=!0,l=l.parent;if(n.isLeaf||this.checkStrictly)n.setChecked(!0,!1);else if(n.setChecked(!0,!0),t){n.setChecked(!1,!1);const e=function(t){t.childNodes.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(n)}}}setCheckedNodes(e,t=!1){const n=this.key,r={};e.forEach((e=>{r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const n=this.key,r={};e.forEach((e=>{r[e]=!0})),this._setCheckedKeys(n,t,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,n){const r=this.getNode(e);r&&r.setChecked(!!t,n)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const n=e[this.key],r=this.nodesMap[n];this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const n=this.getNode(e);n&&(this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var bS=F.defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=F.inject("NodeInstance"),n=F.inject("RootTree");return()=>{const r=e.node,{data:i,store:o}=r;return e.renderContent?e.renderContent(F.h,{_self:t,node:r,data:i,store:o}):n.ctx.slots.default?n.ctx.slots.default({node:r,data:i}):F.h("span",{class:"el-tree-node__label"},[r.label])}}});function _S(e){const t=F.inject("TreeNodeMap",null),n={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(n),F.provide("TreeNodeMap",n),{broadcastExpanded:t=>{if(e.accordion)for(const e of n.children)e.treeNodeExpand(t)}}}bS.__file="packages/tree/src/tree-node-content.vue";var wS=F.defineComponent({name:"ElTreeNode",components:{ElCollapseTransition:lS.default,ElCheckbox:uS.default,NodeContent:bS},props:{node:{type:vS,default:()=>({})},props:{type:Object,default:()=>({})},renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const{broadcastExpanded:n}=_S(e),r=F.inject("RootTree"),i=F.ref(!1),o=F.ref(!1),a=F.ref(null),s=F.ref(null),l=F.ref(null),{emitter:u}={emitter:F.inject("DragNodeEmitter")},c=F.getCurrentInstance();F.provide("NodeInstance",c),r||console.warn("Can not find node's tree."),e.node.expanded&&(i.value=!0,o.value=!0);const d=r.props.children||"children";F.watch((()=>{const t=e.node.data[d];return t&&[...t]}),(()=>{e.node.updateChildren()})),F.watch((()=>e.node.indeterminate),(t=>{A(e.node.checked,t)})),F.watch((()=>e.node.checked),(t=>{A(t,e.node.indeterminate)})),F.watch((()=>e.node.expanded),(e=>{F.nextTick((()=>i.value=e)),e&&(o.value=!0)}));const A=(t,n)=>{a.value===t&&s.value===n||r.ctx.emit("check-change",e.node.data,t,n),a.value=t,s.value=n},h=()=>{e.node.isLeaf||(i.value?(r.ctx.emit("node-collapse",e.node.data,e.node,c),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,c)))},f=(t,n)=>{e.node.setChecked(n.target.checked,!r.props.checkStrictly),F.nextTick((()=>{const t=r.store.value;r.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))};return{node$:l,tree:r,expanded:i,childNodeRendered:o,oldChecked:a,oldIndeterminate:s,emitter:u,parent:parent,getNodeKey:e=>hS(r.props.nodeKey,e.data),handleSelectChange:A,handleClick:()=>{const t=r.store.value;t.setCurrentNode(e.node),r.ctx.emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),r.currentNode.value=e.node,r.props.expandOnClickNode&&h(),r.props.checkOnClickNode&&!e.node.disabled&&f(null,{target:{checked:!e.node.checked}}),r.ctx.emit("node-click",e.node.data,e.node,c)},handleContextMenu:t=>{r.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),r.ctx.emit("node-contextmenu",t,e.node.data,e.node,c)},handleExpandIconClick:h,handleCheckChange:f,handleChildNodeExpand:(e,t,i)=>{n(t),r.ctx.emit("node-expand",e,t,i)},handleDragStart:t=>{r.props.draggable&&u.emit("tree-node-drag-start",{event:t,treeNode:e})},handleDragOver:t=>{r.props.draggable&&(u.emit("tree-node-drag-over",{event:t,treeNode:{$el:l.value,node:e.node}}),t.preventDefault())},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{r.props.draggable&&u.emit("tree-node-drag-end",e)}}}});const BS={key:1,class:"el-tree-node__loading-icon el-icon-loading"};wS.render=function(e,t,n,r,i,o){const a=F.resolveComponent("el-checkbox"),s=F.resolveComponent("node-content"),l=F.resolveComponent("el-tree-node"),u=F.resolveComponent("el-collapse-transition");return F.withDirectives((F.openBlock(),F.createBlock("div",{ref:"node$",class:["el-tree-node",{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked}],role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[3]||(t[3]=F.withModifiers(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[4]||(t[4]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[5]||(t[5]=F.withModifiers(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[6]||(t[6]=F.withModifiers(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[7]||(t[7]=F.withModifiers(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[8]||(t[8]=F.withModifiers(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[F.createVNode("div",{class:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.props.indent+"px"}},[F.createVNode("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.props.iconClass?e.tree.props.iconClass:"el-icon-caret-right"],onClick:t[1]||(t[1]=F.withModifiers(((...t)=>e.handleExpandIconClick&&e.handleExpandIconClick(...t)),["stop"]))},null,2),e.showCheckbox?(F.openBlock(),F.createBlock(a,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[2]||(t[2]=F.withModifiers((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):F.createCommentVNode("v-if",!0),e.node.loading?(F.openBlock(),F.createBlock("span",BS)):F.createCommentVNode("v-if",!0),F.createVNode(s,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],4),F.createVNode(u,null,{default:F.withCtx((()=>[!e.renderAfterExpand||e.childNodeRendered?F.withDirectives((F.openBlock(),F.createBlock("div",{key:0,class:"el-tree-node__children",role:"group","aria-expanded":e.expanded},[(F.openBlock(!0),F.createBlock(F.Fragment,null,F.renderList(e.node.childNodes,(t=>(F.openBlock(),F.createBlock(l,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","onNodeExpand"])))),128))],8,["aria-expanded"])),[[F.vShow,e.expanded]]):F.createCommentVNode("v-if",!0)])),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key"])),[[F.vShow,e.node.visible]])},wS.__file="packages/tree/src/tree-node.vue";var CS=F.defineComponent({name:"ElTree",components:{ElTreeNode:wS},props:{data:{type:Array},emptyText:{type:String,default:()=>oe.t("el.tree.emptyText")},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const n=F.ref(new yS({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));n.value.initialize();const r=F.ref(n.value.root),i=F.ref(null),o=F.ref(null),a=F.ref(null),{broadcastExpanded:s}=_S(e),{dragState:l}=function({props:e,ctx:t,el$:n,dropIndicator$:r,store:i}){const o=cS.default();F.provide("DragNodeEmitter",o);const a=F.ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return o.on("tree-node-drag-start",(({event:n,treeNode:r})=>{if(console.log(n,r),"function"==typeof e.allowDrag&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(cH){}a.value.draggingNode=r,t.emit("node-drag-start",r.node,n)})),o.on("tree-node-drag-over",(({event:i,treeNode:o})=>{const s=o,l=a.value.dropNode;l&&l!==s&&L.removeClass(l.$el,"is-drop-inner");const u=a.value.draggingNode;if(!u||!s)return;let c=!0,d=!0,A=!0,h=!0;"function"==typeof e.allowDrop&&(c=e.allowDrop(u.node,s.node,"prev"),h=d=e.allowDrop(u.node,s.node,"inner"),A=e.allowDrop(u.node,s.node,"next")),i.dataTransfer.dropEffect=d?"move":"none",(c||d||A)&&l!==s&&(l&&t.emit("node-drag-leave",u.node,l.node,i),t.emit("node-drag-enter",u.node,s.node,i)),(c||d||A)&&(a.value.dropNode=s),s.node.nextSibling===u.node&&(A=!1),s.node.previousSibling===u.node&&(c=!1),s.node.contains(u.node,!1)&&(d=!1),(u.node===s.node||u.node.contains(s.node))&&(c=!1,d=!1,A=!1);const f=s.$el.getBoundingClientRect(),p=n.value.getBoundingClientRect();let g;const m=c?d?.25:A?.45:1:-1,v=A?d?.75:c?.55:0:1;let y=-9999;const b=i.clientY-f.top;g=b<f.height*m?"before":b>f.height*v?"after":d?"inner":"none";const _=s.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),w=r.value;"before"===g?y=_.top-p.top:"after"===g&&(y=_.bottom-p.top),w.style.top=y+"px",w.style.left=_.right-p.left+"px","inner"===g?L.addClass(s.$el,"is-drop-inner"):L.removeClass(s.$el,"is-drop-inner"),a.value.showDropIndicator="before"===g||"after"===g,a.value.allowDrop=a.value.showDropIndicator||h,a.value.dropType=g,t.emit("node-drag-over",u.node,s.node,i)})),o.on("tree-node-drag-end",(e=>{const{draggingNode:n,dropType:r,dropNode:o}=a.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",n&&o){const a={data:n.node.data};"none"!==r&&n.node.remove(),"before"===r?o.node.parent.insertBefore(a,o.node):"after"===r?o.node.parent.insertAfter(a,o.node):"inner"===r&&o.node.insertChild(a),"none"!==r&&i.value.registerNode(a),L.removeClass(o.$el,"is-drop-inner"),t.emit("node-drag-end",n.node,o.node,r,e),"none"!==r&&t.emit("node-drop",n.node,o.node,r,e)}n&&!o&&t.emit("node-drag-end",n.node,null,r,e),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0})),{dragState:a}}({props:e,ctx:t,el$:o,dropIndicator$:a,store:n});!function({el$:e},t){const n=F.ref([]),r=F.ref([]);F.onMounted((()=>{o(),L.on(e.value,"keydown",i)})),F.onBeforeUnmount((()=>{L.off(e.value,"keydown",i)})),F.onUpdated((()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),F.watch(r,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))}));const i=r=>{const i=r.target;if(-1===i.className.indexOf("el-tree-node"))return;const o=r.code;n.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]"));const a=n.value.indexOf(i);let s;if([Q.EVENT_CODE.up,Q.EVENT_CODE.down].indexOf(o)>-1){if(r.preventDefault(),o===Q.EVENT_CODE.up){s=-1===a?0:0!==a?a-1:n.value.length-1;const e=s;for(;!t.value.getNode(n.value[s].dataset.key).canFocus;){if(s--,s===e){s=-1;break}s<0&&(s=n.value.length-1)}}else{s=-1===a?0:a<n.value.length-1?a+1:0;const e=s;for(;!t.value.getNode(n.value[s].dataset.key).canFocus;){if(s++,s===e){s=-1;break}s>=n.value.length&&(s=0)}}-1!==s&&n.value[s].focus()}[Q.EVENT_CODE.left,Q.EVENT_CODE.right].indexOf(o)>-1&&(r.preventDefault(),i.click());const l=i.querySelector('[type="checkbox"]');[Q.EVENT_CODE.enter,Q.EVENT_CODE.space].indexOf(o)>-1&&l&&(r.preventDefault(),l.click())},o=()=>{var t;n.value=Array.from(e.value.querySelectorAll(".is-focusable[role=treeitem]")),r.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const i=e.value.querySelectorAll(".is-checked[role=treeitem]");i.length?i[0].setAttribute("tabindex","0"):null===(t=n.value[0])||void 0===t||t.setAttribute("tabindex","0")}}({el$:o},n);const u=F.computed((()=>{const{childNodes:e}=r.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));F.watch((()=>e.defaultCheckedKeys),(e=>{n.value.setDefaultCheckedKey(e)})),F.watch((()=>e.defaultExpandedKeys),(e=>{n.value.defaultExpandedKeys=e,n.value.setDefaultExpandedKeys(e)})),F.watch((()=>e.data),(e=>{n.value.setData(e)}),{deep:!0}),F.watch((()=>e.checkStrictly),(e=>{n.value.checkStrictly=e}));const c=()=>{const e=n.value.getCurrentNode();return e?e.data:null};return F.provide("RootTree",{ctx:t,props:e,store:n,root:r,currentNode:i,instance:F.getCurrentInstance()}),{store:n,root:r,currentNode:i,dragState:l,el$:o,dropIndicator$:a,isEmpty:u,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");n.value.filter(t)},getNodeKey:t=>hS(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const i=n.value.getNode(t);if(!i)return[];const o=[i.data];let a=i.parent;for(;a&&a!==r.value;)o.push(a.data),a=a.parent;return o.reverse()},getCheckedNodes:(e,t)=>n.value.getCheckedNodes(e,t),getCheckedKeys:e=>n.value.getCheckedKeys(e),getCurrentNode:c,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=c();return t?t[e.nodeKey]:null},setCheckedNodes:(t,r)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");n.value.setCheckedNodes(t,r)},setCheckedKeys:(t,r)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");n.value.setCheckedKeys(t,r)},setChecked:(e,t,r)=>{n.value.setChecked(e,t,r)},getHalfCheckedNodes:()=>n.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>n.value.getHalfCheckedKeys(),setCurrentNode:(t,r=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");n.value.setUserCurrentNode(t,r)},setCurrentKey:(t,r=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");n.value.setCurrentNodeKey(t,r)},getNode:e=>n.value.getNode(e),remove:e=>{n.value.remove(e)},append:(e,t)=>{n.value.append(e,t)},insertBefore:(e,t)=>{n.value.insertBefore(e,t)},insertAfter:(e,t)=>{n.value.insertAfter(e,t)},handleNodeExpand:(e,n,r)=>{s(n),t.emit("node-expand",e,n,r)},updateKeyChildren:(t,r)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");n.value.updateChildren(t,r)}}}});const ES={key:0,class:"el-tree__empty-block"},TS={class:"el-tree__empty-text"},SS={ref:"dropIndicator$",class:"el-tree__drop-indicator"};CS.render=function(e,t,n,r,i,o){const a=F.resolveComponent("el-tree-node");return F.openBlock(),F.createBlock("div",{ref:"el$",class:["el-tree",{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType}],role:"tree"},[(F.openBlock(!0),F.createBlock(F.Fragment,null,F.renderList(e.root.childNodes,(t=>(F.openBlock(),F.createBlock(a,{key:e.getNodeKey(t),node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?(F.openBlock(),F.createBlock("div",ES,[F.createVNode("span",TS,F.toDisplayString(e.emptyText),1)])):F.createCommentVNode("v-if",!0),F.withDirectives(F.createVNode("div",SS,null,512),[[F.vShow,e.dragState.showDropIndicator]])],2)},CS.__file="packages/tree/src/tree.vue",CS.install=e=>{e.component(CS.name,CS)};var kS=CS;const xS=function(){return{onNodeClick:(e,t)=>{this.$emit("node-click",e,t,this.treeRef)},onNodeDrop:(e,t,n,r)=>{this.$emit("node-drop",e,t,n,r)},onNodeDragEnd:(e,t,n,r)=>{this.$emit("node-drag-end",e,t,n,r)},onNodeDragOver:(e,t,n)=>{this.$emit("node-drag-over",e,t,n)},onNodeDragLeave:(e,t,n)=>{this.$emit("node-drag-leave",e,t,n)},onNodeDragEnter:(e,t,n)=>{this.$emit("node-drag-enter",e,t,n)},onNodeDragStart:(e,t)=>{this.$emit("node-drag-start",e,t)},onNodeCollapse:(e,t)=>{this.$emit("node-collapse",e,t,this.treeRef)},onNodeExpand:(e,t)=>{this.$emit("node-expand",e,t,this.treeRef)},onCurrentChange:(e,t)=>{this.$emit("current-change",e,t)},onCheck:(e,t)=>{var n;this.single&&(null==(n=this.treeRef)?void 0:n.setCheckedKeys)&&this.treeRef.setCheckedKeys(t.checkedKeys.length>0?[e.id]:[]),this.$emit("check",e,t)},onCheckChange:(e,t,n)=>{this.$emit("check-change",e,t,n)},onNodeContextmenu:(e,t,n)=>{this.$emit("node-context-menu",e,t,n,this.treeRef)}}};const OS=function(e,t){return t.hasOwnProperty("editLabel")||(t.editLabel=!1),h("div",{class:"node-content"},[h("span",{class:{label:!0,readonly:!this.editable||!t.editLabel}},[un(this.$slots.node)?this.$slots.node({node:e,data:t}):h(f("el-input"),{modelValue:Yi(t[this.props.label]),"onUpdate:modelValue":e=>t[this.props.label]=e,placeholder:Yi("please.input.something"),size:"mini",onClick:e=>{e.stopPropagation(),t.editLabel=!0},onBlur:()=>t.editLabel=!1,readonly:!this.editable||!t.editLabel},null)]),this.editable&&h("span",{class:"edit-buttons"},[h(f("el-dropdown"),{onCommand:n=>this.addTreeNode(e,t,n),trigger:"click"},{default:()=>h(f("el-button"),{icon:"el-icon-plus",type:"text",title:"添加节点",onClick:e=>e.stopPropagation()},null),dropdown:()=>h(f("el-tooltip"),{placement:"right",effect:"light"},{default:()=>{let e;return h(f("el-dropdown-menu"),null,"function"==typeof(t=e=this.treeNodeAdd.map((e=>h(f("el-dropdown-item"),{command:e.command,key:e.command,icon:e.icon},{default:()=>[e.desc]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!w(t)?e:{default:()=>[e]});var t},content:()=>h(p,null,[h("p",{class:"flex-row"},[h("span",null,[Yi(this.nodeKey),E("：")]),h(f("el-input"),{modelValue:t[`new${this.nodeKey}`],"onUpdate:modelValue":e=>t[`new${this.nodeKey}`]=e,placeholder:Yi("please.input.something"),size:"mini"},null)]),h("p",{class:"flex-row"},[h("span",null,[Yi(this.props.label),E("：")]),h(f("el-input"),{modelValue:t[`new${this.props.label}`],"onUpdate:modelValue":e=>t[`new${this.props.label}`]=e,placeholder:Yi("please.input.something"),size:"mini"},null)])])})}),h(f("el-button"),{icon:"el-icon-minus",type:"text",title:"移除节点",onClick:t=>this.removeTreeNode(t,e)},null)])])},US=s({name:"Tree",componentName:"ManagePCTree",components:{ElTree:kS},props:Object.assign({},kS.props,{showSearch:{type:Boolean,default:!1},single:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}}),setup(e){const{treeProps:t,treeRef:n,searchValue:i,topPopoverShow:o,newNode:a,addFirstLayerNode:s}=((e,t)=>{const n=c(null),i=c(""),o=c(!1),a=c({[e.nodeKey]:"",[e.props.label]:"",[e.props.children]:[],editLabel:!1}),s=r((()=>Object.assign({defaultExpandKeys:e.data.map((t=>t[e.nodeKey])),emptyText:"暂无数据"},CC(e,Object.keys(t.props)),{checkStrictly:e.single,checkOnClickNode:!0,expandOnClickNode:!1,filterNodeMethod:(t,n,r)=>{var i,o;return n[null==(i=e.props)?void 0:i.label].includes(t)||t.includes(n[null==(o=e.props)?void 0:o.label])}})));return d((()=>i.value),XA.debounce((()=>{var e;(null==(e=n.value)?void 0:e.filter)&&n.value.filter(i.value)}),500)),{treeProps:s,treeRef:n,searchValue:i,topPopoverShow:o,newNode:a,addFirstLayerNode:()=>{var t;s.value.data.push(hh(le(a.value))),(null==(t=n.value)?void 0:t.updateKeyChildren)&&n.value.updateKeyChildren(a.value[e.nodeKey],[]),a.value.id="",a.value.label="",o.value=!1}}})(e,kS),{addTreeNode:l,treeNodeAdd:u,removeTreeNode:A}=((e,t)=>({treeNodeAdd:[{command:"before",icon:"el-icon-top",desc:"节点前"},{command:"inner",icon:"el-icon-bottom-right",desc:"节点内"},{command:"after",icon:"el-icon-bottom",desc:"节点后"}],addTreeNode:(n,r,i)=>{var o,a,s,l;const u={[e.nodeKey]:r[`new${e.nodeKey}`],[e.props.label]:r[`new${e.props.label}`],editLabel:!1,[e.props.children]:[]};switch(i){case"before":(null==(o=t.value)?void 0:o.insertBefore)&&t.value.insertBefore(u,r);break;case"inner":(null==(a=t.value)?void 0:a.append)&&t.value.append(u,r),n.expanded=!0;break;case"after":(null==(s=t.value)?void 0:s.insertAfter)&&t.value.insertAfter(u,r)}delete r[`new${e.nodeKey}`],delete r[`new${e.props.label}`],(null==(l=t.value)?void 0:l.updateKeyChildren)&&t.value.updateKeyChildren(u[e.nodeKey],u[e.props.children])},removeTreeNode:(e,n)=>{var r;oA(e),(null==(r=t.value)?void 0:r.remove)&&t.value.remove(n)}}))(e,n);return{treeProps:t,treeRef:n,searchValue:i,addTreeNode:l,treeNodeAdd:u,removeTreeNode:A,topPopoverShow:o,newNode:a,addFirstLayerNode:s}},render(){const e=this.$slots;return h("section",{class:"manage-pc-tree-page"},[h("header",{class:"manage-pc-tree-head"},[this.showSearch&&h(f("el-input"),{"suffix-icon":"el-icon-search",size:"small",placeholder:Yi("please.input.something"),modelValue:this.searchValue,"onUpdate:modelValue":e=>this.searchValue=e},null),this.editable&&h(f("el-popover"),{visible:this.topPopoverShow,"onUpdate:visible":e=>this.topPopoverShow=e,trigger:"click",width:"fit-content",placement:"right","show-arrow":!1},{default:()=>h(p,null,[h("p",{class:"flex-row"},[h("span",null,[Yi(this.nodeKey),E("：")]),h(f("el-input"),{placeholder:Yi("please.input.something"),size:"mini",modelValue:this.newNode[this.nodeKey],"onUpdate:modelValue":e=>this.newNode[this.nodeKey]=e},null)]),h("p",{class:"flex-row"},[h("span",null,[Yi(this.props.label),E("：")]),h(f("el-input"),{placeholder:Yi("please.input.something"),size:"mini",modelValue:this.newNode[this.props.label],"onUpdate:modelValue":e=>this.newNode[this.props.label]=e},null)]),h("p",{class:"flex-row"},[h(f("el-button"),{type:"success",size:"mini",onClick:this.addFirstLayerNode},{default:()=>[E("确定")]})])]),reference:()=>h(f("el-button"),{type:"success",circle:!0,style:"min-height: 0",icon:"el-icon-plus",size:"mini",title:"添加节点"},null)})]),h(kS,x(this.treeProps,{class:{single:this.single},ref:e=>e&&(this.treeRef=e)},xS.call(this)),{default:({node:t,data:n})=>un(e.default)?e.default({node:t,data:n}):OS.call(this,t,n)})])}});var NS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:US});class IS{constructor(){this.isBrowser=!1,this.templateFile=(e="",t="",n="",r=!0)=>`<template>\n      <div>\n        ${e}\n      </div>\n</template>\n\n<script>\n${r?`import { defineComponent } from 'vue'\n${t}\nexport default defineComponent({\n    name: 'RenderUi',\n    components: {\n      ${n}\n    },\n    props: {},\n    setup (props, context) {\n        return {\n\n        }\n    }\n})`:`${t}\nexport default {\n    name: 'RenderUi',\n    props: {},\n    components: {\n      ${n}\n    },\n    data () {\n        return {\n\n        }\n    },\n    created () {\n\n    },\n    mounted () {\n\n    },\n    methods: {\n\n    },\n}`}\n<\/script>\n\n<style scoped lang="less">\n      \n</style>\n`,this.htmlFile=(e="",t="")=>`<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta\n        name="viewport"\n        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"\n    />\n    <link rel="stylesheet" href="https://unpkg.com/element-plus/lib/theme-chalk/index.css" />\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vant@next/lib/index.css" />\n    <title>${t}</title>\n    <style>\n\n    </style>\n  </head>\n  <body>\n    ${e}\n  </body>\n  <script><\/script>\n</html>\n`,this.isBrowser="undefined"!=typeof window}generateFile(e){const t=Object.assign({name:"test",domstr:"",composition:!0,source:!0,renderStr:"",importStr:"",componentStr:""},e);t.source?fA(new Blob([this.templateFile(t.renderStr,t.importStr,t.componentStr,t.composition)]),t.name,".vue"):fA(new Blob([this.htmlFile(t.domstr,t.name)]),t.name,".html")}}const FS=["el","van"],LS=e=>FS.some((t=>e.toLowerCase().startsWith(t))),PS=(e,t,n,r)=>{const i=LS(e)?e.replace(/([A-Z])/g,"-$1").toLowerCase().slice(1):e;let o=`<${i} `;(on(r)?Object.keys(r).filter((e=>e.startsWith("update:"))):[]).forEach((e=>{const n=e.slice(e.lastIndexOf(":")+1);o+=`\nv-model${"modelValue"===n?"":":"+n}=""\n`,delete t[n]}));const a=ch(t);return Object.keys(t).length>0&&(o+=`v-bind="${a}">`),on(n)&&Object.keys(n).length>0&&Object.entries(n).forEach((([e,t])=>{un(t)?o+=`\n<template v-slot:${e}>\n${t()}</template>\n`:["key","prop","slots","emits"].every((e=>t.hasOwnProperty(e)))&&(o+=`\n<template v-slot:${e}>\n${PS(t.key,t.prop,t.slots,t.emits)}\n</template>\n`)})),[">"," "].includes(o[o.length-1])?o=o.slice(0,o.length-1)+" />":o+=`</${i}>`,o};let QS;const DS=s({name:"UIRenderHead",componentName:"ManageUIRenderHead",props:{renderStr:{type:Array,default:()=>[]},importStr:{type:Array,default:()=>[]}},setup(e){const{proxy:{$message:t}}=y(),{generateVue:n,generateHTML:r}=((e,t)=>({generateVue:(n,r)=>{var i;rn(n)?(QS.generateFile({name:n,composition:r,renderStr:e.renderStr.map((e=>PS(e.key,e.prop,e.slots,e.emits))).join("\n"),importStr:e.importStr.filter(rn).map((e=>e.includes("{")?((e,t)=>{switch("{"){case"(":return e.replaceAll("(","( ").replaceAll(")"," )");case"{":return e.replaceAll("{","{ ").replaceAll("}"," }");case"[":return e.replaceAll("[","[ ").replaceAll("]"," ]");default:return e}})(e):e)).join("\n"),componentStr:(i=e.importStr,i.filter(rn).map((e=>`${e.split(" ")[1].replaceAll("{","").replaceAll("}","")}`)).join(",\n\t  "))}),n=""):t.error(Yi("please.input.something"))},generateHTML:e=>{var n;rn(e)?(QS.generateFile({name:e,domstr:null==(n=document.querySelector(".ui-render-content .render-panel"))?void 0:n.innerHTML,composition:!1,source:!1}),e=""):t.error(Yi("please.input.something"))}}))(e,t),i=c(""),o=c(!0),a=c("");return g((()=>{QS=new IS})),k((()=>{QS=null})),{generateVue:n,generateHTML:r,vueName:i,vueType:o,htmlName:a}},render(){return h("header",{class:"ui-render-head-tool"},[h(f("el-button"),{onClick:()=>this.$emit("reset")},{default:()=>[E("重置")]}),h(f("el-popover"),{trigger:"click",placement:"top",width:300,"popper-class":"source-config-popover"},{default:()=>h(p,null,[h("div",{class:"input-row"},[h("span",{class:"label-key"},[E("文件名：")]),h("div",{class:"content"},[h(f("el-input"),{modelValue:this.vueName,"onUpdate:modelValue":e=>this.vueName=e,clearable:!0,size:"small",placeholder:Yi("please.input.something")},null)])]),h("div",{class:"input-row"},[h("span",{class:"label-key"},[E("类型：")]),h("div",{class:"content"},[h(f("el-radio"),{modelValue:this.vueType,"onUpdate:modelValue":e=>this.vueType=e,label:!0},{default:()=>[E("Composition")]}),h(f("el-radio"),{modelValue:this.vueType,"onUpdate:modelValue":e=>this.vueType=e,label:!1},{default:()=>[E("Options")]})])]),h("div",{style:"text-align: center"},[h(f("el-button"),{type:"primary",size:"small",onClick:()=>this.generateVue(this.vueName,this.vueType)},{default:()=>[E("确定")]})])]),reference:()=>h(f("el-button"),{type:"success"},{default:()=>[E("保存源码")]})}),h(f("el-popover"),{trigger:"click",placement:"top",width:250},{default:()=>h("div",{style:"display: flex; justify-content: space-between; align-item: center"},[h(f("el-input"),{modelValue:this.htmlName,"onUpdate:modelValue":e=>this.htmlName=e,clearable:!0,size:"small",placeholder:Yi("please.input.something")},null),h(f("el-button"),{type:"primary",size:"small",style:"margin-left: 20px;",onClick:()=>this.generateHTML(this.htmlName)},{default:()=>[E("确定")]})]),reference:()=>h(f("el-button"),{type:"primary"},{default:()=>[E("保存构建后代码")]})})])}});var MS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:DS}),RS=["ElMenuItem","ElSubmenu","ElMenuItemGroup","SubMenus","UploadList","FilePreview","ElCarouselItem","ElColorPicker","ElDropdownMenu","ElOption","ElBreadcrumbItem","ElCalendar","MobileSteps","Steps"];const HS=s({name:"ComponentTools",componentName:"ManageComponentTools",setup(){let e;const{components:t,listLoad:n,componentKeys:r}=(()=>{const{appContext:{components:e}}=y(),t=[...new Set(Object.keys(e).map(pA).filter((e=>!RS.includes(e))))];let n=0;const r=c(t.slice(0,20));return{componentKeys:r,listLoad:()=>{n+=1;const e=20*n,i=Math.min(20*(n+1),t.length);r.value=r.value.concat(t.slice(e,i))},components:e}})();return g((()=>{e=new lA(document.getElementById("last-component"),(([e])=>{e.isIntersecting&&n()}))})),k((()=>{e.disconnect(),e=null})),{components:t,listLoad:n,componentKeys:r}},render(){return h("ul",{class:"infinite-component-list",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[this.componentKeys.map((e=>{const t=le(f(e));let n;return h("li",{title:Yi(e),onClick:()=>{this.$emit("render",e,t,n)}},[h("span",{class:"component-key"},[Yi(e)]),h("div",{class:"component-img"},[h(t,x(EC(t.props),{ref:e=>e&&(n=e)}),null)])])})),h("li",{id:"last-component",style:"height: 0;border: none"},null)])}});var jS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:HS});function KS(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)}const VS=(e,t)=>{let n,r;switch(sn(e[t])){case"String":case"Number":return h("div",{class:"prop-value"},[h(f("el-input"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,clearable:!0,placeholder:Yi("please.input.something")},null)]);case"Boolean":return h("div",{class:"prop-value"},[h(f("el-radio"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,label:!0},KS(n=Yi("true"))?n:{default:()=>[n]}),h(f("el-radio"),{modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,label:!1},KS(r=Yi("false"))?r:{default:()=>[r]})]);case"Array":return h(GT,{json:e[t]},null);case"Function":return h("div",{class:"prop-value"},[h(f("el-input"),{type:"textarea",modelValue:e[t],"onUpdate:modelValue":n=>e[t]=n,autosize:{minRows:6,maxRows:10},clearable:!0,placeholder:Yi("please.input.something")},null)]);case"Object":return h(GT,{json:e[t]},null);default:return null}},zS=e=>{const t=c(0),n=c(0),r=c(!1),i=c({id:""}),o=[{title:"remove component",click:()=>{a(e.renderStr,i.value.id)}}],a=(e,t)=>{if(Array.isArray(e)){const n=e.findIndex((e=>e.id===t));n>-1&&e.splice(n,1)}},s=()=>{var t;t=e.renderStr,Array.isArray(t)&&t.forEach((e=>{e.showConfig=!1}))};return{renderComponent:()=>{const o=e=>Array.isArray(e)?e.map((e=>(e.hasOwnProperty("showConfig")||(e.showConfig=!1),h(f("el-popover"),{trigger:"manual",placement:"right",visible:e.showConfig,"onUpdate:visible":t=>e.showConfig=t,offset:-200,title:Yi(e.key),"popper-class":"component-config-popover"},{reference:()=>h("div",{style:"width: fit-content;",onContextmenu:o=>{const{clientX:a,clientY:s}=o;t.value=s,n.value=a,r.value=!0,i.value=e},onClick:t=>{t.stopPropagation(),s(),e.showConfig=!0,i.value=e}},[h(e.component,x(e.prop,{style:"pointer-events: none"}),{default:()=>[on(e.slots)&&Object.entries(e.slots).reduce(((e,[t,n])=>(un(n)?e[t]=n:on(n)&&(e[t]=o(Object.values(n))),e)),{})]})]),default:()=>(e=>{let t;return h(f("el-tabs"),{type:"border-card",modelValue:e.tab,"onUpdate:modelValue":t=>e.tab=t},{default:()=>[h(f("el-tab-pane"),{name:"prop",label:"组件配置"},KS(t=Object.keys(e.prop).map((t=>h("div",{class:"input-row"},[h("span",{title:Yi(t),class:"prop-key"},[Yi(t)]),VS(e.prop,t)]))))?t:{default:()=>[t]}),h(f("el-tab-pane"),{name:"style",label:"样式配置"},{default:()=>[h(f("el-input"),{type:"textarea",modelValue:e.style,"onUpdate:modelValue":t=>e.style=t,autosize:{minRows:10,maxRows:20}},null)]}),on(e.slots)&&Object.keys(e.slots).length>0&&h(f("el-tab-pane"),{name:"slots",label:"子组件"},{default:()=>[h("div",null,[E("子组件")])]})]})})(e)})))):e;return o(e.renderStr)},removeComponent:a,rightMenus:o,top:t,left:n,visible:r,current:i,closePopover:e=>{e.stopPropagation(),i.value.showConfig=!1}}},qS=s({name:"UIRenderContent",componentsName:"ManageUIRenderContent",components:{RightContextMenu:s(xA),JsonEditor:s(GT)},props:{renderStr:{type:Array,default:()=>[]}},setup(e){const{renderComponent:t,rightMenus:n,top:r,left:i,visible:o,current:a,closePopover:s}=zS(e);return g((()=>{document.addEventListener("click",s)})),k((()=>{document.removeEventListener("click",s)})),{renderComponent:t,rightMenus:n,top:r,left:i,visible:o,current:a}},render(){return h("section",{class:"ui-render-content",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[h("div",{class:"render-panel"},[this.renderComponent()]),h(f("right-context-menu"),x({visible:this.visible,"onUpdate:visible":e=>this.visible=e},{top:this.top,left:this.left,menus:this.rightMenus}),null)])}});var WS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qS});const GS=s({name:"ComponentNode",componentName:"ManageComponentNode",components:{Tree:s(US),RightContextMenu:s(xA)},props:{renderStr:{type:Array,default:()=>[]}},setup(e){const{visible:t,treeNodeRightClick:n,top:r,left:i,rightMenus:o}=(e=>{const t=c(!1),n=c({}),r=c(0),i=c(0);return{visible:t,treeNodeRightClick:(e,o,a,s)=>{const{clientX:l,clientY:u}=e;r.value=u,i.value=l,n.value=o,t.value=!0},current:n,top:r,left:i,rightMenus:[{title:"remove component",click:()=>{const t=e.renderStr.findIndex((e=>e.id===n.value.id));t>-1&&e.renderStr.splice(t,1)}}]}})(e);return{visible:t,treeNodeRightClick:n,top:r,left:i,rightMenus:o}},render(){return h(p,null,[h(US,{data:this.renderStr,showSearch:!0,"node-key":"id","empty-text":"暂无节点",onNodeContextMenu:this.treeNodeRightClick,props:{label:"key",children:"slots"}},null),h(xA,{visible:this.visible,"onUpdate:visible":e=>this.visible=e,top:this.top,left:this.left,menus:this.rightMenus},null)])}});var XS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:GS});const JS=()=>{const e=c([]),t=c({});return{vueRenderStr:e,vueScriptStr:t,handleComponentClick:(n,r,o)=>{t.value[n]=((e,t)=>t.__file?LS(e)?"":`import ${e} from '${t.__file}'`:`import ${e} from '@/components'`)(n,r),e.value.push({component:ue(r),prop:i(hh(le(o.$props))),key:n,slots:i(hh(le(o.$slots))),emits:i(hh(le(r.__emits))),tab:"prop",id:gA()})}}},YS=s({name:"UIRender",componentName:"ManageUIRender",components:{UiRenderHead:DS,UiRenderTool:HS,UiRenderContent:qS,UiRenderTree:GS},setup(){const{vueRenderStr:e,vueScriptStr:t,handleComponentClick:n}=JS();return{vueRenderStr:e,vueScriptStr:t,handleComponentClick:n}},render(){return h("section",{class:"manage-ui-render-page"},[h("div",{class:"ui-render-tree"},[h(f("ui-render-tree"),{renderStr:this.vueRenderStr},null)]),h("div",{class:"ui-render-show"},[h(f("ui-render-head"),{renderStr:this.vueRenderStr,importStr:Object.values(this.vueScriptStr),onReset:()=>{this.vueRenderStr=[],this.vueScriptStr={}}},null),h(f("ui-render-content"),{renderStr:this.vueRenderStr},null)]),h("div",{class:"ui-render-right-tools"},[h(f("ui-render-tool"),{onRender:this.handleComponentClick},null)])])}});var $S,ZS=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:YS}),ek="undefined"!=typeof window?window:void 0!==N?N:"undefined"!=typeof self?self:{},tk=ce(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),nk=void 0!==N?N:"undefined"!=typeof window?window:{};"undefined"!=typeof document?$S=document:($S=nk["__GLOBAL_DOCUMENT_CACHE@4"])||($S=nk["__GLOBAL_DOCUMENT_CACHE@4"]=tk);var rk=$S;function ik(){return(ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ok(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(e,t){return(ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ak(e,t)}var lk=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]};var uk=B((function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
   * Programatically add the following
   */
for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]})),ck="undefined"!=typeof window?window:void 0!==N?N:"undefined"!=typeof self?self:{},dk=B((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})),Ak=function(e){if(!e)return!1;var t=hk.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}
/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */,hk=Object.prototype.toString;var fk=mk,pk=mk;function gk(e,t,n){var r=e;return Ak(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=dk({},t,{uri:e}),r.callback=n,r}function mk(e,t,n){return vk(t=gk(e,t,n))}function vk(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(cH){}return null}(l),p)try{e=JSON.parse(e)}catch(cH){}return e}function i(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,g)}function o(){if(!s){var t;clearTimeout(u),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var i=g,o=null;return 0!==t?(i={body:r(),statusCode:t,method:d,headers:{},url:c,rawRequest:l},l.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var a,s,l=e.xhr||null;l||(l=e.cors||e.useXDR?new mk.XDomainRequest:new mk.XMLHttpRequest);var u,c=l.url=e.uri||e.url,d=l.method=e.method||"GET",A=e.body||e.data,h=l.headers=e.headers||{},f=!!e.sync,p=!1,g={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:l};if("json"in e&&!1!==e.json&&(p=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),A=JSON.stringify(!0===e.json?A:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(o,0)},l.onload=o,l.onerror=i,l.onprogress=function(){},l.onabort=function(){s=!0},l.ontimeout=i,l.open(d,c,!f,e.username,e.password),f||(l.withCredentials=!!e.withCredentials),!f&&e.timeout>0&&(u=setTimeout((function(){if(!s){s=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),l.setRequestHeader)for(a in h)h.hasOwnProperty(a)&&l.setRequestHeader(a,h[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(A||null),l}mk.XMLHttpRequest=ck.XMLHttpRequest||function(){},mk.XDomainRequest="withCredentials"in new mk.XMLHttpRequest?mk.XMLHttpRequest:ck.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){mk["delete"===e?"del":e]=function(t,n,r){return(n=gk(t,n,r)).method=e.toUpperCase(),vk(n)}})),fk.default=pk;var yk=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function bk(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function _k(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function wk(){this.values=yk(null)}function Bk(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function Ck(e,t,n){var r=e;function i(){var t=_k(e);if(null===t)throw new bk(bk.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.substr(0,3))throw new bk(bk.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),o(),t.endTime=i(),o(),function(e,t){var r=new wk;Bk(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(cH){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(cH){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(cH){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}bk.prototype=yk(Error.prototype),bk.prototype.constructor=bk,bk.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},wk.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Ek=rk.createElement&&rk.createElement("textarea"),Tk={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Sk={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},kk={v:"title",lang:"lang"},xk={rt:"ruby"};function Ok(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(t,n){var r=Tk[t];if(!r)return null;var i=e.document.createElement(r),o=kk[t];return o&&n&&(i[o]=n.trim()),i}for(var i,o,a,s,l=e.document.createElement("div"),u=l,c=[];null!==(i=n());)if("<"!==i[0])u.appendChild(e.document.createTextNode((o=i,Ek.innerHTML=o,o=Ek.textContent,Ek.textContent="",o)));else{if("/"===i[1]){c.length&&c[c.length-1]===i.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d,A=_k(i.substr(1,i.length-2));if(A){d=e.document.createProcessingInstruction("timestamp",A),u.appendChild(d);continue}var h=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(d=r(h[1],h[3])))continue;if(a=u,xk[(s=d).localName]&&xk[s.localName]!==a.localName)continue;if(h[2]){var f=h[2].split(".");f.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(Sk.hasOwnProperty(n)){var r=t?"background-color":"color",i=Sk[n];d.style[r]=i}})),d.className=f.join(" ")}c.push(h[1]),u.appendChild(d),u=d}return l}var Uk=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Nk(e){for(var t=0;t<Uk.length;t++){var n=Uk[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function Ik(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(Nk(n.charCodeAt(o)))return"rtl";return"ltr"}function Fk(){}function Lk(e,t,n){Fk.call(this),this.cue=t,this.cueDiv=Ok(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:Ik(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Pk(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function Qk(e,t,n,r){var i=new Pk(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(a),d=n[l]+u,A=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/u)*u),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(A,c)}else{var h=i.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new Pk(t)}var f=function(e,t){for(var i,o=new Pk(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new Pk(e),a=l),e=new Pk(o)}return i||o}(i,s);t.move(f.toCSSCompatValues(n))}function Dk(){}Fk.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},Fk.prototype.formatStyle=function(e,t){return 0===e?0:e+t},Lk.prototype=yk(Fk.prototype),Lk.prototype.constructor=Lk,Pk.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Pk.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Pk.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Pk.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Pk.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Pk.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Pk.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Pk.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},Dk.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Dk.convertCueToDOMTree=function(e,t){return e&&t?Ok(e,t):null};Dk.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=Pk.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new Lk(e,s,a),r.appendChild(n.div),Qk(0,n,o,i),s.displayState=n.div,i.push(Pk.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},Dk.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},Dk.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof bk))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?Bk(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new wk;Bk(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",_k(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):Bk(e,(function(e,n){switch(e){case"Region":!function(e){var n=new wk;if(Bk(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new wk;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(i=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new bk(bk.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?r(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(cH){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{Ck(i,t.cue,t.regionList)}catch(cH){t.reportOrThrowError(cH),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(cH){t.reportOrThrowError(cH),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new bk(bk.Errors.BadSignature)}catch(cH){e.reportOrThrowError(cH)}return e.onflush&&e.onflush(),this}};var Mk=Dk,Rk={"":1,lr:1,rl:1},Hk={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function jk(e){return"string"==typeof e&&(!!Hk[e.toLowerCase()]&&e.toLowerCase())}function Kk(e,t,n){this.hasBeenReset=!1;var r="",i=!1,o=e,a=t,s=n,l=null,u="",c=!0,d="auto",A="start",h="auto",f="auto",p=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(e){r=""+e}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(e){i=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");a=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(e){s=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"==typeof e&&!!Rk[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(e){c=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return A},set:function(e){var t=jk(e);t?(A=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");h=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=jk(e);t?(f=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");p=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=jk(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}Kk.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Vk=Kk,zk={"":!0,up:!0};function qk(e){return"number"==typeof e&&e>=0&&e<=100}var Wk=function(){var e=100,t=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!qk(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!qk(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!qk(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!qk(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!qk(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=function(e){return"string"==typeof e&&!!zk[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):a=t}}})},Gk=B((function(e){var t=e.exports={WebVTT:Mk,VTTCue:Vk,VTTRegion:Wk};ek.vttjs=t,ek.WebVTT=t.WebVTT;var n=t.VTTCue,r=t.VTTRegion,i=ek.VTTCue,o=ek.VTTRegion;t.shim=function(){ek.VTTCue=n,ek.VTTRegion=r},t.restore=function(){ek.VTTCue=i,ek.VTTRegion=o},ek.VTTCue||t.shim()}));function Xk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(cH){return!1}}function Jk(e,t,n){return(Jk=Xk()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ak(i,n.prototype),i}).apply(null,arguments)}var Yk=B((function(e,t){var n,r,i,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(d)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a})),$k="undefined"!=typeof window?window:void 0!==N?N:"undefined"!=typeof self?self:{},Zk=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=$k.location&&$k.location.href||"");var n="function"==typeof $k.URL,r=/^\/\//.test(e),i=!$k.location&&!/\/\//i.test(e);if(n?e=new $k.URL(e,$k.location||"http://example.com"):/\/\//i.test(e)||(e=Yk.buildAbsoluteURL($k.location&&$k.location.href||"",e)),n){var o=new URL(t,e);return i?o.href.slice("http://example.com".length):r?o.href.slice(o.protocol.length):o.href}return Yk.buildAbsoluteURL(e,t)},ex=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function tx(e){for(var t,n=(t=e,$k.atob?$k.atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}
/*! @name m3u8-parser @version 4.5.2 @license Apache-2.0 */var nx=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return sk(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(ex),rx=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},ix=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}sk(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=rx(t[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],l=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=rx(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=rx(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=rx(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=rx(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(ex),ox=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new nx,t.parseStream=new ix,t.lineStream.pipe(t.parseStream);var n,r,i=ok(t),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var c=0;return t.parseStream.on("data",(function(e){var t,d;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=c)),"offset"in e&&(a.byterange=t,t.offset=e.offset),c=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:tx(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,u=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(a.attributes||(a.attributes={}),ik(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(d={default:/yes/i.test(e.attributes.DEFAULT)}).default?d.autoselect=!0:d.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(d.language=e.attributes.LANGUAGE),e.attributes.URI&&(d.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(d.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(d.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(d.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=d}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||s).call(i)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=u,n&&(a.map=n),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}sk(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(ex),ax=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,sx=/^application\/dash\+xml/i,lx=function(e){return ax.test(e)?"hls":sx.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},ux="undefined"!=typeof window?window:void 0!==N?N:"undefined"!=typeof self?self:{},cx={entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},dx=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Ax=new RegExp("[\\-\\.0-9"+dx.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),hx=new RegExp("^"+dx.source+Ax.source+"*(?::"+dx.source+Ax.source+"*)?$");function fx(){}function px(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function gx(e,t,n,r,i,o){for(var a,s=++t,l=0;;){var u=e.charAt(s);switch(u){case"=":if(1===l)a=e.slice(t,s),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(o.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");c=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,c,t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');c=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,c,t),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,s)),s;case">":switch(l){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=e.slice(t,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===l&&(c=a),4==l?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(l){case 0:n.setTagName(e.slice(t,s)),l=6;break;case 1:a=e.slice(t,s),l=2;break;case 4:var c=e.slice(t,s).replace(/&#?\w+;/g,i);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,t);case 5:l=6}else switch(l){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,l=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:l=1,t=s;break;case 3:l=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function mx(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,l=a.value;if((A=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,A),c=s.slice(A+1),d="xmlns"===u&&c;else c=s,u=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==i&&(i={},bx(n,n={})),n[d]=i[d]=l,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,l))}for(o=e.length;o--;){(u=(a=e[o]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]))}var A;(A=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,A),c=e.localName=r.slice(A+1)):(u=null,c=e.localName=r);var h=e.uri=n[u||""];if(t.startElement(h,c,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,c,r),i)for(u in i)t.endPrefixMapping(u)}function vx(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function yx(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function bx(e,t){for(var n in e)t[n]=e[n]}function _x(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],l=!1,u=!1;a>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],u=a>4&&o[4][0]):/^system$/i.test(o[2][0])&&(u=o[3][0]));var c=o[a-1];return n.startDTD(s,l&&l.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function wx(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function Bx(e){}fx.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),bx(t,t={}),function(e,t,n,r,i){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function a(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>p){var n=e.substring(p,t).replace(/&#?\w+;/g,a);A&&l(p),r.characters(n,0,t-p),p=t}}function l(t,n){for(;t>=c&&(n=d.exec(e));)u=n.index,c=u+n[0].length,A.lineNumber++;A.columnNumber=t-u+1}var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,A=r.locator,h=[{currentNSMap:t}],f={},p=0;for(;;){try{var g=e.indexOf("<",p);if(g<0){if(!e.substr(p).match(/^\s*$/)){var m=r.doc,v=m.createTextNode(e.substr(p));m.appendChild(v),r.currentElement=v}return}switch(g>p&&s(g),e.charAt(g+1)){case"/":var y=e.indexOf(">",g+3),b=e.substring(g+2,y),_=h.pop();y<0?(b=e.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+_.tagName),y=g+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),y=g+1+b.length);var w=_.localNSMap,B=_.tagName==b;if(B||_.tagName&&_.tagName.toLowerCase()==b.toLowerCase()){if(r.endElement(_.uri,_.localName,b),w)for(var C in w)r.endPrefixMapping(C);B||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+_.tagName)}else h.push(_);y++;break;case"?":A&&l(g),y=wx(e,g,r);break;case"!":A&&l(g),y=_x(e,g,r,i);break;default:A&&l(g);var E=new Bx,T=h[h.length-1].currentNSMap,S=(y=gx(e,g,E,T,a,i),E.length);if(!E.closed&&yx(e,y,E.tagName,f)&&(E.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),A&&S){for(var k=px(A,{}),x=0;x<S;x++){var O=E[x];l(O.offset),O.locator=px(A,{})}r.locator=k,mx(E,r,T)&&h.push(E),r.locator=A}else mx(E,r,T)&&h.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?y++:y=vx(e,y,E.tagName,a,r)}}catch(cH){i.error("element parse error: "+cH),y=-1}y>p?p=y:s(Math.max(g,p)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},Bx.prototype={setTagName:function(e){if(!hx.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!hx.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};var Cx={XMLReader:fx};function Ex(e,t){for(var n in e)t[n]=e[n]}function Tx(e,t){var n=e.prototype;if(!(n instanceof t)){let r=function(){};r.prototype=t.prototype,r=new r,Ex(n,r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var Sx={},kx=Sx.ELEMENT_NODE=1,xx=Sx.ATTRIBUTE_NODE=2,Ox=Sx.TEXT_NODE=3,Ux=Sx.CDATA_SECTION_NODE=4,Nx=Sx.ENTITY_REFERENCE_NODE=5,Ix=Sx.ENTITY_NODE=6,Fx=Sx.PROCESSING_INSTRUCTION_NODE=7,Lx=Sx.COMMENT_NODE=8,Px=Sx.DOCUMENT_NODE=9,Qx=Sx.DOCUMENT_TYPE_NODE=10,Dx=Sx.DOCUMENT_FRAGMENT_NODE=11,Mx=Sx.NOTATION_NODE=12,Rx={},Hx={};Rx.INDEX_SIZE_ERR=(Hx[1]="Index size error",1),Rx.DOMSTRING_SIZE_ERR=(Hx[2]="DOMString size error",2);var jx=Rx.HIERARCHY_REQUEST_ERR=(Hx[3]="Hierarchy request error",3);Rx.WRONG_DOCUMENT_ERR=(Hx[4]="Wrong document",4),Rx.INVALID_CHARACTER_ERR=(Hx[5]="Invalid character",5),Rx.NO_DATA_ALLOWED_ERR=(Hx[6]="No data allowed",6),Rx.NO_MODIFICATION_ALLOWED_ERR=(Hx[7]="No modification allowed",7);var Kx=Rx.NOT_FOUND_ERR=(Hx[8]="Not found",8);Rx.NOT_SUPPORTED_ERR=(Hx[9]="Not supported",9);var Vx=Rx.INUSE_ATTRIBUTE_ERR=(Hx[10]="Attribute in use",10);function zx(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,Hx[e]),this.message=Hx[e],Error.captureStackTrace&&Error.captureStackTrace(this,zx);return n.code=e,t&&(this.message=this.message+": "+t),n}function qx(){}function Wx(e,t){this._node=e,this._refresh=t,Gx(this)}function Gx(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);TO(e,"length",n.length),Ex(n,e),e._inc=t}}function Xx(){}function Jx(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function Yx(e,t,n,r){if(r?t[Jx(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&iO(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function $x(e,t,n){var r=Jx(t,n);if(!(r>=0))throw zx(Kx,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(iO(o,e,n),n.ownerElement=null)}}function Zx(e){if(this._features={},e)for(var t in e)this._features=e[t]}function eO(){}function tO(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function nO(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(nO(e,t))return!0}while(e=e.nextSibling)}function rO(){}function iO(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function oO(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function aO(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,oO(e.ownerDocument,e),t}function sO(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===Dx){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return oO(e.ownerDocument||e,e),t.nodeType==Dx&&(t.firstChild=t.lastChild=null),t}function lO(){this._nsMap={}}function uO(){}function cO(){}function dO(){}function AO(){}function hO(){}function fO(){}function pO(){}function gO(){}function mO(){}function vO(){}function yO(){}function bO(){}function _O(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return BO(this,n,e,t,a),n.join("")}function wO(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function BO(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case kx:i||(i=[]),i.length;var o=e.attributes,a=o.length,s=e.firstChild,l=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",l);for(var u=0;u<a;u++){"xmlns"==(c=o.item(u)).prefix?i.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&i.push({prefix:"",namespace:c.value})}for(u=0;u<a;u++){var c;if(wO(c=o.item(u),0,i)){var d=c.prefix||"",A=c.namespaceURI,h=d?" xmlns:"+d:" xmlns";t.push(h,'="',A,'"'),i.push({prefix:d,namespace:A})}BO(c,t,n,r,i)}if(wO(e,0,i)){d=e.prefix||"",A=e.namespaceURI,h=d?" xmlns:"+d:" xmlns";t.push(h,'="',A,'"'),i.push({prefix:d,namespace:A})}if(s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),n&&/^script$/i.test(l))for(;s;)s.data?t.push(s.data):BO(s,t,n,r,i),s=s.nextSibling;else for(;s;)BO(s,t,n,r,i),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case Px:case Dx:for(s=e.firstChild;s;)BO(s,t,n,r,i),s=s.nextSibling;return;case xx:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,tO),'"');case Ox:return t.push(e.data.replace(/[<&]/g,tO));case Ux:return t.push("<![CDATA[",e.data,"]]>");case Lx:return t.push("\x3c!--",e.data,"--\x3e");case Qx:var f=e.publicId,p=e.systemId;if(t.push("<!DOCTYPE ",e.name),f)t.push(' PUBLIC "',f),p&&"."!=p&&t.push('" "',p),t.push('">');else if(p&&"."!=p)t.push(' SYSTEM "',p,'">');else{var g=e.internalSubset;g&&t.push(" [",g,"]"),t.push(">")}return;case Fx:return t.push("<?",e.target," ",e.data,"?>");case Nx:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function CO(e,t,n){var r;switch(t.nodeType){case kx:(r=t.cloneNode(!1)).ownerDocument=e;case Dx:break;case xx:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(CO(e,i,n)),i=i.nextSibling;return r}function EO(e,t,n){var r=new t.constructor;for(var i in t){var o=t[i];"object"!=typeof o&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new qx),r.ownerDocument=e,r.nodeType){case kx:var a=t.attributes,s=r.attributes=new Xx,l=a.length;s._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(EO(e,a.item(u),!0));break;case xx:n=!0}if(n)for(var c=t.firstChild;c;)r.appendChild(EO(e,c,n)),c=c.nextSibling;return r}function TO(e,t,n){e[t]=n}Rx.INVALID_STATE_ERR=(Hx[11]="Invalid state",11),Rx.SYNTAX_ERR=(Hx[12]="Syntax error",12),Rx.INVALID_MODIFICATION_ERR=(Hx[13]="Invalid modification",13),Rx.NAMESPACE_ERR=(Hx[14]="Invalid namespace",14),Rx.INVALID_ACCESS_ERR=(Hx[15]="Invalid access",15),zx.prototype=Error.prototype,Ex(Rx,zx),qx.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)BO(this[r],n,e,t);return n.join("")}},Wx.prototype.item=function(e){return Gx(this),this[e]},Tx(Wx,qx),Xx.prototype={length:0,item:qx.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new zx(Vx);var n=this.getNamedItem(e.nodeName);return Yx(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new zx(Vx);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Yx(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return $x(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return $x(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},Zx.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new rO;if(r.implementation=this,r.childNodes=new qx,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new fO;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},eO.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return sO(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return aO(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return EO(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Ox&&e.nodeType==Ox?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==xx?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==xx?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},Ex(Sx,eO),Ex(Sx,eO.prototype),rO.prototype={nodeName:"#document",nodeType:Px,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Dx){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==kx&&(this.documentElement=e),sO(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),aO(this,e)},importNode:function(e,t){return CO(this,e,t)},getElementById:function(e){var t=null;return nO(this.documentElement,(function(n){if(n.nodeType==kx&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new Wx(this,(function(e){var n=[];return nO(e.documentElement,(function(r){r!==e&&r.nodeType==kx&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new lO;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new qx,(t.attributes=new Xx)._ownerElement=t,t},createDocumentFragment:function(){var e=new vO;return e.ownerDocument=this,e.childNodes=new qx,e},createTextNode:function(e){var t=new dO;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new AO;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new hO;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new yO;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new uO;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new mO;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new lO,r=t.split(":"),i=n.attributes=new Xx;return n.childNodes=new qx,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new uO,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},Tx(rO,eO),lO.prototype={nodeType:kx,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Dx?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,oO(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Wx(this,(function(t){var n=[];return nO(t,(function(r){r===t||r.nodeType!=kx||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new Wx(this,(function(n){var r=[];return nO(n,(function(i){i===n||i.nodeType!==kx||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},rO.prototype.getElementsByTagName=lO.prototype.getElementsByTagName,rO.prototype.getElementsByTagNameNS=lO.prototype.getElementsByTagNameNS,Tx(lO,eO),uO.prototype.nodeType=xx,Tx(uO,eO),cO.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(Hx[jx])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},Tx(cO,eO),dO.prototype={nodeName:"#text",nodeType:Ox,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},Tx(dO,cO),AO.prototype={nodeName:"#comment",nodeType:Lx},Tx(AO,cO),hO.prototype={nodeName:"#cdata-section",nodeType:Ux},Tx(hO,cO),fO.prototype.nodeType=Qx,Tx(fO,eO),pO.prototype.nodeType=Mx,Tx(pO,eO),gO.prototype.nodeType=Ix,Tx(gO,eO),mO.prototype.nodeType=Nx,Tx(mO,eO),vO.prototype.nodeName="#document-fragment",vO.prototype.nodeType=Dx,Tx(vO,eO),yO.prototype.nodeType=Fx,Tx(yO,eO),bO.prototype.serializeToString=function(e,t,n){return _O.call(e,t,n)},eO.prototype.toString=_O;try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case kx:case Dx:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};Object.defineProperty(Wx.prototype,"length",{get:function(){return Gx(this),this.$$length}}),Object.defineProperty(eO.prototype,"textContent",{get:function(){return e(this)},set:function(e){switch(this.nodeType){case kx:case Dx:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),TO=function(e,t,n){e["$$"+t]=n}}}catch(cH){}var SO={Node:eO,DOMImplementation:Zx,XMLSerializer:bO},kO=B((function(e,t){function n(e){this.options=e||{locator:{}}}function r(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function s(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var n=this.options,i=new l,a=n.domBuilder||new r,s=n.errorHandler,u=n.locator,c=n.xmlns||{},d=/\/x?html?$/.test(t),A=d?cx.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),i.errorHandler=function(e,t,n){if(!e){if(t instanceof r)return t;e=t}var i={},a=e instanceof Function;function s(t){var r=e[t];!r&&a&&(r=2==e.length?function(n){e(t,n)}:e),i[t]=r&&function(e){r("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),i}(s,a,u),i.domBuilder=n.domBuilder||a,d&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?i.parse(e,c,A):i.errorHandler.error("invalid doc source"),a.doc},r.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,a=o.createElementNS(e,n||t),l=r.length;s(this,a),this.currentElement=a,this.locator&&i(this.locator,a);for(var u=0;u<l;u++){e=r.getURI(u);var c=r.getValue(u),d=(n=r.getQName(u),o.createAttributeNS(e,n));this.locator&&i(r.getLocator(u),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),s(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),s(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&i(this.locator,o),s(this,o)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,o(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){r.prototype[e]=function(){return null}}));var l=Cx.XMLReader,u=t.DOMImplementation=SO.DOMImplementation;t.XMLSerializer=SO.XMLSerializer,t.DOMParser=n})),xO=function(e){return!!e&&"object"==typeof e},OO=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!=typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):xO(t[r])&&xO(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},UO=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},NO=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},IO="INVALID_NUMBER_OF_PERIOD",FO="DASH_EMPTY_MANIFEST",LO="DASH_INVALID_XML",PO="NO_BASE_URL",QO="SEGMENT_TIME_UNSPECIFIED",DO="UNSUPPORTED_UTC_TIMING_SCHEME",MO=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.range,a=void 0===o?"":o,s=e.indexRange,l=void 0===s?"":s,u={uri:i,resolvedUri:Zk(n||"",i)};if(a||l){var c=(a||l).split("-"),d=parseInt(c[0],10),A=parseInt(c[1],10);u.byterange={length:A-d+1,offset:d}}return u},RO=function(e){return e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e},HO={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration,o=RO(e.endNumber);return{start:0,end:"number"==typeof o?o:Math.ceil(i/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,a=e.duration,s=e.start,l=void 0===s?0:s,u=e.minimumUpdatePeriod,c=void 0===u?0:u,d=e.timeShiftBufferDepth,A=void 0===d?1/0:d,h=RO(e.endNumber),f=(t+n)/1e3,p=r+l,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-A)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:"number"==typeof h?h:Math.min(m,y)}}},jO=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.sourceDuration,s=HO[n](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/o,timeline:a,time:n*r}}}(e));if("static"===n){var u=l.length-1;l[u].duration=a-r/o*u}return l},KO=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,o=e.indexRange,a=void 0===o?"":o,s=e.duration;if(!t)throw new Error(PO);var l=MO({baseUrl:t,source:r.sourceURL,range:r.range}),u=MO({baseUrl:t,source:t,indexRange:a});if(u.map=l,s){var c=jO(e);c.length&&(u.duration=c[0].duration,u.timeline=c[0].timeline)}else i&&(u.duration=i,u.timeline=0);return u.number=0,[u]},VO=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,o=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,l=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),c=[],d=s+t.firstOffset,A=0;A<u.length;A++){var h=t.references[A],f=h.referencedSize,p=h.subsegmentDuration,g=KO({baseUrl:n,timescale:l,timeline:o,periodIndex:o,duration:p,sourceDuration:i,indexRange:d+"-"+(d+f-1)})[0];r&&(g.map=r),c.push(g),d+=f}return e.segments=c,e},zO=function(e){var t;return(t=e.reduce((function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},qO=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var i=r.sidx.uri+"-"+(a=r.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=t[i]&&t[i].sidx;r.sidx&&o&&VO(r,o,r.sidx.resolvedUri)}}var a,s;return e},WO=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},GO=function(e){var t,n=e.attributes,r=e.segments;void 0===r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var i=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(i.CODECS=n.codecs),{attributes:i,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},XO=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},JO=function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var i=e[0].attributes,o=i.sourceDuration,a=i.type,s=void 0===a?"static":a,l=i.suggestedPresentationDelay,u=i.minimumUpdatePeriod,c=zO(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType}))).map(XO),d=zO(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}))),A=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:o,playlists:qO(c,n)};return u>=0&&(h.minimumUpdatePeriod=1e3*u),t&&(h.locations=t),"dynamic"===s&&(h.suggestedPresentationDelay=l),d.length&&(h.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var r=e.reduce((function(e,r){var i=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",a="main";if(o){var s=i?" ("+i+")":"";a=""+r.attributes.lang+s}return e[a]&&e[a].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth||(e[a]={language:o,autoselect:!0,default:"main"===i,playlists:qO([WO(r)],t),uri:""},void 0===n&&"main"===i&&((n=r).default=!0)),e}),{});return n||(r[Object.keys(r)[0]].default=!0),r}(d,n)),A.length&&(h.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:qO([GO(n)],t),uri:""}),e}),{})}(A,n)),h},YO=function(e,t,n){var r=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.start,u=void 0===l?0:l,c=e.minimumUpdatePeriod,d=(r+i)/1e3+(void 0===c?0:c)-(o+u);return Math.ceil((d*s-t)/n)},$O=function(e,t){for(var n=e.type,r=void 0===n?"static":n,i=e.minimumUpdatePeriod,o=void 0===i?0:i,a=e.media,s=void 0===a?"":a,l=e.sourceDuration,u=e.timescale,c=void 0===u?1:u,d=e.startNumber,A=void 0===d?1:d,h=e.periodIndex,f=[],p=-1,g=0;g<t.length;g++){var m=t[g],v=m.d,y=m.r||0,b=m.t||0;p<0&&(p=b),b&&b>p&&(p=b);var _=void 0;if(y<0){var w=g+1;_=w===t.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?YO(e,p,v):(l*c-p)/v:(t[w].t-p)/v}else _=y+1;for(var B=A+f.length+_,C=A+f.length;C<B;)f.push({number:C,duration:v/c,time:p,timeline:h}),p+=v,C++}return f},ZO=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,eU=function(e,t){return e.replace(ZO,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}}(t))},tU=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=MO({baseUrl:e.baseUrl,source:eU(i.sourceURL,n),range:i.range});return function(e,t){return e.duration||t?e.duration?jO(e):$O(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var r=eU(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:Zk(e.baseUrl||"",r),map:o,number:t.number}}))},nU=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(QO);var o,a=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,o=MO({baseUrl:n,source:i.sourceURL,range:i.range}),a=MO({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(o=jO(e)),t&&(o=$O(e,t)),o.map((function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},rU=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=tU,t=OO(r,i.template)):i.base?(n=KO,t=OO(r,i.base)):i.list&&(n=nU,t=OO(r,i.list));var o={attributes:r};if(!n)return o;var a=n(t,i.timeline);if(t.duration){var s=t,l=s.duration,u=s.timescale,c=void 0===u?1:u;t.duration=l/c}else a.length?t.duration=a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return o.attributes=t,o.segments=a,i.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},iU=function(e,t){return NO(e.childNodes).filter((function(e){return e.tagName===t}))},oU=function(e){return e.textContent.trim()},aU=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},sU={mediaPresentationDuration:function(e){return aU(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return aU(e)},suggestedPresentationDelay:function(e){return aU(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return aU(e)},start:function(e){return aU(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?aU(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},lU=function(e){return e&&e.attributes?NO(e.attributes).reduce((function(e,t){var n=sU[t.name]||sU.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},uU={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},cU=function(e,t){return t.length?UO(e.map((function(e){return t.map((function(t){return Zk(e,oU(t))}))}))):e},dU=function(e){var t=iU(e,"SegmentTemplate")[0],n=iU(e,"SegmentList")[0],r=n&&iU(n,"SegmentURL").map((function(e){return OO({tag:"SegmentURL"},lU(e))})),i=iU(e,"SegmentBase")[0],o=n||t,a=o&&iU(o,"SegmentTimeline")[0],s=n||i||t,l=s&&iU(s,"Initialization")[0],u=t&&lU(t);u&&l?u.initialization=l&&lU(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:a&&iU(a,"S").map((function(e){return lU(e)})),list:n&&OO(lU(n),{segmentUrls:r,initialization:lU(l)}),base:i&&OO(lU(i),{initialization:lU(l)})};return Object.keys(c).forEach((function(e){c[e]||delete c[e]})),c},AU=function(e,t,n){return function(r){var i=lU(r),o=cU(t,iU(r,"BaseURL")),a=iU(r,"Role")[0],s={role:lU(a)},l=OO(e,i,s),u=iU(r,"ContentProtection").reduce((function(e,t){var n=lU(t),r=uU[n.schemeIdUri];if(r){e[r]={attributes:n};var i=iU(t,"cenc:pssh")[0];if(i){var o=oU(i),a=o&&tx(o);e[r].pssh=a}}return e}),{});Object.keys(u).length&&(l=OO(l,{contentProtection:u}));var c=dU(r),d=iU(r,"Representation"),A=OO(n,c);return UO(d.map(function(e,t,n){return function(r){var i=iU(r,"BaseURL"),o=cU(t,i),a=OO(e,lU(r)),s=dU(r);return o.map((function(e){return{segmentInfo:OO(n,s),attributes:OO(a,{baseUrl:e})}}))}}(l,o,A)))}},hU=function(e,t){return function(n,r){var i=cU(t,iU(n,"BaseURL")),o=lU(n),a=parseInt(o.id,10),s=ux.isNaN(a)?r:a,l=OO(e,{periodIndex:s}),u=iU(n,"AdaptationSet"),c=dU(n);return UO(u.map(AU(l,i,c)))}},fU=function(e){if(""===e)throw new Error(FO);var t,n,r=new kO.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(cH){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(LO);return n},pU=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,l=void 0===s?0:s,u=iU(e,"Period");if(!u.length)throw new Error(IO);var c=iU(e,"Location"),d=lU(e),A=cU([i],iU(e,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=l,c.length&&(d.locations=c.map(oU)),{locations:d.locations,representationInfo:UO(u.map(hU(d,A)))}}(fU(e),t),r=n.representationInfo.map(rU);return JO(r,n.locations,t.sidxMapping)},gU=function(e){return function(e){var t=iU(e,"UTCTiming")[0];if(!t)return null;var n=lU(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(DO)}return n}(fU(e))},mU=VO,vU=Math.pow(2,32),yU=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;0===n.version?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=t.getUint32(r)*vU+t.getUint32(r+4),n.firstOffset=t.getUint32(r+8)*vU+t.getUint32(r+12),r+=16),r+=2;var i=t.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(128&e[r])>>>7,referencedSize:2147483647&t.getUint32(r),subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(128&e[r+8]),sapType:(112&e[r+8])>>>4,sapDeltaTime:268435455&t.getUint32(r+8)});return n},bU=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||(t=e,ArrayBuffer.isView(t))||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0));var t},_U=$k.BigInt||Number,wU=[_U("0x1"),_U("0x100"),_U("0x10000"),_U("0x1000000"),_U("0x100000000"),_U("0x10000000000"),_U("0x1000000000000"),_U("0x100000000000000"),_U("0x10000000000000000")],BU=function(e,t){var n=void 0===t?{}:t,r=n.signed,i=void 0!==r&&r,o=n.le,a=void 0!==o&&o;e=bU(e);var s=a?"reduce":"reduceRight",l=(e[s]?e[s]:Array.prototype[s]).call(e,(function(t,n,r){var i=a?r:Math.abs(r+1-e.length);return t+_U(n)*wU[i]}),_U(0));if(i){var u=wU[e.length]/_U(2)-_U(1);(l=_U(l))>u&&(l-=u,l-=u,l-=_U(2))}return Number(l)},CU=function(e,t){var n=(void 0===t?{}:t).le,r=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0),e=_U(e);for(var i,o=(i=e,Math.ceil(function(e){return e.toString(2).length}(i)/8)),a=new Uint8Array(new ArrayBuffer(o)),s=0;s<o;s++){var l=r?s:Math.abs(s+1-a.length);a[l]=Number(e/wU[s]&_U(255)),e<0&&(a[l]=Math.abs(~a[l]),a[l]-=0===s?1:2)}return a},EU=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},TU=function(e,t,n){var r=void 0===n?{}:n,i=r.offset,o=void 0===i?0:i,a=r.mask,s=void 0===a?[]:a;e=bU(e);var l=(t=bU(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,n){return t===(s[n]?s[n]&e[o+n]:e[o+n])}))},SU=bU([73,68,51]),kU=function e(t,n){return void 0===n&&(n=0),(t=bU(t)).length-n<10||!TU(t,SU,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=bU(e))[t+5],r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?r+20:r+10}(t,n),e(t,n))},xU=function(e){return"string"==typeof e?EU(e):e},OU=function e(t,n,r){void 0===r&&(r=!1),n=function(e){return Array.isArray(e)?e.map((function(e){return xU(e)})):[xU(e)]}(n),t=bU(t);var i=[];if(!n.length)return i;for(var o=0;o<t.length;){var a=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,s=t.subarray(o+4,o+8);if(0===a)break;var l=o+a;if(l>t.length){if(r)break;l=t.length}var u=t.subarray(o+8,l);TU(s,n[0])&&(1===n.length?i.push(u):i.push.apply(i,e(u,n.slice(1),r))),o=l}return i},UU={EBML:bU([26,69,223,163]),DocType:bU([66,130]),Segment:bU([24,83,128,103]),SegmentInfo:bU([21,73,169,102]),Tracks:bU([22,84,174,107]),Track:bU([174]),TrackNumber:bU([215]),DefaultDuration:bU([35,227,131]),TrackEntry:bU([174]),TrackType:bU([131]),FlagDefault:bU([136]),CodecID:bU([134]),CodecPrivate:bU([99,162]),VideoTrack:bU([224]),AudioTrack:bU([225]),Cluster:bU([31,67,182,117]),Timestamp:bU([231]),TimestampScale:bU([42,215,177]),BlockGroup:bU([160]),BlockDuration:bU([155]),Block:bU([161]),SimpleBlock:bU([163])},NU=[128,64,32,16,8,4,2,1],IU=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var i=function(e){for(var t=1,n=0;n<NU.length&&!(e&NU[n]);n++)t++;return t}(e[t]),o=e.subarray(t,t+i);return n&&((o=Array.prototype.slice.call(e,t,t+i))[0]^=NU[i-1]),{length:i,value:BU(o,{signed:r}),bytes:o}},FU=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?CU(t):t},LU=function e(t,n,r){if(r>=n.length)return n.length;var i=IU(n,r,!1);if(TU(t.bytes,i.bytes))return r;var o=IU(n,r+i.length);return e(t,n,r+o.length+o.value+i.length)},PU=function e(t,n){n=function(e){return Array.isArray(e)?e.map((function(e){return FU(e)})):[FU(e)]}(n),t=bU(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var o=IU(t,i,!1),a=IU(t,i+o.length),s=i+o.length+a.length;127===a.value&&(a.value=LU(o,t,s),a.value!==t.length&&(a.value-=s));var l=s+a.value>t.length?t.length:s+a.value,u=t.subarray(s,l);TU(n[0],o.bytes)&&(1===n.length?r.push(u):r=r.concat(e(u,n.slice(1)))),i+=o.length+a.length+u.length}return r},QU=bU([0,0,0,1]),DU=bU([0,0,1]),MU=bU([0,0,3]),RU=function(e){for(var t=[],n=1;n<e.length-2;)TU(e.subarray(n,n+3),MU)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var r=e.length-t.length,i=new Uint8Array(r),o=0;for(n=0;n<r;o++,n++)o===t[0]&&(o++,t.shift()),i[n]=e[o];return i},HU=function(e,t,n,r){void 0===r&&(r=1/0),e=bU(e),n=[].concat(n);for(var i,o=0,a=0;o<e.length&&(a<r||i);){var s=void 0;if(TU(e.subarray(o),QU)?s=4:TU(e.subarray(o),DU)&&(s=3),s){if(a++,i)return RU(e.subarray(i,o));var l=void 0;"h264"===t?l=31&e[o+s]:"h265"===t&&(l=e[o+s]>>1&63),-1!==n.indexOf(l)&&(i=o+s),o+=s+("h264"===t?1:2)}else o++}return e.subarray(0,0)},jU={webm:bU([119,101,98,109]),matroska:bU([109,97,116,114,111,115,107,97]),flac:bU([102,76,97,67]),ogg:bU([79,103,103,83]),ac3:bU([11,119]),riff:bU([82,73,70,70]),avi:bU([65,86,73]),wav:bU([87,65,86,69]),"3gp":bU([102,116,121,112,51,103]),mp4:bU([102,116,121,112]),fmp4:bU([115,116,121,112]),mov:bU([102,116,121,112,113,116])},KU={aac:function(e){var t=kU(e);return TU(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=kU(e);return TU(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=PU(e,[UU.EBML,UU.DocType])[0];return TU(t,jU.webm)},mkv:function(e){var t=PU(e,[UU.EBML,UU.DocType])[0];return TU(t,jU.matroska)},mp4:function(e){return!KU["3gp"](e)&&!KU.mov(e)&&(TU(e,jU.mp4,{offset:4})||TU(e,jU.fmp4,{offset:4}))},mov:function(e){return TU(e,jU.mov,{offset:4})},"3gp":function(e){return TU(e,jU["3gp"],{offset:4})},ac3:function(e){var t=kU(e);return TU(e,jU.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=kU(e);return TU(e,jU.flac,{offset:t})},ogg:function(e){return TU(e,jU.ogg)},avi:function(e){return TU(e,jU.riff)&&TU(e,jU.avi,{offset:8})},wav:function(e){return TU(e,jU.riff)&&TU(e,jU.wav,{offset:8})},h264:function(e){return function(e,t,n){return HU(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return HU(e,"h265",t,n)}(e,[32,33],3).length}},VU=Object.keys(KU).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);VU.forEach((function(e){var t=KU[e];KU[e]=function(e){return t(bU(e))}}));var zU=KU,qU=function(e){e=bU(e);for(var t=0;t<VU.length;t++){var n=VU[t];if(zU[n](e))return n}return""},WU=function(e){return OU(e,["moof"]).length>0},GU=27,XU=15,JU=21,YU=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};YU.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},YU.prototype.push=function(e){this.trigger("data",e)},YU.prototype.flush=function(e){this.trigger("done",e)},YU.prototype.partialFlush=function(e){this.trigger("partialdone",e)},YU.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},YU.prototype.reset=function(e){this.trigger("reset",e)};var $U=YU,ZU=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},eN=function(e){var t,n;eN.prototype.init.call(this),this.type_=e||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=ZU(e.dts,n),e.pts=ZU(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};eN.prototype=new $U;var tN,nN,rN,iN,oN=function(e){var t=31&e[1];return t<<=8,t|=e[2]},aN=function(e){return!!(64&e[1])},sN=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},lN=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},uN={parseType:function(e,t){var n=oN(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=aN(e),n=4+sN(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=aN(e),r=4+sN(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var o=12+((15&e[r+10])<<8|e[r+11]);o<i;){var a=r+o;t[(31&e[a+1])<<8|e[a+2]]=e[a],o+=5+((15&e[a+3])<<8|e[a+4])}return t}},parsePayloadUnitStartIndicator:aN,parsePesType:function(e,t){switch(t[oN(e)]){case GU:return"video";case XU:return"audio";case JU:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!aN(e))return null;var t=4+sN(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+sN(e),n=e.subarray(t),r=0,i=0,o=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===lN(31&n[i+3])&&(o=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===lN(31&n[i+3])&&(o=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===lN(31&n[i+3])&&(o=!0),o}},cN=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],dN=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},AN=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=dN(e,t),AN(e,t))},hN=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},fN=function(e,t,n){return unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(e,t,n))},pN={isLikelyAacData:function(e){var t=AN(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:dN,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return cN[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=hN(e.subarray(10,14)));do{if((n=hN(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){if("com.apple.streaming.transportStreamTimestamp"===fN(r,0,i)){var o=r.subarray(i+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}};var gN=9e4,mN=(tN=function(e){return 9e4*e},nN=function(e,t){return e*t},rN=function(e){return e/9e4},iN=function(e,t){return e/t},ZU),vN={};vN.ts=uN,vN.aac=pN;var yN,bN,_N,wN=gN,BN=function(e,t,n){for(var r,i,o,a,s=0,l=188,u=!1;l<=e.byteLength;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s++,l++;else{switch(r=e.subarray(s,l),vN.ts.parseType(r,t.pid)){case"pes":i=vN.ts.parsePesType(r,t.table),o=vN.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(a=vN.ts.parsePesTime(r))&&(a.type="audio",n.audio.push(a),u=!0)}if(u)break;s+=188,l+=188}for(s=(l=e.byteLength)-188,u=!1;s>=0;)if(71!==e[s]||71!==e[l]&&l!==e.byteLength)s--,l--;else{switch(r=e.subarray(s,l),vN.ts.parseType(r,t.pid)){case"pes":i=vN.ts.parsePesType(r,t.table),o=vN.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&o&&(a=vN.ts.parsePesTime(r))&&(a.type="audio",n.audio.push(a),u=!0)}if(u)break;s-=188,l-=188}},CN=function(e,t,n){for(var r,i,o,a,s,l,u,c=0,d=188,A=!1,h={data:[],size:0};d<e.byteLength;)if(71!==e[c]||71!==e[d])c++,d++;else{switch(r=e.subarray(c,d),vN.ts.parseType(r,t.pid)){case"pes":if(i=vN.ts.parsePesType(r,t.table),o=vN.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(o&&!A&&(a=vN.ts.parsePesTime(r))&&(a.type="video",n.video.push(a),A=!0),!n.firstKeyFrame)){if(o&&0!==h.size){for(s=new Uint8Array(h.size),l=0;h.data.length;)u=h.data.shift(),s.set(u,l),l+=u.byteLength;if(vN.ts.videoPacketContainsKeyFrame(s)){var f=vN.ts.parsePesTime(s);f?(n.firstKeyFrame=f,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(r),h.size+=r.byteLength}}if(A&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=e.byteLength)-188,A=!1;c>=0;)if(71!==e[c]||71!==e[d])c--,d--;else{switch(r=e.subarray(c,d),vN.ts.parseType(r,t.pid)){case"pes":i=vN.ts.parsePesType(r,t.table),o=vN.ts.parsePayloadUnitStartIndicator(r),"video"===i&&o&&(a=vN.ts.parsePesTime(r))&&(a.type="video",n.video.push(a),A=!0)}if(A)break;c-=188,d-=188}},EN=function(e){var t={pid:null,table:null},n={};for(var r in function(e,t){for(var n,r=0,i=188;i<e.byteLength;)if(71!==e[r]||71!==e[i])r++,i++;else{switch(n=e.subarray(r,i),vN.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=vN.ts.parsePat(n));break;case"pmt":t.table||(t.table=vN.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=188,i+=188}}(e,t),t.table){if(t.table.hasOwnProperty(r))switch(t.table[r]){case GU:n.video=[],CN(e,t,n),0===n.video.length&&delete n.video;break;case XU:n.audio=[],BN(e,t,n),0===n.audio.length&&delete n.audio}}return n},TN=function(e,t){var n;return(n=vN.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,o=null,a=0,s=0;e.length-s>=3;){switch(vN.aac.parseType(e,s)){case"timed-metadata":if(e.length-s<10){n=!0;break}if((a=vN.aac.parseId3TagSize(e,s))>e.length){n=!0;break}null===o&&(t=e.subarray(s,s+a),o=vN.aac.parseAacTimestamp(t)),s+=a;break;case"audio":if(e.length-s<7){n=!0;break}if((a=vN.aac.parseAdtsSize(e,s))>e.length){n=!0;break}null===i&&(t=e.subarray(s,s+a),i=vN.aac.parseSampleRate(t)),r++,s+=a;break;default:s++}if(n)return null}if(null===i||null===o)return null;var l=wN/i;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*r*l,pts:o+1024*r*l}]}}(e):EN(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=mN(e.dts,n),e.pts=mN(e.pts,n),e.dtsTime=e.dts/wN,e.ptsTime=e.pts/wN}))}if(e.video&&e.video.length){var r=t;if((void 0===r||isNaN(r))&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=mN(e.dts,r),e.pts=mN(e.pts,r),e.dtsTime=e.dts/wN,e.ptsTime=e.pts/wN})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=mN(i.dts,r),i.pts=mN(i.pts,r),i.dtsTime=i.dts/wN,i.ptsTime=i.pts/wN}}}(n,t),n):null},SN=function(e){return e>>>0},kN=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},xN=SN,ON=function(e,t){var n,r,i,o,a,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)r=xN(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),i=kN(e.subarray(n+4,n+8)),o=r>1?n+r:e.byteLength,i===t[0]&&(1===t.length?s.push(e.subarray(n+8,o)):(a=ON(e.subarray(n+8,o),t.slice(1))).length&&(s=s.concat(a))),n=o;return s},UN=ON,NN=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},IN=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},FN=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),o&&c&&(t={flags:IN(e.subarray(d,d+4))},d+=4,a&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},a&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),l&&(t.flags=IN(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},LN=SN,PN=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:LN(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=LN(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},QN=SN,DN=function(e){return("00"+e.toString(16)).slice(-2)};yN=function(e,t){var n,r,i;return n=UN(t,["moof","traf"]),r=[].concat.apply([],n.map((function(t){return UN(t,["tfhd"]).map((function(n){var r,i,o;return r=QN(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[r]||9e4,(o="number"!=typeof(o=UN(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=QN(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=QN(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0])||isNaN(o)?1/0:o)/i}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},bN=function(e){var t=UN(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},o=UN(e,["tkhd"])[0];o&&(r=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),i.id=0===r?t.getUint32(12):t.getUint32(20));var a=UN(e,["mdia","hdlr"])[0];if(a){var s=kN(a.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var l=UN(e,["mdia","minf","stbl","stsd"])[0];if(l){var u=l.subarray(8);i.codec=kN(u.subarray(4,8));var c,d=UN(u,[i.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(c=d.subarray(78),"avcC"===kN(c.subarray(4,8))&&c.length>11?(i.codec+=".",i.codec+=DN(c[9]),i.codec+=DN(c[10]),i.codec+=DN(c[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)?(c=d.subarray(28),"esds"===kN(c.subarray(4,8))&&c.length>20&&0!==c[19]?(i.codec+="."+DN(c[19]),i.codec+="."+DN(c[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"):i.codec=i.codec.toLowerCase())}var A=UN(e,["mdia","mdhd"])[0];A&&(i.timescale=_N(A)),n.push(i)})),n};for(var MN,RN=yN,HN=bN,jN=(_N=function(e){var t=0===e[0]?12:20;return QN(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},{mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/}),KN=["video","audio","text"],VN=["Video","Audio","Text"],zN=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},qN=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach((function(e){var t;e=e.trim(),KN.forEach((function(r){var i=jN[r].exec(e.toLowerCase());if(i&&!(i.length<=1)){t=r;var o=e.substring(0,i[1].length),a=e.replace(o,"");n.push({type:o,details:a,mediaType:r})}})),t||n.push({type:e,details:"",mediaType:"unknown"})})),n},WN=function(e){return void 0===e&&(e=""),jN.audio.test(e.trim().toLowerCase())},GN=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map((function(e){return zN(e.trim())})),r="video";1===n.length&&WN(n[0])?r="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),jN.text.test(t.trim().toLowerCase()))&&(r="application");var i="mp4";return n.every((function(e){return jN.mp4.test(e)}))?i="mp4":n.every((function(e){return jN.webm.test(e)}))?i="webm":n.every((function(e){return jN.ogg.test(e)}))&&(i="ogg"),r+"/"+i+';codecs="'+e+'"'}},XN=function(e){return void 0===e&&(e=""),$k.MediaSource&&$k.MediaSource.isTypeSupported&&$k.MediaSource.isTypeSupported(GN(e))||!1},JN=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<VN.length;t++){if(jN["muxer"+VN[t]].test(e))return!0}return!1}))},YN={prefixed:!0},$N=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],ZN=$N[0],eI=0;eI<$N.length;eI++)if($N[eI][1]in rk){MN=$N[eI];break}if(MN){for(var tI=0;tI<MN.length;tI++)YN[ZN[tI]]=MN[tI];YN.prefixed=MN[0]!==ZN[0]}var nI=[];var rI=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,i){var o=t.levels[r],a=new RegExp("^("+o+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),nI){nI.push([].concat(i));var s=nI.length-1e3;nI.splice(0,s>0?s:0)}if(ek.console){var l=ek.console[n];l||"debug"!==n||(l=ek.console.info||ek.console.log),l&&o&&a.test(n)&&l[Array.isArray(i)?"apply":"call"](ek.console,i)}}}(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(i.history=function(){return nI?[].concat(nI):[]}).filter=function(e){return(nI||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},i.history.clear=function(){nI&&(nI.length=0)},i.history.disable=function(){null!==nI&&(nI.length=0,nI=null)},i.history.enable=function(){null===nI&&(nI=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},i}("VIDEOJS"),iI=rI.createLogger,oI=Object.prototype.toString,aI=function(e){return uI(e)?Object.keys(e):[]};function sI(e,t){aI(e).forEach((function(n){return t(e[n],n)}))}function lI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?ik.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&sI(t,(function(t,n){e[n]=t}))})),e)}function uI(e){return!!e&&"object"==typeof e}function cI(e){return uI(e)&&"[object Object]"===oI.call(e)&&e.constructor===Object}function dI(e,t){if(!e||!t)return"";if("function"==typeof ek.getComputedStyle){var n=ek.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}var AI,hI,fI,pI=ek.navigator&&ek.navigator.userAgent||"",gI=/AppleWebKit\/([\d.]+)/i.exec(pI),mI=gI?parseFloat(gI.pop()):null,vI=/iPod/i.test(pI),yI=(AI=pI.match(/OS (\d+)_/i))&&AI[1]?AI[1]:null,bI=/Android/i.test(pI),_I=function(){var e=pI.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),wI=bI&&_I<5&&mI<537,BI=/Firefox/i.test(pI),CI=/Edg/i.test(pI),EI=!CI&&(/Chrome/i.test(pI)||/CriOS/i.test(pI)),TI=function(){var e=pI.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),SI=(hI=/MSIE\s(\d+)\.\d/.exec(pI),!(fI=hI&&parseFloat(hI[1]))&&/Trident\/7.0/i.test(pI)&&/rv:11.0/.test(pI)&&(fI=11),fI),kI=/Safari/i.test(pI)&&!EI&&!bI&&!CI,xI=/Windows/i.test(pI),OI=Boolean(DI()&&("ontouchstart"in ek||ek.navigator.maxTouchPoints||ek.DocumentTouch&&ek.document instanceof ek.DocumentTouch)),UI=/iPad/i.test(pI)||kI&&OI&&!/iPhone/i.test(pI),NI=/iPhone/i.test(pI)&&!UI,II=NI||UI||vI,FI=(kI||II)&&!EI,LI=Object.freeze({__proto__:null,IS_IPOD:vI,IOS_VERSION:yI,IS_ANDROID:bI,ANDROID_VERSION:_I,IS_NATIVE_ANDROID:wI,IS_FIREFOX:BI,IS_EDGE:CI,IS_CHROME:EI,CHROME_VERSION:TI,IE_VERSION:SI,IS_SAFARI:kI,IS_WINDOWS:xI,TOUCH_ENABLED:OI,IS_IPAD:UI,IS_IPHONE:NI,IS_IOS:II,IS_ANY_SAFARI:FI});function PI(e){return"string"==typeof e&&Boolean(e.trim())}function QI(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function DI(){return rk===ek.document}function MI(e){return uI(e)&&1===e.nodeType}function RI(){try{return ek.parent!==ek.self}catch(e){return!0}}function HI(e){return function(t,n){if(!PI(t))return rk[e](null);PI(n)&&(n=rk.querySelector(n));var r=MI(n)?n:rk;return r[e]&&r[e](t)}}function jI(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=rk.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(rI.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?KI(i,n):i[e]===n&&"tabIndex"!==e||(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&lF(i,r),i}function KI(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function VI(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function zI(e,t){return QI(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function qI(e,t){return e.classList?e.classList.add(t):zI(e,t)||(e.className=(e.className+" "+t).trim()),e}function WI(e,t){return e.classList?e.classList.remove(t):(QI(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function GI(e,t,n){var r=zI(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?qI(e,t):WI(e,t),e}function XI(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function JI(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function YI(e,t){return e.getAttribute(t)}function $I(e,t,n){e.setAttribute(t,n)}function ZI(e,t){e.removeAttribute(t)}function eF(){rk.body.focus(),rk.onselectstart=function(){return!1}}function tF(){rk.onselectstart=function(){return!0}}function nF(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(dI(e,"height"))),n.width||(n.width=parseFloat(dI(e,"width"))),n}}function rF(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;e.offsetParent&&e!==rk[YN.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function iF(e,t){var n={x:0,y:0};if(II)for(var r=e;r&&"html"!==r.nodeName.toLowerCase();){var i=dI(r,"transform");if(/^matrix/.test(i)){var o=i.slice(7,-1).split(/,\s/).map(Number);n.x+=o[4],n.y+=o[5]}else if(/^matrix3d/.test(i)){var a=i.slice(9,-1).split(/,\s/).map(Number);n.x+=a[12],n.y+=a[13]}r=r.parentNode}var s={},l=rF(t.target),u=rF(e),c=u.width,d=u.height,A=t.offsetY-(u.top-l.top),h=t.offsetX-(u.left-l.left);return t.changedTouches&&(h=t.changedTouches[0].pageX-u.left,A=t.changedTouches[0].pageY+u.top,II&&(h-=n.x,A-=n.y)),s.y=1-Math.max(0,Math.min(1,A/d)),s.x=Math.max(0,Math.min(1,h/c)),s}function oF(e){return uI(e)&&3===e.nodeType}function aF(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function sF(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),MI(e)||oF(e)?e:"string"==typeof e&&/\S/.test(e)?rk.createTextNode(e):void 0})).filter((function(e){return e}))}function lF(e,t){return sF(t).forEach((function(t){return e.appendChild(t)})),e}function uF(e,t){return lF(aF(e),t)}function cF(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}var dF,AF=HI("querySelector"),hF=HI("querySelectorAll"),fF=Object.freeze({__proto__:null,isReal:DI,isEl:MI,isInFrame:RI,createEl:jI,textContent:KI,prependTo:VI,hasClass:zI,addClass:qI,removeClass:WI,toggleClass:GI,setAttributes:XI,getAttributes:JI,getAttribute:YI,setAttribute:$I,removeAttribute:ZI,blockTextSelection:eF,unblockTextSelection:tF,getBoundingClientRect:nF,findPosition:rF,getPointerPosition:iF,isTextNode:oF,emptyEl:aF,normalizeContent:sF,appendContent:lF,insertContent:uF,isSingleLeftClick:cF,$:AF,$$:hF}),pF=!1,gF=function(){if(DI()&&!1!==dF.options.autoSetup){var e=Array.prototype.slice.call(rk.getElementsByTagName("video")),t=Array.prototype.slice.call(rk.getElementsByTagName("audio")),n=Array.prototype.slice.call(rk.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){mF(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&dF(a)}else pF||mF(1)}};function mF(e,t){t&&(dF=t),ek.setTimeout(gF,e)}function vF(){pF=!0,ek.removeEventListener("load",vF)}DI()&&("complete"===rk.readyState?vF():ek.addEventListener("load",vF));var yF,bF=function(e){var t=rk.createElement("style");return t.className=e,t},_F=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},wF=3;function BF(){return wF++}ek.WeakMap||(yF=function(){function e(){this.vdata="vdata"+Math.floor(ek.performance&&ek.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||BF();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];rI("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var CF,EF=ek.WeakMap?new WeakMap:new yF;function TF(e,t){if(EF.has(e)){var n=EF.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&EF.delete(e)}}function SF(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function kF(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||ek.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||rk),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=rk.documentElement,a=rk.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var xF=["touchstart","touchmove"];function OF(e,t,n){if(Array.isArray(t))return SF(OF,e,t,n);EF.has(e)||EF.set(e,{});var r=EF.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=BF()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=kF(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(cH){rI.error(cH)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;(function(){if("boolean"!=typeof CF){CF=!1;try{var e=Object.defineProperty({},"passive",{get:function(){CF=!0}});ek.addEventListener("test",null,e),ek.removeEventListener("test",null,e)}catch(cH){}}return CF})()&&xF.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function UF(e,t,n){if(EF.has(e)){var r=EF.get(e);if(r.handlers){if(Array.isArray(t))return SF(UF,e,t,n);var i=function(e,t){r.handlers[t]=[],TF(e,t)};if(void 0!==t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);TF(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function NF(e,t,n){var r=EF.has(e)?EF.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=kF(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)NF.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){EF.has(t.target)||EF.set(t.target,{});var o=EF.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function IF(e,t,n){if(Array.isArray(t))return SF(IF,e,t,n);var r=function r(){UF(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||BF(),OF(e,t,r)}function FF(e,t,n){var r=function r(){UF(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||BF(),OF(e,t,r)}var LF,PF=Object.freeze({__proto__:null,fixEvent:kF,on:OF,off:UF,trigger:NF,one:IF,any:FF}),QF=function(e,t,n){t.guid||(t.guid=BF());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},DF=function(e,t){var n=ek.performance.now();return function(){var r=ek.performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},MF=function(){};MF.prototype.allowedEvents_={},MF.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},OF(this,e,t),this.addEventListener=n},MF.prototype.addEventListener=MF.prototype.on,MF.prototype.off=function(e,t){UF(this,e,t)},MF.prototype.removeEventListener=MF.prototype.off,MF.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},IF(this,e,t),this.addEventListener=n},MF.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},FF(this,e,t),this.addEventListener=n},MF.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=kF(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),NF(this,e)},MF.prototype.dispatchEvent=MF.prototype.trigger,MF.prototype.queueTrigger=function(e){var t=this;LF||(LF=new Map);var n=e.type||e,r=LF.get(this);r||(r=new Map,LF.set(this,r));var i=r.get(n);r.delete(n),ek.clearTimeout(i);var o=ek.setTimeout((function(){0===r.size&&(r=null,LF.delete(t)),t.trigger(e)}),0);r.set(n,o)};var RF=function(e){return"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},HF=function(e){return e instanceof MF||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},jF=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},KF=function(e,t,n){if(!e||!e.nodeName&&!HF(e))throw new Error("Invalid target for "+RF(t)+"#"+n+"; must be a DOM node or evented object.")},VF=function(e,t,n){if(!jF(e))throw new Error("Invalid event type for "+RF(t)+"#"+n+"; must be a non-empty string or array.")},zF=function(e,t,n){if("function"!=typeof e)throw new Error("Invalid listener for "+RF(t)+"#"+n+"; must be a function.")},qF=function(e,t,n){var r,i,o,a=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return a?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(r=t[0],i=t[1],o=t[2]),KF(r,e,n),VF(i,e,n),zF(o,e,n),{isTargetingSelf:a,target:r,type:i,listener:o=QF(e,o)}},WF=function(e,t,n,r){KF(e,e,t),e.nodeName?PF[t](e,n,r):e[t](n,r)},GF={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qF(this,n,"on"),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(WF(a,"on",s,l),!o){var u=function(){return e.off(a,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,WF(this,"on","dispose",u),WF(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qF(this,n,"one"),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(o)WF(a,"one",s,l);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,WF(a,"one",s,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=qF(this,n,"any"),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(o)WF(a,"any",s,l);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,WF(a,"any",s,u)}},off:function(e,t,n){if(!e||jF(e))UF(this.eventBusEl_,e,t);else{var r=e,i=t;KF(r,this,"off"),VF(i,this,"off"),zF(n,this,"off"),n=QF(this,n),this.off("dispose",n),r.nodeName?(UF(r,i,n),UF(r,"dispose",n)):HF(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){KF(this.eventBusEl_,this,"trigger");var n=e&&"string"!=typeof e?e.type:e;if(!jF(n)){var r="Invalid event type for "+RF(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!e)throw new Error(r);(this.log||rI).error(r)}return NF(this.eventBusEl_,e,t)}};function XF(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=jI("span",{className:"vjs-event-bus"});return lI(e,GF),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),ek.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var JF={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),sI(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&HF(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function YF(e,t){return lI(e,JF),e.state=lI({},e.state,t),"function"==typeof e.handleStateChanged&&HF(e)&&e.on("statechanged",e.handleStateChanged),e}var $F=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},ZF=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function eL(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&sI(t,(function(t,n){cI(t)?(cI(e[n])||(e[n]={}),e[n]=eL(e[n],t)):e[n]=t}))})),e}var tL=function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.map_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),nL=ek.Map?ek.Map:tL,rL=function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),iL=ek.Set?ek.Set:rL,oL=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=eL({},this.options_),t=this.options_=eL(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+BF()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&(XF(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),YF(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new iL,this.setIntervalIds_=new iL,this.rafIds_=new iL,this.namedRafs_=new nL,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),EF.has(this.el_)&&EF.delete(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=eL(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return jI(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],l=n;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i}))),l},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r},t.addChild=function(t,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){o=ZF(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&ZF(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[$F(o)]=i),"function"==typeof i.el&&i.el()){var l=null;this.children_[r+1]&&(this.children_[r+1].el_?l=this.children_[r+1].el_:MI(this.children_[r+1])&&(l=this.children_[r+1])),this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[ZF(e.name())]=null,this.childNameIndex_[$F(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,o=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||ZF(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var o=t.addChild(n,r);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return AF(e,t||this.contentEl())},t.$$=function(e,t){return hF(e,t||this.contentEl())},t.hasClass=function(e){return zI(this.el_,e)},t.addClass=function(e){qI(this.el_,e)},t.removeClass=function(e){WI(this.el_,e)},t.toggleClass=function(e,t){GI(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return YI(this.el_,e)},t.setAttribute=function(e,t){$I(this.el_,e,t)},t.removeAttribute=function(e){ZI(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+ZF(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=dI(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+ZF(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=ek.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(n=null,!0===e)&&(ek.performance.now()-t<200&&(r.preventDefault(),this.trigger("tap")))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=QF(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=QF(this,e),this.clearTimersOnDispose_(),n=ek.setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ek.clearTimeout(e)),e},t.setInterval=function(e,t){e=QF(this,e),this.clearTimersOnDispose_();var n=ek.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ek.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=QF(this,e),t=ek.requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=QF(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),ek.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[0],r=t[1];e[n].forEach((function(t,n){return e[r](n)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),o=i&&i.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw r=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=ZF(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map((function(e){return l[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[$F(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();function aL(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function sL(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:aL.bind(null,"start",0,e),end:aL.bind(null,"end",1,e)}}function lL(e,t){return Array.isArray(e)?sL(e):void 0===e||void 0===t?sL():sL([[e,t]])}function uL(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=lL(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(r=e.end(o))>t&&(r=t),i+=r-n;return i/t}function cL(e){if(e instanceof cL)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:uI(e)&&("number"==typeof e.code&&(this.code=e.code),lI(this,e)),this.message||(this.message=cL.defaultMessages[this.code]||"")}oL.prototype.supportsRaf_="function"==typeof ek.requestAnimationFrame&&"function"==typeof ek.cancelAnimationFrame,oL.registerComponent("Component",oL),cL.prototype.code=0,cL.prototype.message="",cL.prototype.status=null,cL.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],cL.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var dL=0;dL<cL.errorTypes.length;dL++)cL[cL.errorTypes[dL]]=dL,cL.prototype[cL.errorTypes[dL]]=dL;function AL(e){return null!=e&&"function"==typeof e.then}function hL(e){AL(e)&&e.then(null,(function(e){}))}var fL=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},pL=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track}));return Array.prototype.map.call(t,(function(e){var t=fL(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(fL))},gL=function(e,t){return e.forEach((function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return n.addCue(e)}))})),t.textTracks()},mL=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=jI("div",{className:"vjs-modal-dialog-content"},{role:"document"}),r.descEl_=jI("p",{className:"vjs-modal-dialog-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),KI(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),uF(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),aF(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=rk.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),uk.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(uk.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}rk.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof ek.HTMLAnchorElement||e instanceof ek.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof ek.HTMLInputElement||e instanceof ek.HTMLSelectElement||e instanceof ek.HTMLTextAreaElement||e instanceof ek.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof ek.HTMLIFrameElement||e instanceof ek.HTMLObjectElement||e instanceof ek.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(oL);mL.prototype.options_={pauseOnOpen:!0,temporary:!0},oL.registerComponent("ModalDialog",mL);var vL=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(ok(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}sk(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this,n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.tracks_[n]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){t.trigger({track:e,type:"labelchange",target:t})},HF(e)&&e.addEventListener("labelchange",e.labelchange_)},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(MF);for(var yL in vL.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},vL.prototype.allowedEvents_)vL.prototype["on"+yL]=null;var bL=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},_L=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){bL(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}sk(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&bL(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,bL(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(vL),wL=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},BL=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){wL(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(ok(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}sk(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&wL(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,wL(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(vL),CL=function(e){function t(){return e.apply(this,arguments)||this}sk(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(vL),EL=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),TL=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),SL={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},kL={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},xL={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},OL={disabled:"disabled",hidden:"hidden",showing:"showing"},UL=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+BF(),kind:t.kind||"",language:t.language||""},i=t.label||"",o=function(e){Object.defineProperty(ok(n),e,{get:function(){return r[e]},set:function(){}})};for(var a in r)o(a);return Object.defineProperty(ok(n),"label",{get:function(){return i},set:function(e){e!==i&&(i=e,this.trigger("labelchange"))}}),n}return sk(t,e),t}(MF),NL=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=rk.createElement("a");n.href=e;var r,i=""===n.host&&"file:"!==n.protocol;i&&((r=rk.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),rk.body.appendChild(r));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=ek.location.protocol),i&&rk.body.removeChild(r),o},IL=function(e){if(!e.match(/^https?:\/\//)){var t=rk.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},FL=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},LL=function(e,t){void 0===t&&(t=ek.location);var n=NL(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},PL=Object.freeze({__proto__:null,parseUrl:NL,getAbsoluteURL:IL,getFileExtension:FL,isCrossOrigin:LL}),QL=function(e,t){var n=new ek.WebVTT.Parser(ek,ek.vttjs,ek.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(ek.console&&ek.console.groupCollapsed&&ek.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return rI.error(e)})),ek.console&&ek.console.groupEnd&&ek.console.groupEnd()),n.flush()},DL=function(e,t){var n={uri:e},r=LL(e);r&&(n.cors=r);var i="use-credentials"===t.tech_.crossOrigin();i&&(n.withCredentials=i),fk(n,QF(this,(function(e,n,r){if(e)return rI.error(e,n);t.loaded_=!0,"function"!=typeof ek.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return QL(r,t);rI.error("vttjs failed to load, stopping trying to process "+t.src)})):QL(r,t)})))},ML=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=eL(t,{kind:xL[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=OL[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new TL(n.cues_),s=new TL(n.activeCues_),l=!1,u=QF(ok(n),(function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1))}));return n.tech_.one("dispose",(function(){n.tech_.off("timeupdate",u)})),"disabled"!==i&&n.tech_.on("timeupdate",u),Object.defineProperties(ok(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){OL[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||DL(this.src,this),this.tech_.off("timeupdate",u),"disabled"!==i&&this.tech_.on("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&DL(n.src,ok(n))):n.loaded_=!0,n}sk(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(ek.vttjs&&!(e instanceof ek.vttjs.VTTCue)){for(var n in t=new ek.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(UL);ML.prototype.allowedEvents_={cuechange:"cuechange"};var RL=function(e){function t(t){var n;void 0===t&&(t={});var r=eL(t,{kind:kL[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(ok(n),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return sk(t,e),t}(UL),HL=function(e){function t(t){var n;void 0===t&&(t={});var r=eL(t,{kind:SL[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(ok(n),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return sk(t,e),t}(UL),jL=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new ML(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(ok(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=0,i.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:ok(n)})})),n}return sk(t,e),t}(MF);jL.prototype.allowedEvents_={load:"load"},jL.NONE=0,jL.LOADING=1,jL.LOADED=2,jL.ERROR=3;var KL={audio:{ListClass:_L,TrackClass:RL,capitalName:"Audio"},video:{ListClass:BL,TrackClass:HL,capitalName:"Video"},text:{ListClass:CL,TrackClass:ML,capitalName:"Text"}};Object.keys(KL).forEach((function(e){KL[e].getterName=e+"Tracks",KL[e].privateName=e+"Tracks_"}));var VL={remoteText:{ListClass:CL,TrackClass:ML,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:EL,TrackClass:jL,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},zL=ik({},KL,VL);VL.names=Object.keys(VL),KL.names=Object.keys(KL),zL.names=[].concat(VL.names).concat(KL.names);var qL=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),zL.names.forEach((function(e){var n=zL[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new zL.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}sk(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(QF(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return lL(0,0)},n.bufferedPercent=function(){return uL(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(KL.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new cL(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?lL(0,0):lL()},n.play=function(){},n.setScrubbing=function(){},n.scrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;KL.names.forEach((function(t){var n=KL[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",(function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)}))}))},n.addWebVttScript_=function(){var e=this;if(!ek.WebVTT)if(rk.body.contains(this.el())){if(!this.options_["vtt.js"]&&cI(Gk)&&Object.keys(Gk).length>0)return void this.trigger("vttjsloaded");var t=rk.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),ek.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new zL.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=eL(e,{tech:this});return new VL.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(rI.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||ek.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ZF(e),t.techs_[e]=n,t.techs_[$F(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=ZF(e),ek&&ek.videojs&&ek.videojs[e]?(rI.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ek.videojs[e]):void 0)},t}(oL);zL.names.forEach((function(e){var t=zL[e];qL.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),qL.prototype.featuresVolumeControl=!0,qL.prototype.featuresMuteControl=!0,qL.prototype.featuresFullscreenResize=!1,qL.prototype.featuresPlaybackRate=!1,qL.prototype.featuresProgressEvents=!1,qL.prototype.featuresSourceset=!1,qL.prototype.featuresTimeupdateEvents=!1,qL.prototype.featuresNativeTextTracks=!1,qL.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:rI.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},oL.registerComponent("Tech",qL),qL.registerTech("Tech",qL),qL.defaultTechOrder_=[];var WL={},GL={},XL={};function JL(e,t,n){e.setTimeout((function(){return nP(t,WL[t.type],n,e)}),1)}function YL(e,t,n,r){void 0===r&&(r=null);var i="call"+ZF(n),o=e.reduce(tP(i),r),a=o===XL,s=a?null:t[n](o);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}(e,n,s,a),s}var $L={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},ZL={setCurrentTime:1,setMuted:1,setVolume:1},eP={play:1,pause:1};function tP(e){return function(t,n){return t===XL?XL:n[e]?n[e](t):t}}function nP(e,t,n,r,i,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=t,s=a[0],l=a.slice(1);if("string"==typeof s)nP(e,WL[s],n,r,i,o);else if(s){var u=function(e,t){var n=GL[e.id()],r=null;if(null==n)return r=t(e),GL[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}(r,s);if(!u.setSource)return i.push(u),nP(e,l,n,r,i,o);u.setSource(lI({},e),(function(t,a){if(t)return nP(e,l,n,r,i,o);i.push(u),nP(a,e.type===a.type?l:WL[a.type],n,r,i,o)}))}else l.length?nP(e,l,n,r,i,o):o?n(e,i):nP(e,WL["*"],n,r,i,!0)}var rP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},iP=function(e){void 0===e&&(e="");var t=FL(e);return rP[t.toLowerCase()]||""},oP=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):uI(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[aP({src:t})]:uI(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[aP(t)]:[];return t};function aP(e){if(!e.type){var t=iP(e.src);t&&(e.type=t)}return e}var sP=function(e){function t(t,n,r){var i,o=eL({createEl:!1},n);if(i=e.call(this,t,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=ZF(s[a]),u=qL.getTech(l);if(l||(u=oL.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return i}return sk(t,e),t}(oL);oL.registerComponent("MediaLoader",sP);var lP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).emitTapEvents(),r.enable(),r}sk(t,e);var n=t.prototype;return n.createEl=function(t,n,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=lI({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&rI.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=lI({role:"button"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=jI("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,KI(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleLanguagechange=function(){this.controlText(this.controlText_)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){uk.isEventKey(t,"Space")||uk.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(oL);oL.registerComponent("ClickableComponent",lP);var uP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),t.on("posterchange",QF(ok(r),r.update)),r}sk(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return jI("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(SI||CI)&&t||this.player_.tech(!0).focus(),this.player_.paused()?hL(this.player_.play()):this.player_.pause()}},t}(lP);oL.registerComponent("PosterImage",uP);var cP={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function dP(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function AP(e,t,n){try{e.style[t]=n}catch(cH){return}}var hP=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=QF(ok(i),i.updateDisplay);return t.on("loadstart",QF(ok(i),i.toggleDisplay)),t.on("texttrackchange",o),t.on("loadedmetadata",QF(ok(i),i.preselectTrack)),t.ready(QF(ok(i),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),ek.addEventListener("orientationchange",o),t.on("dispose",(function(){return ek.removeEventListener("orientationchange",o)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),i}sk(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in r?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof ek.WebVTT&&ek.WebVTT.processCues(ek,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var l=e[s];"showing"===l.mode&&("descriptions"===l.kind?o=l:a=l)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var i=n[r];if(i){var o=i.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&AP(o.firstChild,"color",dP(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&AP(o.firstChild,"backgroundColor",dP(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?AP(o,"backgroundColor",dP(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var a=ek.parseFloat(o.style.fontSize);o.style.fontSize=a*t.fontPercent+"px",o.style.height="auto",o.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=cP[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof ek.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.activeCues.length;++i)t.push(r.activeCues[i]);ek.WebVTT.processCues(ek,t,this.el_);for(var o=0;o<e.length;++o){for(var a=e[o],s=0;s<a.activeCues.length;++s){var l=a.activeCues[s].displayState;qI(l,"vjs-text-track-cue"),qI(l,"vjs-text-track-cue-"+(a.language?a.language:o))}this.player_.textTrackSettings&&this.updateDisplayState(a)}}},t}(oL);oL.registerComponent("TextTrackDisplay",hP);var fP=function(e){function t(){return e.apply(this,arguments)||this}return sk(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=jI("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(oL);oL.registerComponent("LoadingSpinner",fP);var pP=function(e){function t(){return e.apply(this,arguments)||this}sk(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=lI({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=lI({type:"button"},n);var r=oL.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return rI.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),oL.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){uk.isEventKey(t,"Space")||uk.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(lP);oL.registerComponent("Button",pP);var gP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return hL(t),void(!this.player_.tech(!0)||(SI||CI)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var o=function(){return i.focus()};AL(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(pP);gP.prototype.controlText_="Play Video",oL.registerComponent("BigPlayButton",gP);var mP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){uk.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(pP);oL.registerComponent("CloseButton",mP);var vP=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),n.replay&&r.on(t,"ended",r.handleEnded),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(pP);vP.prototype.controlText_="Play",oL.registerComponent("PlayToggle",vP);var yP=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},bP=yP;function _P(e,t){return void 0===t&&(t=e),bP(e,t)}var wP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["timeupdate","ended"],r.updateContent),r.updateTextNode_(),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=jI("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=_P(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;e&&t.contentEl_.firstChild!==e&&(e=null,rI.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),t.textNode_=rk.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(oL);wP.prototype.labelText_="Time",wP.prototype.controlText_="Time",oL.registerComponent("TimeDisplay",wP);var BP=function(e){function t(){return e.apply(this,arguments)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(wP);BP.prototype.labelText_="Current Time",BP.prototype.controlText_="Current Time",oL.registerComponent("CurrentTimeDisplay",BP);var CP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.updateContent),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(wP);CP.prototype.labelText_="Duration",CP.prototype.controlText_="Duration",oL.registerComponent("DurationDisplay",CP);var EP=function(e){function t(){return e.apply(this,arguments)||this}return sk(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(oL);oL.registerComponent("TimeDivider",EP);var TP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(jI("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(wP);TP.prototype.labelText_="Remaining Time",TP.prototype.controlText_="Remaining Time",oL.registerComponent("RemainingTimeDisplay",TP);var SP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=jI("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(oL);oL.registerComponent("LiveDisplay",SP);var kP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=jI("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(pP);kP.prototype.controlText_="Seek to live, currently playing live",oL.registerComponent("SeekToLive",kP);var xP=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},OP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}sk(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=lI({tabIndex:0},n),r=lI({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||EI||e.preventDefault(),eF(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;tF(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(xP(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=iF(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){uk.isEventKey(t,"Left")||uk.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):uk.isEventKey(t,"Right")||uk.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(oL);oL.registerComponent("Slider",OP);var UP=function(e,t){return xP(e/t*100,0,100).toFixed(2)+"%"},NP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",r.update),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=jI("span",{className:"vjs-control-text"}),r=jI("span",{textContent:this.localize("Loaded")}),i=rk.createTextNode(": ");return this.percentageEl_=jI("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),o=t.partEls_,a=UP(i,r);t.percent_!==a&&(t.el_.style.width=a,KI(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var l=n.start(s),u=n.end(s),c=o[s];c||(c=t.el_.appendChild(jI()),o[s]=c),c.dataset.start===l&&c.dataset.end===u||(c.dataset.start=l,c.dataset.end=u,c.style.left=UP(l,i),c.style.width=UP(u-l,i))}for(var d=o.length;d>n.length;d--)t.el_.removeChild(o[d-1]);o.length=n.length}))},t}(oL);oL.registerComponent("LoadProgressBar",NP);var IP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=DF(QF(ok(r),r.update),30),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=rF(this.el_),i=nF(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),l=r.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>r.width&&(l=r.width),l=Math.round(l),this.el_.style.right="-"+l+"px",this.write(n)}},n.write=function(e){KI(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),l=s-t*s;o=(l<1?"":"-")+_P(l,s)}else o=_P(n,a);i.update(e,t,o),r&&r()}))},t}(oL);oL.registerComponent("TimeTooltip",IP);var FP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=DF(QF(ok(r),r.update),30),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(oL);FP.prototype.options_={children:[]},II||bI||FP.prototype.options_.children.push("timeTooltip"),oL.registerComponent("PlayProgressBar",FP);var LP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=DF(QF(ok(r),r.update),30),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(oL);LP.prototype.options_={children:["timeTooltip"]},oL.registerComponent("MouseTimeDisplay",LP);var PP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}sk(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update_=QF(this,this.update),this.update=DF(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in rk&&"visibilityState"in rk&&this.on(rk,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){"hidden"===rk.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this;if("hidden"!==rk.visibilityState){var r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[_P(e,i),_P(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(nF(n.el()),n.getProgress())})),r}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){cF(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(cF(e)){var t,n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(n>=.99)return void r.seekToLiveEdge();var i=r.seekableStart(),o=r.liveCurrentTime();if((t=i+n*r.liveWindow())>=o&&(t=o),t<=i&&(t=i+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?hL(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(uk.isEventKey(t,"Space")||uk.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(uk.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(uk.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(uk(t))){t.preventDefault(),t.stopPropagation();var n=10*(uk.codes[uk(t)]-uk.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else uk.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):uk.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in rk&&"visibilityState"in rk&&this.off(rk,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(OP);PP.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},II||bI||PP.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),oL.registerComponent("SeekBar",PP);var QP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=DF(QF(ok(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=DF(QF(ok(r),r.handleMouseSeek),30),r.enable(),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),o=rF(i),a=iF(i,e).x;a=xP(a,0,1),r&&r.update(o,a),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){if(this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&hL(this.player_.play())}},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},t}(oL);QP.prototype.options_={children:["seekBar"]},oL.registerComponent("ProgressControl",QP);var DP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],r.handlePictureInPictureChange),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],r.handlePictureInPictureEnabledChange),r.disable(),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){rk.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(pP);DP.prototype.controlText_="Picture-in-Picture",oL.registerComponent("PictureInPictureToggle",DP);var MP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",r.handleFullscreenChange),!1===rk[t.fsApi_.fullscreenEnabled]&&r.disable(),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(pP);MP.prototype.controlText_="Fullscreen",oL.registerComponent("FullscreenToggle",MP);var RP=function(e){function t(){return e.apply(this,arguments)||this}return sk(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(oL);oL.registerComponent("VolumeLevel",RP);var HP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready((function(){return r.updateARIAAttributes()})),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){cF(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){cF(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(OP);HP.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},HP.prototype.playerEvent="volumechange",oL.registerComponent("VolumeBar",HP);var jP=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||cI(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(ok(r=e.call(this,t,n)||this),t),r.throttledHandleMouseMove=DF(QF(ok(r),r.handleMouseMove),30),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(oL);jP.prototype.options_={children:["volumeBar"]},oL.registerComponent("VolumeControl",jP);var KP=function(e){function t(t,n){var r;return function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(ok(r=e.call(this,t,n)||this),t),r.on(t,["loadstart","volumechange"],r.update),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;II&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)WI(this.el_,"vjs-vol-"+n);qI(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(pP);KP.prototype.controlText_="Mute",oL.registerComponent("MuteToggle",KP);var VP=function(e){function t(t,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||cI(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}sk(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){uk.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),OF(rk,"keyup",QF(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),UF(rk,"keyup",QF(this,this.handleKeyPress))},n.handleKeyPress=function(e){uk.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(oL);VP.prototype.options_={children:["muteToggle","volumeControl"]},oL.registerComponent("VolumePanel",VP);var zP=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=QF(ok(r),r.handleBlur),r.boundHandleTapClick_=QF(ok(r),r.handleTapClick),r}sk(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof oL&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof oL&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=jI(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),OF(n,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||rk.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){uk.isEventKey(e,"Left")||uk.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(uk.isEventKey(e,"Right")||uk.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(oL);oL.registerComponent("Menu",zP);var qP=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new pP(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=pP.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),OF(rk,"keyup",QF(ok(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}sk(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new zP(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=jI("li",{className:"vjs-menu-title",innerHTML:ZF(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new oL(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+pP.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),UF(rk,"keyup",QF(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){uk.isEventKey(e,"Esc")||uk.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),uk.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(uk.isEventKey(e,"Up")||uk.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(uk.isEventKey(e,"Esc")||uk.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(uk.isEventKey(e,"Esc")||uk.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),uk.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),II&&RI())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(oL);oL.registerComponent("MenuButton",qP);var WP=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return ok(r);var o=QF(ok(r),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),i.addEventListener("labelchange",o),r.player_.on("ready",o),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o),i.removeEventListener("labelchange",o)})),r}return sk(t,e),t}(qP);oL.registerComponent("TrackButton",WP);var GP=["Tab","Esc","Up","Down","Right","Left"],XP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}sk(t,e);var n=t.prototype;return n.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",lI({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},n.handleKeyDown=function(t){GP.some((function(e){return uk.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(lP);oL.registerComponent("MenuItem",XP);var JP=function(e){function t(t,n){var r,i=n.track,o=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=e.call(this,t,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(ok(r),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(ok(r),t)};(t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",l),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",l)})),void 0===o.onchange)&&r.on(["tap","click"],(function(){if("object"!=typeof ek.Event)try{a=new ek.Event("change")}catch(e){}a||(a=rk.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)}));return r.handleTracksChange(),r}sk(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(XP);oL.registerComponent("TextTrackMenuItem",JP);var YP=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}sk(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(JP);oL.registerComponent("OffTextTrackMenuItem",YP);var $P=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return sk(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=JP),this.label_&&(n=this.label_+" off"),e.push(new YP(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(WP);oL.registerComponent("TextTrackButton",$P);var ZP=function(e){function t(t,n){var r,i=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=o,i.addEventListener("cuechange",QF(ok(r),r.update)),r}sk(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(XP);oL.registerComponent("ChaptersTrackMenuItem",ZP);var eQ=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ZF(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new ZP(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}($P);eQ.prototype.kind_="chapters",eQ.prototype.controlText_="Chapters",oL.registerComponent("ChaptersButton",eQ);var tQ=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=t.textTracks(),a=QF(ok(i),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}sk(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}($P);tQ.prototype.kind_="descriptions",tQ.prototype.controlText_="Descriptions",oL.registerComponent("DescriptionsButton",tQ);var nQ=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}($P);nQ.prototype.kind_="subtitles",nQ.prototype.controlText_="Subtitles",oL.registerComponent("SubtitlesButton",nQ);var rQ=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return sk(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(JP);oL.registerComponent("CaptionSettingsMenuItem",rQ);var iQ=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rQ(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}($P);iQ.prototype.kind_="captions",iQ.prototype.controlText_="Captions",oL.registerComponent("CaptionsButton",iQ);var oQ=function(e){function t(){return e.apply(this,arguments)||this}return sk(t,e),t.prototype.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,lI({innerHTML:i},n),r)},t}(JP);oL.registerComponent("SubsCapsMenuItem",oQ);var aQ=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(ZF(r.label_)),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new rQ(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,oQ)},t}($P);aQ.prototype.kinds_=["captions","subtitles"],aQ.prototype.controlText_="Subtitles",oL.registerComponent("SubsCapsButton",aQ);var sQ=function(e){function t(t,n){var r,i=n.track,o=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(ok(r),t)};return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}sk(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,lI({innerHTML:i},n),r)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(XP);oL.registerComponent("AudioTrackMenuItem",sQ);var lQ=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new sQ(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(WP);lQ.prototype.controlText_="Audio Track",oL.registerComponent("AudioTrackButton",lQ);var uQ=function(e){function t(t,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=o,r.on(t,"ratechange",r.update),r}sk(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(XP);uQ.prototype.contentElType="button",oL.registerComponent("PlaybackRateMenuItem",uQ);var cQ=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}sk(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=jI("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new zP(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new uQ(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(qP);cQ.prototype.controlText_="Playback Rate",oL.registerComponent("PlaybackRateMenuButton",cQ);var dQ=function(e){function t(){return e.apply(this,arguments)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(oL);oL.registerComponent("Spacer",dQ);var AQ=function(e){function t(){return e.apply(this,arguments)||this}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(dQ);oL.registerComponent("CustomControlSpacer",AQ);var hQ=function(e){function t(){return e.apply(this,arguments)||this}return sk(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(oL);hQ.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in rk&&hQ.prototype.options_.children.splice(hQ.prototype.options_.children.length-1,0,"pictureInPictureToggle"),oL.registerComponent("ControlBar",hQ);var fQ=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",r.open),r}sk(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(mL);fQ.prototype.options_=ik({},mL.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),oL.registerComponent("ErrorDisplay",fQ);var pQ=["#000","Black"],gQ=["#00F","Blue"],mQ=["#0FF","Cyan"],vQ=["#0F0","Green"],yQ=["#F0F","Magenta"],bQ=["#F00","Red"],_Q=["#FFF","White"],wQ=["#FF0","Yellow"],BQ=["1","Opaque"],CQ=["0.5","Semi-Transparent"],EQ=["0","Transparent"],TQ={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[pQ,_Q,bQ,vQ,gQ,wQ,yQ,mQ]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[BQ,CQ,EQ]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[_Q,pQ,bQ,vQ,gQ,wQ,yQ,mQ]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[BQ,CQ]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[EQ,CQ,BQ]}};function SQ(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}TQ.windowColor.options=TQ.backgroundColor.options;var kQ=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=QF(ok(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=jI("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),sI(TQ,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}sk(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=TQ[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return jI("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return jI("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return jI("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,o,a=(i=r.$(t.selector),o=t.parser,SQ(i.options[i.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),aI(e=TQ).reduce((function(n,r){return t(n,e[r],r)}),n)},n.setValues=function(e){var t=this;sI(TQ,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(SQ(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;sI(TQ,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(ek.localStorage.getItem("vjs-text-track-settings"))}catch(t){rI.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?ek.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):ek.localStorage.removeItem("vjs-text-track-settings")}catch(t){rI.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(mL);oL.registerComponent("TextTrackSettings",kQ);var xQ=function(e){function t(t,n){var r,i=n.ResizeObserver||ek.ResizeObserver;null===n.ResizeObserver&&(i=!1);var o=eL({createEl:!i,reportTouchActivity:!1},n);return(r=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||ek.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var i;void 0===r&&(r=ek);var o=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||e.apply(o,a)};!i&&n&&e.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,t)};return o.cancel=function(){r.clearTimeout(i),i=null},o}((function(){r.resizeHandler()}),100,!1,ok(r)),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){UF(this,"resize",e),UF(this,"unload",t),t=null};OF(r.el_.contentWindow,"unload",t),OF(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}sk(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(oL);oL.registerComponent("ResizeManager",xQ);var OQ={trackingThreshold:30,liveTolerance:15},UQ=function(e){function t(t,n){var r,i=eL(OQ,n,{createEl:!1});return(r=e.call(this,t,i)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),r.one(r.player_,"canplay",(function(){return r.toggleTracking()})),SI&&"hidden"in rk&&"visibilityState"in rk&&r.on(rk,"visibilitychange",r.handleVisibilityChange),r}sk(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(rk.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(ek.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),i=this.player_.currentTime(),o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-i)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.toggleTracking()},n.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&e>2,this.skipNextSeeked_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(rk,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},t}(oL);oL.registerComponent("LiveTracker",UQ);var NQ,IQ=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},FQ=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=rk.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=rk.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",ek.Element.prototype.appendChild.call(this,n),this.innerHTML}}),LQ=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},PQ=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return LQ([e.el(),ek.HTMLMediaElement.prototype,ek.Element.prototype,FQ],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(t,i);return IQ(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))})),Object.defineProperty(t,"innerHTML",eL(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},QQ=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?IL(ek.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return ek.Element.prototype.setAttribute.call(this,"src",e),e}}),DQ=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return LQ([e.el(),ek.HTMLMediaElement.prototype,QQ],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",eL(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var o=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=i.call(t);return IQ(e)||(e.triggerSourceset(""),PQ(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):IQ(e)||PQ(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},MQ=function(e,t,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(o.set=i),Object.defineProperty(e,t,o)},RQ=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,o=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var a=r.el_.childNodes,s=a.length,l=[];s--;){var u=a[s];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),o||r.el_.hasAttribute("crossorigin")||!LL(u.src)||(o=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&rI.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(OI||NI||wI)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}sk(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){DQ(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=KL[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[VL.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;KL.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=rk.createElement("video");var r=eL({},this.options_.tag&&JI(this.options_.tag));OI&&!0===this.options_.nativeControlsForTouch||delete r.controls,XI(e,lI(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&$I(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var a=i[o],s=this.options_[a];void 0!==s&&(s?$I(e,a,a):ZI(e,a),e[a]=s)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.scrubbing=function(){return this.isScrubbing_},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&FI?this.el_.fastSeek(e):this.el_.currentTime=e}catch(cH){rI(cH,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&bI&&EI&&0===this.el_.currentTime){return this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=ek.navigator&&ek.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)hL(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(cH){this.trigger("fullscreenerror",cH)}}),0);else try{e.webkitEnterFullScreen()}catch(cH){this.trigger("fullscreenerror",cH)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=rk.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ek.performance&&"function"==typeof ek.performance.now?e.creationTime=ek.performance.now():ek.performance&&ek.performance.timing&&"number"==typeof ek.performance.timing.navigationStart&&(e.creationTime=ek.Date.now()-ek.performance.timing.navigationStart),e},t}(qL);MQ(RQ,"TEST_VID",(function(){if(DI()){var e=rk.createElement("video"),t=rk.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),RQ.isSupported=function(){try{RQ.TEST_VID.volume=.5}catch(cH){return!1}return!(!RQ.TEST_VID||!RQ.TEST_VID.canPlayType)},RQ.canPlayType=function(e){return RQ.TEST_VID.canPlayType(e)},RQ.canPlaySource=function(e,t){return RQ.canPlayType(e.type)},RQ.canControlVolume=function(){try{var e=RQ.TEST_VID.volume;return RQ.TEST_VID.volume=e/2+.1,e!==RQ.TEST_VID.volume}catch(cH){return!1}},RQ.canMuteVolume=function(){try{var e=RQ.TEST_VID.muted;return RQ.TEST_VID.muted=!e,RQ.TEST_VID.muted?$I(RQ.TEST_VID,"muted","muted"):ZI(RQ.TEST_VID,"muted"),e!==RQ.TEST_VID.muted}catch(cH){return!1}},RQ.canControlPlaybackRate=function(){if(bI&&EI&&TI<58)return!1;try{var e=RQ.TEST_VID.playbackRate;return RQ.TEST_VID.playbackRate=e/2+.1,e!==RQ.TEST_VID.playbackRate}catch(cH){return!1}},RQ.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(rk.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(rk.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(rk.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(rk.createElement("audio"),"innerHTML",{get:e,set:e})}catch(cH){return!1}return!0},RQ.supportsNativeTextTracks=function(){return FI||II&&EI},RQ.supportsNativeVideoTracks=function(){return!(!RQ.TEST_VID||!RQ.TEST_VID.videoTracks)},RQ.supportsNativeAudioTracks=function(){return!(!RQ.TEST_VID||!RQ.TEST_VID.audioTracks)},RQ.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[0],n=e[1];MQ(RQ.prototype,t,(function(){return RQ[n]()}),!0)})),RQ.prototype.movingMediaElementInDOM=!II,RQ.prototype.featuresFullscreenResize=!0,RQ.prototype.featuresProgressEvents=!0,RQ.prototype.featuresTimeupdateEvents=!0,RQ.patchCanPlayType=function(){_I>=4&&!BI&&!EI&&(NQ=RQ.TEST_VID&&RQ.TEST_VID.constructor.prototype.canPlayType,RQ.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":NQ.call(this,e)})},RQ.unpatchCanPlayType=function(){var e=RQ.TEST_VID.constructor.prototype.canPlayType;return NQ&&(RQ.TEST_VID.constructor.prototype.canPlayType=NQ),e},RQ.patchCanPlayType(),RQ.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(cH){}}()}},RQ.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(cH){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){RQ.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){RQ.prototype["set"+ZF(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){RQ.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){RQ.prototype["set"+ZF(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){RQ.prototype[e]=function(){return this.el_[e]()}})),qL.withSourceHandlers(RQ),RQ.nativeSourceHandler={},RQ.nativeSourceHandler.canPlayType=function(e){try{return RQ.TEST_VID.canPlayType(e)}catch(cH){return""}},RQ.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return RQ.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=FL(e.src);return RQ.nativeSourceHandler.canPlayType("video/"+n)}return""},RQ.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},RQ.nativeSourceHandler.dispose=function(){},RQ.registerSourceHandler(RQ.nativeSourceHandler),qL.registerTech("Html5",RQ);var HQ=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],jQ={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},KQ=["tiny","xsmall","small","medium","large","xlarge","huge"],VQ={};KQ.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;VQ[e]="vjs-layout-"+t}));var zQ={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},qQ=function(e){function t(n,r,i){var o;if(n.id=n.id||r.id||"vjs_video_"+BF(),(r=lI(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(JI(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=function(e){return o.documentFullscreenChange_(e)},o.boundFullWindowOnEscKey_=function(e){return o.fullWindowOnEscKey(e)},o.isFullscreen_=!1,o.log=iI(o.id_),o.fsApi_=YN,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&JI(n),o.language(o.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach((function(e){l[e.toLowerCase()]=r.languages[e]})),o.languages_=l}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),XF(ok(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(OF(rk,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on(["playerreset","resize"],o.updateStyleEl_);var u=eL(o.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){o[e](r.plugins[e])})),r.debug&&o.debug(!0),o.options_.playerOptions=u,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),OI&&o.addClass("vjs-touch-enabled"),II||o.addClass("vjs-workinghover"),t.players[o.id_]=ok(o);var c="7.11.8".split(".")[0];return o.addClass("vjs-v"+c),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("stageclick",o.handleStageClick_),o.on("keydown",o.handleKeyDown),o.on("languagechange",o.handleLanguagechange),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}sk(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),UF(rk,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),UF(rk,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),GL[this.id()]=null,zL.names.forEach((function(e){var t=zL[e],r=n[t.getterName]();r&&r.off&&r.off()})),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=JI(n);if(i){for(t=this.el_=n,n=this.tag=rk.createElement("video");t.children.length;)n.appendChild(t.firstChild);zI(t,"video-js")||qI(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(cH){}}))}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",(SI||EI&&xI)&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(e){i&&"class"===e||t.setAttribute(e,o[e]),i&&n.setAttribute(e,o[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==ek.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=bF("vjs-styles-dimensions");var a=AF(".vjs-styles-defaults"),s=AF("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=n.getElementsByTagName("a"),u=0;u<l.length;u++){var c=l.item(u);qI(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),VI(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):rI.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?rI.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){var t,n,r=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,HF(this)&&this.off(["playerreset","resize"],this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=function(){r.on(["playerreset","resize"],r.updateStyleEl_)},HF(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==ek.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),_F(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=ZF(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(qL.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};zL.names.forEach((function(e){var t=zL[e];o[t.getterName]=n[t.privateName]})),lI(o,this.options_[r]),lI(o,this.options_[i]),lI(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=qL.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(QF(this,this.handleTechReady_),!0),gL(this.textTracksJson_||[],this.tech_),HQ.forEach((function(e){n.on(n.tech_,e,n["handleTech"+ZF(e)+"_"])})),Object.keys(jQ).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+jQ[e]+"_"].bind(n),event:t}):n["handleTech"+jQ[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||VI(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;zL.names.forEach((function(t){var n=zL[t];e[n.privateName]=e[n.getterName]()})),this.textTracksJson_=pL(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&rI.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(AL(r))return r.catch(n)};if("any"===e&&!0!==this.muted()?AL(n=this.play())&&(n=n.catch(r)):n="muted"===e&&!0!==this.muted()?r():this.play(),AL(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return iP(t)}(this,t)),this.cache_.source=eL({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=JI(o[s]);i.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(rI.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){cF(e)&&this.controls_&&(this.paused()?hL(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=rk[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},n.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in ZL)return function(e,t,n,r){return t[n](e.reduce(tP(n),r))}(this.middleware_,this.tech_,e,t);if(e in eP)return YL(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(cH){throw rI(cH),cH}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in $L)return function(e,t,n){return e.reduceRight(tP(n),t[n]())}(this.middleware_,this.tech_,e);if(e in eP)return YL(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(cH){if(void 0===this.tech_[e])throw rI("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",cH),cH;if("TypeError"===cH.name)throw rI("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",cH),this.tech_.isReady_=!1,cH;throw rI(cH),cH}}},n.play=function(){var e=this,t=this.options_.Promise||ek.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=hL),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!FI&&!II||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||lL(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=lL(0,0)),e},n.bufferedPercent=function(){return uL(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||ek.Promise;if(t){var n=this;return new t((function(t,r){function i(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){i(),t()}function a(e,t){i(),r(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);if(s)return s.then(i,i),s}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||ek.Promise;if(e){var t=this;return new e((function(e,n){function r(){t.off("fullscreenerror",o),t.off("fullscreenchange",i)}function i(){r(),e()}function o(e,t){r(),n(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();if(a)return a.then(r,r),a}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=rk[this.fsApi_.exitFullscreen]();return t&&t.then((function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=rk.documentElement.style.overflow,OF(rk,"keydown",this.boundFullWindowOnEscKey_),rk.documentElement.style.overflow="hidden",qI(rk.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){uk.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,UF(rk,"keydown",this.boundFullWindowOnEscKey_),rk.documentElement.style.overflow=this.docOrigOverflow,WI(rk.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in rk&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in rk)return rk.exitPictureInPicture()},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){(function(e){var t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return uk.isEventKey(e,"f")}:n,i=t.muteKey,o=void 0===i?function(e){return uk.isEventKey(e,"m")}:i,a=t.playPauseKey,s=void 0===a?function(e){return uk.isEventKey(e,"k")||uk.isEventKey(e,"Space")}:a;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var l=oL.getComponent("FullscreenToggle");!1!==rk[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,e)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),oL.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),oL.getComponent("PlayToggle").prototype.handleClick.call(this,e)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=qL.getTech(i);if(o||(o=oL.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else rI.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map((function(e){return[e,qL.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(rI.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),i=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},o=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?i(e,r,(t=o,function(e,n){return t(n,e)})):i(r,e,o))||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=oP(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),JL(this,n[0],(function(e,r){var i,o;if(t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());i=r,o=t.tech_,i.forEach((function(e){return e.setTech&&e.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,ZF(t)!==ZF(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){r.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||ek.Promise;this.paused()||!t?this.doReset_():hL(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),HF(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new cL(e),this.addClass("vjs-error"),rI.error("(CODE:"+this.error_.code+" "+cL.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=QF(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var o,a=this.getChild("controlBar");!a||II||bI||(a.on("mouseenter",(function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),HF(this)&&this.trigger("languagechange"))},n.languages=function(){return eL(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=eL(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=eL(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new mL(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<KQ.length;n++){var r=KQ[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(VQ[e]),this.addClass(VQ[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=lI({},zQ,e),this.updateCurrentBreakpoint_()),lI(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return VQ[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=eL(e);var r=this.cache_.media,i=r.artwork,o=r.poster,a=r.src,s=r.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:iP(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:iP(t.poster)}]),t}return eL(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=JI(e),r=n["data-setup"];if(zI(e,"vjs-fill")&&(n.fill=!0),zI(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=lk(r||"{}"),o=i[0],a=i[1];o&&rI.error(o),lI(n,a)}if(lI(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],d=c.nodeName.toLowerCase();"source"===d?t.sources.push(JI(c)):"track"===d&&t.tracks.push(JI(c))}return t},n.flexNotSupported_=function(){var e=rk.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t}(oL);zL.names.forEach((function(e){var t=zL[e];qQ.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),qQ.prototype.crossorigin=qQ.prototype.crossOrigin,qQ.players={};var WQ=ek.navigator;qQ.prototype.options_={techOrder:qL.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:WQ&&(WQ.languages&&WQ.languages[0]||WQ.userLanguage||WQ.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){qQ.prototype[e]=function(){return this.techGet_(e)}})),HQ.forEach((function(e){qQ.prototype["handleTech"+ZF(e)+"_"]=function(){return this.trigger(e)}})),oL.registerComponent("Player",qQ);var GQ={},XQ=function(e){return GQ.hasOwnProperty(e)},JQ=function(e){return XQ(e)?GQ[e]:void 0},YQ=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},$Q=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},ZQ=function(e,t){return t.prototype.name=e,function(){$Q(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Jk(t,[this].concat(r));return this[e]=function(){return o},$Q(this,o.getEventHash()),o}},eD=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),XF(this),delete this.trigger,YF(this,this.constructor.defaultState),YQ(t,this.name),this.dispose=QF(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),NF(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=ZQ(e,GQ[e])},e.isBasic=function(t){var n="string"==typeof t?JQ(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(XQ(t))rI.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(qQ.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return GQ[t]=n,"plugin"!==t&&(e.isBasic(n)?qQ.prototype[t]=function(e,t){var n=function(){$Q(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return YQ(this,e),$Q(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):qQ.prototype[t]=ZQ(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");XQ(e)&&(delete GQ[e],delete qQ.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(GQ)),e.forEach((function(e){var n=JQ(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=JQ(e);return t&&t.VERSION||""},e}();eD.getPlugin=JQ,eD.BASE_PLUGIN_NAME="plugin",eD.registerPlugin("plugin",eD),qQ.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},qQ.prototype.hasPlugin=function(e){return!!XQ(e)};var tD=function(e){return 0===e.indexOf("#")?e.slice(1):e};function nD(e,t,n){var r=nD.getPlayer(e);if(r)return t&&rI.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?AF("#"+tD(e)):e;if(!MI(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||rI.warn("The element supplied is not included in the DOM"),t=t||{},nD.hooks("beforesetup").forEach((function(e){var n=e(i,eL(t));uI(n)&&!Array.isArray(n)?t=eL(t,n):rI.error("please return an object in beforesetup hooks")}));var o=oL.getComponent("Player");return r=new o(i,t,n),nD.hooks("setup").forEach((function(e){return e(r)})),r}if(nD.hooks_={},nD.hooks=function(e,t){return nD.hooks_[e]=nD.hooks_[e]||[],t&&(nD.hooks_[e]=nD.hooks_[e].concat(t)),nD.hooks_[e]},nD.hook=function(e,t){nD.hooks(e,t)},nD.hookOnce=function(e,t){nD.hooks(e,[].concat(t).map((function(t){return function n(){return nD.removeHook(e,n),t.apply(void 0,arguments)}})))},nD.removeHook=function(e,t){var n=nD.hooks(e).indexOf(t);return!(n<=-1)&&(nD.hooks_[e]=nD.hooks_[e].slice(),nD.hooks_[e].splice(n,1),!0)},!0!==ek.VIDEOJS_NO_DYNAMIC_STYLE&&DI()){var rD=AF(".vjs-styles-defaults");if(!rD){rD=bF("vjs-styles-defaults");var iD=AF("head");iD&&iD.insertBefore(rD,iD.firstChild),_F(rD,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}mF(1,nD),nD.VERSION="7.11.8",nD.options=qQ.prototype.options_,nD.getPlayers=function(){return qQ.players},nD.getPlayer=function(e){var t,n=qQ.players;if("string"==typeof e){var r=tD(e),i=n[r];if(i)return i;t=AF("#"+r)}else t=e;if(MI(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},nD.getAllPlayers=function(){return Object.keys(qQ.players).map((function(e){return qQ.players[e]})).filter(Boolean)},nD.players=qQ.players,nD.getComponent=oL.getComponent,nD.registerComponent=function(e,t){qL.isTech(t)&&rI.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),oL.registerComponent.call(oL,e,t)},nD.getTech=qL.getTech,nD.registerTech=qL.registerTech,nD.use=function(e,t){WL[e]=WL[e]||[],WL[e].push(t)},Object.defineProperty(nD,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(nD.middleware,"TERMINATOR",{value:XL,writeable:!1,enumerable:!0}),nD.browser=LI,nD.TOUCH_ENABLED=OI,nD.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ak(e,t)}(n,e),e&&(n.super_=e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},nD.mergeOptions=eL,nD.bind=QF,nD.registerPlugin=eD.registerPlugin,nD.deregisterPlugin=eD.deregisterPlugin,nD.plugin=function(e,t){return rI.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),eD.registerPlugin(e,t)},nD.getPlugins=eD.getPlugins,nD.getPlugin=eD.getPlugin,nD.getPluginVersion=eD.getPluginVersion,nD.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),nD.options.languages=eL(nD.options.languages,((n={})[e]=t,n)),nD.options.languages[e]},nD.log=rI,nD.createLogger=iI,nD.createTimeRange=nD.createTimeRanges=lL,nD.formatTime=_P,nD.setFormatTime=function(e){bP=e},nD.resetFormatTime=function(){bP=yP},nD.parseUrl=NL,nD.isCrossOrigin=LL,nD.EventTarget=MF,nD.on=OF,nD.one=IF,nD.off=UF,nD.trigger=NF,nD.xhr=fk,nD.TextTrack=ML,nD.AudioTrack=RL,nD.VideoTrack=HL,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){nD[e]=function(){return rI.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),fF[e].apply(null,arguments)}})),nD.computedStyle=dI,nD.dom=fF,nD.url=PL,nD.defineLazyProperty=MQ;
/*! @name @videojs/http-streaming @version 2.6.4 @license Apache-2.0 */
var oD=Zk,aD=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},sD=function(e){return nD.log.debug?nD.log.debug.bind(nD,"VHS:",e+" >"):function(){}},lD=nD.log,uD=function(e,t){return e+"-"+t},cD=function(e){var t=e.onwarn,n=e.oninfo,r=e.manifestString,i=e.customTagParsers,o=void 0===i?[]:i,a=e.customTagMappers,s=void 0===a?[]:a,l=new ox;return t&&l.on("warn",t),n&&l.on("info",n),o.forEach((function(e){return l.addParser(e)})),s.forEach((function(e){return l.addTagMapper(e)})),l.push(r),l.end(),l.manifest},dD=function(e,t){["AUDIO","SUBTITLES"].forEach((function(n){for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var o=e.mediaGroups[n][r][i];t(o,n,r,i)}}))},AD=function(e){var t=e.playlist,n=e.uri,r=e.id;t.id=r,n&&(t.uri=n),t.attributes=t.attributes||{}},hD=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)if(!e.playlists[n].uri){var r="placeholder-uri-"+n;e.playlists[n].uri=r}dD(e,(function(t,n,r,i){if(t.playlists&&t.playlists.length&&!t.playlists[0].uri){var o="placeholder-uri-"+n+"-"+r+"-"+i,a=uD(0,o);t.playlists[0].uri=o,t.playlists[0].id=a,e.playlists[a]=t.playlists[0],e.playlists[o]=t.playlists[0]}})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];AD({playlist:n,id:uD(t,n.uri)}),n.resolvedUri=oD(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||lD.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){dD(e,(function(t){t.uri&&(t.resolvedUri=oD(e.uri,t.uri))}))}(e)},fD=nD.mergeOptions,pD=nD.EventTarget,gD=function(e,t){e.resolvedUri||(e.resolvedUri=oD(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=oD(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=oD(t,e.map.uri))},mD=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence},vD=function(e,t,n){void 0===n&&(n=mD);var r=fD(e,{}),i=r.playlists[t.id];if(!i)return null;if(n(i,t))return null;var o=fD(i,t);i.segments&&(o.segments=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=fD(e[o],r[o-n]);return r}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),o.segments.forEach((function(e){gD(e,o.resolvedUri)}));for(var a=0;a<r.playlists.length;a++)r.playlists[a].id===t.id&&(r.playlists[a]=o);return r.playlists[t.id]=o,r.playlists[t.uri]=o,r},yD=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},bD=function(e){function t(t,n,r){var i;if(void 0===r&&(r={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");i.logger_=sD("PlaylistLoader");var o=r,a=o.withCredentials,s=void 0!==a&&a,l=o.handleManifestRedirects,u=void 0!==l&&l;i.src=t,i.vhs_=n,i.withCredentials=s,i.handleManifestRedirects=u;var c=n.options_;return i.customTagParsers=c&&c.customTagParsers||[],i.customTagMappers=c&&c.customTagMappers||[],i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.vhs_.xhr({uri:oD(i.master.uri,i.media().uri),withCredentials:i.withCredentials},(function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media(),"HAVE_METADATA"):void i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})})))})),i}sk(t,e);var n=t.prototype;return n.playlistRequestError=function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.haveMetadata=function(e){var t=this,n=e.playlistString,r=e.playlistObject,i=e.url,o=e.id;this.request=null,this.state="HAVE_METADATA";var a=r||cD({onwarn:function(e){var n=e.message;return t.logger_("m3u8-parser warn for "+o+": "+n)},oninfo:function(e){var n=e.message;return t.logger_("m3u8-parser info for "+o+": "+n)},manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});a.lastRequest=Date.now(),AD({playlist:a,uri:i,id:o});var s=vD(this.master,a);this.targetDuration=a.targetDuration,s?(this.master=s,this.media_=this.master.playlists[o]):this.trigger("playlistunchanged"),this.media().endList||(ek.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=ek.setTimeout((function(){t.trigger("mediaupdatetimeout")}),yD(this.media(),!!s))),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),ek.clearTimeout(this.mediaUpdateTimeout),ek.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(ek.clearTimeout(this.finalRenditionTimeout),t){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=ek.setTimeout(this.media.bind(this,e,!1),r)}else{var i=this.state,o=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(o&&(this.trigger("mediachanging"),"HAVE_MASTER"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(o){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.lastRequest=Date.now(),e.resolvedUri=aD(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,i);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===i?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.stopRequest(),ek.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;ek.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ek.setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=ek.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=aD(e.handleManifestRedirects,e.src,n);var r=cD({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(r)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,hD(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments&&e.segments.forEach((function(t){gD(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||ek.location.href;this.master=function(e,t){var n=uD(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ek.location.href,resolvedUri:ek.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(pD),_D=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return nD.createTimeRanges(r)},wD=function(e,t){return _D(e,(function(e,n){return e-.1<=t&&n+.1>=t}))},BD=function(e,t){return _D(e,(function(e){return e-.03333333333333333>=t}))},CD=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},ED=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},TD=nD.createTimeRange,SD=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(void 0!==(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=i.duration,void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=n.duration,void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},kD=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return ek.Infinity}return SD(e,t,n)},xD=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r},OD=function(e,t){if(!e.segments.length)return 0;var n=e.segments.length,r=e.segments[n-1].duration||e.targetDuration,i="number"==typeof t?t:r+2*e.targetDuration;if(0===i)return n;for(var o=0;n--&&!((o+=e.segments[n].duration)>=i););return Math.max(0,n)},UD=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return kD(e);if(null===t)return null;t=t||0;var i=n?OD(e,r):e.segments.length;return SD(e,e.mediaSequence+i,t)},ND=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},ID=function(e){return e.excludeUntil&&e.excludeUntil===1/0},FD=function(e){var t=ND(e);return!e.disabled&&!t},LD=function(e,t){return t.attributes&&t.attributes[e]},PD=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!FD(e)&&(e.attributes.BANDWIDTH||0)<n})).length},QD={duration:kD,seekable:function(e,t,n){var r=t||0,i=UD(e,t,!0,n);return null===i?TD():TD(r,i)},safeLiveIndex:OD,getMediaInfoForTime:function(e,t,n,r){var i,o=e.segments.length,a=t-r;if(a<0){if(n>0)for(i=n-1;i>=0;i--)if((a+=e.segments[i].duration+.03333333333333333)>0)return{mediaIndex:i,startTime:r-xD(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((a-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<o;i++)if((a-=e.segments[i].duration+.03333333333333333)<0)return{mediaIndex:i,startTime:r+xD(e,n,i)};return{mediaIndex:o-1,startTime:t}},isEnabled:FD,isDisabled:function(e){return e.disabled},isBlacklisted:ND,isIncompatible:ID,playlistEnd:UD,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:LD,estimateSegmentRequestTime:function(e,t,n,r){return void 0===r&&(r=0),LD("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:PD},DD=nD.xhr,MD=nD.mergeOptions,RD=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},HD=function(){var e=function e(t,n){t=MD({timeout:45e3},t);var r=e.beforeRequest||nD.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(t);i&&(t=i)}var o=(!0===nD.Vhs.xhr.original?DD:nD.Vhs.xhr)(t,(function(e,t){return RD(o,e,t,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o};return e.original=!0,e},jD=function(e){var t,n,r={};return e.byterange&&(r.Range=(t=e.byterange,n=t.offset+t.length-1,"bytes="+t.offset+"-"+n)),r},KD=function(e,t){return e.start(t)+"-"+e.end(t)},VD=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},zD=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},qD=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r})),t},WD=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},GD=function(e){return e.resolvedUri},XD=function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",i=0;i<t.length/n;i++)r+=t.slice(i*n,i*n+n).map(VD).join("")+" "+t.slice(i*n,i*n+n).map(zD).join("")+"\n";return r},JD=Object.freeze({__proto__:null,createTransferableMessage:qD,initSegmentId:WD,segmentKeyId:GD,hexDump:XD,tagDump:function(e){var t=e.bytes;return XD(t)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=KD(e,t)+" ";return n}}),YD=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,o.segment);return s&&(a.programDateTime=s.toISOString()),i(null,a)},$D=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var d=function(e,t){var n;try{n=new Date(e)}catch(cH){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,l=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:QD.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!d)return c({message:n+" was not found in the stream"});var A=d.segment,h=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(cH){}var i=n.getTime();return(r.getTime()-i)/1e3}(A.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+h),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})})));var f=A.start+h;u.one("seeked",(function(){return c(null,u.currentTime())})),l&&u.pause(),a(f)},ZD=function(e,t){if(4===e.readyState)return t()},eM=function(e,t,n){var r,i=[],o=!1,a=function(e,t,r,i){return t.abort(),o=!0,n(e,t,r,i)},s=function(e,t){if(!o){if(e)return a(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if((t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e}))).length<=1)return bU(t[0]);var r=t.reduce((function(e,t,n){return e+(t.byteLength||t.length)}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){e=bU(e),i.set(e,o),o+=e.byteLength})),i}(i,EU(n,!0)),r=r||kU(i),i.length<10||r&&i.length<r+2)return ZD(t,(function(){return a(e,t,"",i)}));var s=qU(i);return"ts"===s&&i.length<188||!s&&i.length<376?ZD(t,(function(){return a(e,t,"",i)})):a(null,t,s,i)}},l=t({uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return t.total,t.loaded,RD(e,null,{statusCode:e.status},s)}))}},(function(e,t){return RD(l,e,t,s)}));return l},tM=nD.EventTarget,nM=nD.mergeOptions,rM=function(e,t){if(!mD(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(r.byterange||i.byterange){var o=r.byterange,a=i.byterange;if(o&&!a||!o&&a)return!1;if(o.offset!==a.offset||o.length!==a.length)return!1}}return!0},iM=function(e){var t=e.byterange.offset+e.byterange.length-1;return e.uri+"-"+e.byterange.offset+"-"+t},oM=function(e,t){var n,r,i={};for(var o in e){var a=e[o].sidx;if(a){var s=iM(a);if(!t[s])break;var l=t[s].sidxInfo;n=l,r=a,(Boolean(!n.map&&!r.map)||Boolean(n.map&&r.map&&n.map.byterange.offset===r.map.byterange.offset&&n.map.byterange.length===r.map.byterange.length))&&n.uri===r.uri&&n.byterange.offset===r.byterange.offset&&n.byterange.length===r.byterange.length&&(i[s]=t[s])}}return i},aM=function(e){function t(t,n,r,i){var o;void 0===r&&(r={}),(o=e.call(this)||this).masterPlaylistLoader_=i||ok(o),i||(o.isMaster_=!0);var a=r,s=a.withCredentials,l=void 0!==s&&s,u=a.handleManifestRedirects,c=void 0!==u&&u;if(o.vhs_=n,o.withCredentials=l,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=sD("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=t,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=t,o}sk(t,e);var n=t.prototype;return n.requestErrored_=function(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)},n.addSidxSegments_=function(e,t,n){var r=this,i=e.sidx&&iM(e.sidx);if(e.sidx&&i&&!this.masterPlaylistLoader_.sidxMapping_[i]){var o=aD(this.handleManifestRedirects,e.sidx.resolvedUri),a=this.masterPlaylistLoader_.sidxMapping_;a[i]={sidxInfo:e.sidx};var s=function(o,s){if(!r.requestErrored_(o,s,t)){var l=yU(bU(s.response).subarray(8));return a[i].sidx=l,mU(e,l,e.sidx.resolvedUri),n(!0)}};this.request=eM(o,this.vhs_.xhr,(function(t,n,i,a){if(t)return s(t,n);if(!i||"mp4"!==i)return s({status:n.status,message:"Unsupported "+(i||"unknown")+" container type for sidx segment at URL: "+o,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},n);var l=e.sidx.byterange,u=l.offset,c=l.length;if(a.length>=c+u)return s(t,{response:a.subarray(u,u+c),status:n.status,uri:n.uri});r.request=r.vhs_.xhr({uri:o,responseType:"arraybuffer",headers:jD({byterange:e.sidx.byterange})},s)}))}else this.mediaRequest_=ek.setTimeout((function(){return n(!1)}),0)},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ek.clearTimeout(this.minimumUpdatePeriodTimeout_),ek.clearTimeout(this.mediaRequest_),ek.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,(function(r){t.haveMetadata({startingState:n,playlist:e})})))},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ek.clearTimeout(this.mediaUpdateTimeout),ek.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null,this.mediaUpdateTimeout=null,"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;ek.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ek.setTimeout((function(){return t.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_((function(t,n){e.haveMaster_(),e.hasPendingRequest()||e.media_||e.media(e.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=ek.setTimeout((function(){return e.haveMaster_()}),0)},n.requestMaster_=function(e){var t=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(n,r){if(!t.requestErrored_(n,r)){var i=r.responseText!==t.masterPlaylistLoader_.masterXml_;return t.masterPlaylistLoader_.masterXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?t.masterLoaded_=Date.parse(r.responseHeaders.date):t.masterLoaded_=Date.now(),t.masterPlaylistLoader_.srcUrl=aD(t.handleManifestRedirects,t.masterPlaylistLoader_.srcUrl,r),i?(t.handleMaster_(),void t.syncClientServerClock_((function(){return e(r,i)}))):e(r,i)}"HAVE_NOTHING"===t.state&&(t.started=!1)}))},n.syncClientServerClock_=function(e){var t=this,n=gU(this.masterPlaylistLoader_.masterXml_);return null===n?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.masterPlaylistLoader_.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:oD(this.masterPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.masterPlaylistLoader_.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.masterPlaylistLoader_.clientOffset_=o-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},n.handleMaster_=function(){this.mediaRequest_=null;var e,t,n,r,i,o,a=(e={masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_},t=e.masterXml,n=e.srcUrl,r=e.clientOffset,i=e.sidxMapping,o=pU(t,{manifestUri:n,clientOffset:r,sidxMapping:i}),hD(o,n),o),s=this.masterPlaylistLoader_.master;s&&(a=function(e,t,n){for(var r=!0,i=nM(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),o=0;o<t.playlists.length;o++){var a=t.playlists[o];if(a.sidx){var s=iM(a.sidx);n&&n[s]&&mU(a,n[s].sidx,a.sidx.resolvedUri)}var l=vD(i,a,rM);l&&(i=l,r=!1)}return dD(t,(function(e,t,n,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=vD(i,e.playlists[0],rM);s&&((i=s).mediaGroups[t][n][o].playlists[0]=i.playlists[a],r=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i}(s,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||s;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!s||a&&a.minimumUpdatePeriod!==s.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ek.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var t=e.master&&e.master.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_("found invalid minimumUpdatePeriod of "+t+", not setting a timeout"):this.createMUPTimeout_(t)},n.createMUPTimeout_=function(e){var t=this.masterPlaylistLoader_;t.minimumUpdatePeriodTimeout_=ek.setTimeout((function(){t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)},n.refreshXml_=function(){var e=this;this.requestMaster_((function(t,n){var r,i,o;n&&(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=(r=e.masterPlaylistLoader_.master,i=e.masterPlaylistLoader_.sidxMapping_,o=oM(r.playlists,i),dD(r,(function(e,t,n,r){if(e.playlists&&e.playlists.length){var a=e.playlists;o=nM(o,oM(a,i))}})),o),e.addSidxSegments_(e.media(),e.state,(function(t){e.refreshMedia_(e.media().id)})))}))},n.refreshMedia_=function(e){var t=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var n=this.masterPlaylistLoader_.master.playlists,r=!this.media_||this.media_!==n[e];if(r?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function e(){t.media().endList||(t.mediaUpdateTimeout=ek.setTimeout((function(){t.trigger("mediaupdatetimeout"),e()}),yD(t.media(),Boolean(r))))}()}this.trigger("loadedplaylist")},t}(tM),sM={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},lM=function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},uM=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},cM=function(e){return function(){var t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(cH){var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}}(e),n=uM(new Worker(t));n.objURL=t;var r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},dM=function(e){return"var browserWorkerPolyFill = "+uM.toString()+";\nbrowserWorkerPolyFill(self);\n"+e},AM=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},hM=cM(dM(AM((function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,n,r,i,o,a,s,l,u,c,d,A,h,f,p,g,m,v,y,b,_,w,B,C,E,T,S,k,x,O,U,N,I,F,L,P,Q,D,M,R,H=e,j=Math.pow(2,32)-1;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);B=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),T=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),S=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:T,audio:S},U=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),I=N,F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=N,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},n=function(){return t(w.dinf,t(w.dref,U))},r=function(e){return t(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},p=function(e){return t(w.hdlr,k[e])},f=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(w.mdhd,n)},h=function(e){return t(w.mdia,f(e),p(e.type),a(e))},o=function(e){return t(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},a=function(e){return t(w.minf,"video"===e.type?t(w.vmhd,x):t(w.smhd,O),n(),m(e))},s=function(e,n){for(var r=[],i=n.length;i--;)r[i]=y(n[i]);return t.apply(null,[w.moof,o(e)].concat(r))},l=function(e){for(var n=e.length,r=[];n--;)r[n]=d(e[n]);return t.apply(null,[w.moov,c(4294967295)].concat(r).concat(u(e)))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=b(e[n]);return t.apply(null,[w.mvex].concat(r))},c=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(w.mvhd,n)},g=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(w.sdtp,o)},m=function(e){return t(w.stbl,v(e),t(w.stts,L),t(w.stsc,I),t(w.stsz,F),t(w.stco,N))},v=function(e){return t(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?P(e):Q(e))},P=function(e){var n,r,i=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(r=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(w.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],a,[o.length],s))),t(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],u=e.sarRatio[1];r.push(t(w.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},Q=function(e){return t(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},A=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(w.tkhd,n)},y=function(e){var n,r,i,o,a,s;return n=t(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(j+1)),s=Math.floor(e.baseMediaDecodeTime%(j+1)),r=t(w.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=_(e,92),t(w.traf,n,r,i)):(o=g(e),i=_(e,o.length+92),t(w.traf,n,r,i,o))},d=function(e){return e.duration=e.duration||4294967295,t(w.trak,A(e),h(e))},b=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(w.trex,n)},R=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},M=function(e,n){var r,i,o,a,s,l;for(n+=20+16*(a=e.samples||[]).length,o=R(a,n),(i=new Uint8Array(o.length+16*a.length)).set(o),r=o.length,l=0;l<a.length;l++)s=a[l],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size,i[r++]=s.flags.isLeading<<2|s.flags.dependsOn,i[r++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,i[r++]=61440&s.flags.degradationPriority,i[r++]=15&s.flags.degradationPriority,i[r++]=(4278190080&s.compositionTimeOffset)>>>24,i[r++]=(16711680&s.compositionTimeOffset)>>>16,i[r++]=(65280&s.compositionTimeOffset)>>>8,i[r++]=255&s.compositionTimeOffset;return t(w.trun,i)},D=function(e,n){var r,i,o,a,s,l;for(n+=20+8*(a=e.samples||[]).length,o=R(a,n),(r=new Uint8Array(o.length+8*a.length)).set(o),i=o.length,l=0;l<a.length;l++)s=a[l],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size;return t(w.trun,r)},_=function(e,t){return"audio"===e.type?D(e,t):M(e,t)};i=function(){return t(w.ftyp,B,C,B,E)};var K,V,z,q,W,G,X,J,Y=function(e){return t(w.mdat,e)},$=s,Z=function(e){var t,n=i(),r=l(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},ee=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},te=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},ne=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},re=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ie=function(e,t){var n,r,i,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)a=o[r],s+=(i=ee(a,s)).size,l.push(i);return l},oe=function(e){var t,n,r,i,o,a,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),d=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},ae=function(e,t){var n,r=[];return n=ee(e,t||0),r.push(n),r},se=function(e){var t,n,r=0,i=e.byteLength,o=e.length,a=new Uint8Array(i+4*o),s=new DataView(a.buffer);for(t=0;t<e.length;t++)n=e[t],s.setUint32(r,n.data.byteLength),r+=4,a.set(n.data,r),r+=n.data.byteLength;return a},le=[33,16,5,32,164,27],ue=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(e){for(var t=[];e--;)t.push(0);return t},de=function(){if(!K){var e={96e3:[le,[227,64],ce(154),[56]],88200:[le,[231],ce(170),[56]],64e3:[le,[248,192],ce(240),[56]],48e3:[le,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[le,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[le,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[le,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[le,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[ue,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[ue,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[ue,ce(268),[3,121,16],ce(47),[7]]};t=e,K=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return K},Ae=9e4;G=function(e,t){return V(W(e,t))},X=function(e,t){return z(q(e),t)},J=function(e,t,n){return q(n?e:e-t)};var he=Ae,fe=V=function(e){return e*Ae},pe=(z=function(e,t){return e*t},q=function(e){return e/Ae}),ge=(W=function(e,t){return e/t},G),me=X,ve=J,ye=function(e,t,n,r){var i,o,a,s,l,u=0,c=0,d=0;if(t.length&&(i=ge(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(he/(e.samplerate/1024)),n&&r&&(u=i-Math.max(n,r),d=(c=Math.floor(u/o))*o),!(c<1||d>he/2))){for((a=de()[e.samplerate])||(a=t[0].data),s=0;s<c;s++)l=t[0],t.splice(0,0,{data:a,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(me(d,e.samplerate)),d}},be=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},_e=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},we=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},Be=he,Ce=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Ee=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/Be,n=Math.floor(n)),n},Te=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},Se=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n},ke=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},xe=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)o={type:3&t[(i=3*n)+2],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},Oe=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},Ue=4,Ne=function e(t){t=t||{},e.prototype.init.call(this),this.parse708captions_="boolean"!=typeof t.parse708captions||t.parse708captions,this.captionPackets_=[],this.ccStreams_=[new je(0,0),new je(0,1),new je(1,0),new je(1,1)],this.parse708captions_&&(this.cc708Stream_=new Qe),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(Ne.prototype=new H).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=Se(e.escapedRBSP)).payload&&t.payloadType===Ue&&(n=ke(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=xe(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ne.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},Ne.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},Ne.prototype.flush=function(){return this.flushStream("flush")},Ne.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ne.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},Ne.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ne.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ne.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},Ne.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},Ne.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var Ie={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Fe=function(e){return 32<=e&&e<=127||160<=e&&e<=255},Le=function(e){this.windowNum=e,this.reset()};Le.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Le.prototype.getText=function(){return this.rows.join("\n")},Le.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Le.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Le.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},Le.prototype.addText=function(e){this.rows[this.rowIdx]+=e},Le.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var Pe=function(e){this.serviceNum=e,this.text="",this.currentWindow=new Le(-1),this.windows=[]};Pe.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new Le(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},Pe.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]};var Qe=function e(){e.prototype.init.call(this);var t=this;this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(t.new708Packet(),t.add708Bytes(e)):(null===t.current708Packet&&t.new708Packet(),t.add708Bytes(e))}};Qe.prototype=new H,Qe.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Qe.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,r=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(r)},Qe.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,r=null,i=0,o=t[i++];for(e.seq=o>>6,e.sizeCode=63&o;i<t.length;i++)r=31&(o=t[i++]),7===(n=o>>5)&&r>0&&(n=o=t[i++]),this.pushServiceBlock(n,i,r),r>0&&(i+=r-1)},Qe.prototype.pushServiceBlock=function(e,t,n){var r,i=t,o=this.current708Packet.data,a=this.services[e];for(a||(a=this.initService(e,i));i<t+n&&i<o.length;i++)r=o[i],Fe(r)?i=this.handleText(i,a):16===r?i=this.extendedCommands(i,a):128<=r&&r<=135?i=this.setCurrentWindow(i,a):152<=r&&r<=159?i=this.defineWindow(i,a):136===r?i=this.clearWindows(i,a):140===r?i=this.deleteWindows(i,a):137===r?i=this.displayWindows(i,a):138===r?i=this.hideWindows(i,a):139===r?i=this.toggleWindows(i,a):151===r?i=this.setWindowAttributes(i,a):144===r?i=this.setPenAttributes(i,a):145===r?i=this.setPenColor(i,a):146===r?i=this.setPenLocation(i,a):143===r?a=this.reset(i,a):8===r?a.currentWindow.backspace():12===r?a.currentWindow.clearText():13===r?a.currentWindow.pendingNewLine=!0:14===r?a.currentWindow.clearText():141===r&&i++},Qe.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return Fe(n)&&(e=this.handleText(e,t,!0)),e},Qe.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Qe.prototype.initService=function(e,t){var n=this;return this.services[e]=new Pe(e),this.services[e].init(this.getPts(t),(function(t){n.flushDisplayed(t,n.services[e])})),this.services[e]},Qe.prototype.handleText=function(e,t,n){var r,i,o=this.current708Packet.data[e],a=(i=Ie[r=(n?4096:0)|o]||r,4096&r&&r===i?"":String.fromCharCode(i)),s=t.currentWindow;return s.pendingNewLine&&!s.isEmpty()&&s.newLine(this.getPts(e)),s.pendingNewLine=!1,s.addText(a),e},Qe.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Qe.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,r=n[e],i=7&r;t.setCurrentWindow(i);var o=t.currentWindow;return r=n[++e],o.visible=(32&r)>>5,o.rowLock=(16&r)>>4,o.columnLock=(8&r)>>3,o.priority=7&r,r=n[++e],o.relativePositioning=(128&r)>>7,o.anchorVertical=127&r,r=n[++e],o.anchorHorizontal=r,r=n[++e],o.anchorPoint=(240&r)>>4,o.rowCount=15&r,r=n[++e],o.columnCount=63&r,r=n[++e],o.windowStyle=(56&r)>>3,o.penStyle=7&r,o.virtualRowCount=o.rowCount+1,e},Qe.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.winAttr;return r=n[++e],i.fillOpacity=(192&r)>>6,i.fillRed=(48&r)>>4,i.fillGreen=(12&r)>>2,i.fillBlue=3&r,r=n[++e],i.borderType=(192&r)>>6,i.borderRed=(48&r)>>4,i.borderGreen=(12&r)>>2,i.borderBlue=3&r,r=n[++e],i.borderType+=(128&r)>>5,i.wordWrap=(64&r)>>6,i.printDirection=(48&r)>>4,i.scrollDirection=(12&r)>>2,i.justify=3&r,r=n[++e],i.effectSpeed=(240&r)>>4,i.effectDirection=(12&r)>>2,i.displayEffect=3&r,e},Qe.prototype.flushDisplayed=function(e,t){for(var n=[],r=0;r<8;r++)t.windows[r].visible&&!t.windows[r].isEmpty()&&n.push(t.windows[r].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Qe.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Qe.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=1);return e},Qe.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible=0);return e},Qe.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&(t.windows[i].visible^=1);return e},Qe.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].clearText();return e},Qe.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],r=this.getPts(e);this.flushDisplayed(r,t);for(var i=0;i<8;i++)n&1<<i&&t.windows[i].reset();return e},Qe.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penAttr;return r=n[++e],i.textTag=(240&r)>>4,i.offset=(12&r)>>2,i.penSize=3&r,r=n[++e],i.italics=(128&r)>>7,i.underline=(64&r)>>6,i.edgeType=(56&r)>>3,i.fontStyle=7&r,e},Qe.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penColor;return r=n[++e],i.fgOpacity=(192&r)>>6,i.fgRed=(48&r)>>4,i.fgGreen=(12&r)>>2,i.fgBlue=3&r,r=n[++e],i.bgOpacity=(192&r)>>6,i.bgRed=(48&r)>>4,i.bgGreen=(12&r)>>2,i.bgBlue=3&r,r=n[++e],i.edgeRed=(48&r)>>4,i.edgeGreen=(12&r)>>2,i.edgeBlue=3&r,e},Qe.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,r=n[e],i=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,r=n[++e],i.row=15&r,r=n[++e],i.column=63&r,e},Qe.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var De={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Me=function(e){return null===e?"":(e=De[e]||e,String.fromCharCode(e))},Re=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],He=function(){for(var e=[],t=15;t--;)e.push("");return e},je=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=He();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=He();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=He()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))o=Me((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Me((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=Re.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=Me(r),o+=Me(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};je.prototype=new H,je.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(cH){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=He(),this.nonDisplayed_=He(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},je.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},je.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},je.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},je.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},je.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},je.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},je.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},je.prototype.isNormalChar=function(e){return e>=32&&e<=127},je.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=He(),this.displayed_=He()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},je.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},je.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},je.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},je.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},je.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},je.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Ke={CaptionStream:Ne,Cea608Stream:je,Cea708Stream:Qe},Ve={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ze="shared",qe=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},We=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||ze,this.push=function(e){this.type_!==ze&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=qe(e.dts,r),e.pts=qe(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};We.prototype=new H;var Ge,Xe=We,Je=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Ye=function(e,t,n){return decodeURIComponent(Je(e,t,n))},$e=function(e,t,n){return unescape(Je(e,t,n))},Ze=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},et={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ye(e.data,1,t),e.value=Ye(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ye(e.data,1,t),e.url=Ye(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=$e(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ge=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,i=[],o=0;if(Ge.prototype.init.call(this),this.dispatchType=Ve.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,l,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(i.push(e),o+=e.data.byteLength,1===i.length&&(r=Ze(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},u=0;u<r;)t.data.set(i[0].data.subarray(0,r-u),u),u+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=Ze(t.data.subarray(10,14)),r-=Ze(t.data.subarray(16,20)));do{if((s=Ze(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=l.id,et[l.id]&&(et[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],l.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=s}while(a<r);this.trigger("data",t)}}}).prototype=new H;var tt,nt,rt,it=Ge,ot=Xe,at=188;(tt=function(){var e=new Uint8Array(at),t=0;tt.prototype.init.call(this),this.push=function(n){var r,i=0,o=at;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=at,o+=at);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){t===at&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new H,(nt=function(){var e,t,n,r;nt.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var o=e[i],a=(31&e[i+1])<<8|e[i+2];o===Ve.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===Ve.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===Ve.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ve.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ve.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new H,nt.STREAM_TYPES={h264:27,adts:15},(rt=function(){var e,t=this,n={data:[],size:0},r={data:[],size:0},i={data:[],size:0},o=function(e,n,r){var i,o,a=new Uint8Array(e.size),s={type:n},l=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],a.set(o.data,u),u+=o.data.byteLength;var c,d,A,h;d=s,h=(c=a)[0]<<16|c[1]<<8|c[2],d.data=new Uint8Array,1===h&&(d.packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(A=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&A&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8])),i="video"===n||s.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};rt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Ve.H264_STREAM_TYPE:e=n,t="video";break;case Ve.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ve.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(r,"audio"),o(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var st={PAT_PID:0,MP2T_PACKET_LENGTH:at,TransportPacketStream:tt,TransportParseStream:nt,ElementaryStream:rt,TimestampRolloverStream:ot,CaptionStream:Ke.CaptionStream,Cea608Stream:Ke.Cea608Stream,Cea708Stream:Ke.Cea708Stream,MetadataStream:it};for(var lt in Ve)Ve.hasOwnProperty(lt)&&(st[lt]=Ve[lt]);var ut,ct=st,dt=he,At=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(ut=function(e){var t,n=0;ut.prototype.init.call(this),this.push=function(r){var i,o,a,s,l,u,c=0;if(e||(n=0),"audio"===r.type)for(t?(s=t,(t=new Uint8Array(s.byteLength+r.data.byteLength)).set(s),t.set(r.data,s.byteLength)):t=r.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(o=2*(1&~t[c+1]),i=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,u=(l=1024*(1+(3&t[c+6])))*dt/At[(60&t[c+2])>>>2],a=c+i,t.byteLength<a)return;if(this.trigger("data",{pts:r.pts+n*u,dts:r.dts+n*u,sampleCount:l,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:At[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,a)}),n++,t.byteLength===a)return void(t=void 0);t=t.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ht,ft,pt,gt=ut,mt=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(ft=function(){var e,t,n=0;ft.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ht=function(){var e,t,n,r,i,o,a,s=new ft;ht.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},o=function(e){var t,n,r,i,o,s,l,u,c,d,A,h,f,p=0,g=0,m=0,v=0,y=1;if(n=(t=new mt(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(A=3!==o?8:12,f=0;f<A;f++)t.readBoolean()&&a(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),f=0;f<l;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(y=h[0]/h[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(u+1)-2*p-2*g)*y),height:(2-d)*(c+1)*16-2*m-2*v,sarRatio:h}}}).prototype=new H;var vt,yt={H264Stream:ht,NalByteStream:ft},bt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},_t=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=bt(t,n))},wt=function(e){var t=_t(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},Bt=bt,Ct=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n};(vt=function(){var e=new Uint8Array,t=0;vt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,o,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=Ct(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",o),l+=s}else{if(e.length-l<10)break;if(l+(s=Bt(e,l))>e.length)break;i={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",i),l+=s}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var Et,Tt,St,kt,xt=vt,Ot=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ut=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Nt=yt.H264Stream,It=wt,Ft=he,Lt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Pt=function(e,t,n,r,i,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};(Tt=function(e,t){var n=[],r=0,i=0,o=0,a=1/0;t=t||{},Tt.prototype.init.call(this),this.push=function(t){Te(e,t),e&&Ot.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,l,u,c,d,A,h;0!==n.length?(s=be(n,e,i),e.baseMediaDecodeTime=Ee(e,t.keepOriginalTimestamps),h=ye(e,s,o,a),e.samples=_e(s),u=Y(we(s)),n=[],l=$(r,[e]),c=new Uint8Array(l.byteLength+u.byteLength),r++,c.set(l),c.set(u,l.byteLength),Ce(e),d=Math.ceil(1024*Ft/e.samplerate),s.length&&(A=s.length*d,this.trigger("segmentTimingInfo",Pt(ge(e.baseMediaDecodeTime,e.samplerate),s[0].dts,s[0].pts,s[0].dts+A,s[0].pts+A,h||0)),this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+A})),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ce(e),n=[],this.trigger("reset")}}).prototype=new H,(Et=function(e,t){var n,r,i=0,o=[],a=[];t=t||{},Et.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Te(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Ut.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,r,s,l,u,c,d,A,h=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=te(o),(s=ne(n))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(h=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=re(s)),a.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ce(e),s=f}Te(e,s),e.samples=ie(s),u=Y(oe(s)),e.baseMediaDecodeTime=Ee(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),d=s[0],A=s[s.length-1],this.trigger("segmentTimingInfo",Pt(e.baseMediaDecodeTime,d.dts,d.pts,A.dts+A.duration,A.pts+A.duration,h)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=$(i,[e]),c=new Uint8Array(l.byteLength+u.byteLength),i++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ce(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,e.pps&&Lt(e.pps[0],o.pps[0])&&e.sps&&Lt(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,s,l,u;for(o=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(r=a[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,o-=i.byteLength,s-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=o,u.duration=l,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,s,l;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(r=a[t],i=e[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(l=s?n:o))return e;var u=e.slice(l),c=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){a=e}}).prototype=new H,(kt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,kt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new H,kt.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Ut.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Ot.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=Z(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=ve(t.startPts,s,this.keepOriginalTimestamps),t.endTime=ve(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=ve(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),i=0;i<a.captions.length;i++)t=a.captions[i],this.trigger("caption",t);for(i=0;i<a.metadata.length;i++)n=a.metadata[i],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},kt.prototype.setRemux=function(e){this.remuxTracks=e},(St=function(e){var t,n,r=this,i=!0;St.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new ct.MetadataStream,i.aacStream=new xt,i.audioTimestampRolloverStream=new ct.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new ct.TimestampRolloverStream("timed-metadata"),i.adtsStream=new gt,i.coalesceStream=new kt(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Tt(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new ct.MetadataStream,i.packetStream=new ct.TransportPacketStream,i.parseStream=new ct.TransportParseStream,i.elementaryStream=new ct.ElementaryStream,i.timestampRolloverStream=new ct.TimestampRolloverStream,i.adtsStream=new gt,i.h264Stream=new Nt,i.captionStream=new ct.CaptionStream(e),i.coalesceStream=new kt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new Et(t,e),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new Tt(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.audioSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"audioSegmentTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ce(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ce(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=It(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var Qt={Transmuxer:St,VideoSegmentStream:Et,AudioSegmentStream:Tt,AUDIO_PROPERTIES:Ot,VIDEO_PROPERTIES:Ut,generateSegmentTimingInfo:Pt},Dt={Adts:gt,h264:yt},Mt=he,Rt=function e(t,n){var r=[],i=0,o=0,a=0,s=1/0,l=null,u=null;n=n||{},e.prototype.init.call(this),this.push=function(e){Te(t,e),t&&Ot.forEach((function(n){t[n]=e[n]})),r.push(e)},this.setEarliestDts=function(e){o=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.processFrames_=function(){var e,c,d,A,h;0!==r.length&&0!==(e=be(r,t,o)).length&&(t.baseMediaDecodeTime=Ee(t,n.keepOriginalTimestamps),ye(t,e,a,s),t.samples=_e(e),d=Y(we(e)),r=[],c=$(i,[t]),i++,t.initSegment=Z([t]),(A=new Uint8Array(c.byteLength+d.byteLength)).set(c),A.set(d,c.byteLength),Ce(t),null===l&&(u=l=e[0].pts),u+=e.length*(1024*Mt/t.samplerate),h={start:l},this.trigger("timingInfo",h),this.trigger("data",{track:t,boxes:A}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:l,end:u}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Ce(t),l=null,u=null},this.reset=function(){this.resetTiming_(),r=[],this.trigger("reset")}};Rt.prototype=new H;var Ht=Rt,jt=function e(t,n){var r,i,o,a=0,s=[],l=[],u=null,c=null,d=!0;n=n||{},e.prototype.init.call(this),this.push=function(e){Te(t,e),void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.config,t.sps=[e.data],Ut.forEach((function(e){t[e]=r[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),s.push(e)},this.processNals_=function(e){var r;for(s=l.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var i=te(s);if(i.length)if(l=i[i.length-1],e&&(i.pop(),i.duration-=l.duration,i.nalCount-=l.length,i.byteLength-=l.byteLength),i.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),d){if(!(o=ne(i))[0][0].keyFrame){if(!(o=re(o))[0][0].keyFrame)return s=[].concat.apply([],i).concat(l),void(l=[]);(i=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===u&&(u=i[0].pts,c=u),c+=i.duration,this.trigger("timingInfo",{start:u,end:c}),r=0;r<i.length;r++){var A=i[r];t.samples=ae(A);var h=Y(se(A));Ce(t),Te(t,A),t.baseMediaDecodeTime=Ee(t,n.keepOriginalTimestamps);var f=$(a,[t]);a++,t.initSegment=Z([t]);var p=new Uint8Array(f.byteLength+h.byteLength);p.set(f),p.set(h,f.byteLength),this.trigger("data",{track:t,boxes:p,sequence:a,videoFrameDts:A.dts,videoFramePts:A.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){r=void 0,i=void 0,u=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),l=[],s=[],d=!0,this.trigger("reset")}};jt.prototype=new H;var Kt=jt,Vt=wt,zt=function(e){return e.prototype=new H,e.prototype.init.call(e),e},qt=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",(function(n){n.dispatchType=e.metadataStream.dispatchType,n.cueTime=pe(n.pts),t.trigger("id3Frame",n)})),e.on("caption",(function(e){t.trigger("caption",e)}))},Wt=function e(t){var n=null,r=!0;t=t||{},e.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(e){if(r){var i=Vt(e);!i||n&&"aac"===n.type?i||n&&"ts"===n.type||(n=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new ct.TransportPacketStream,parse:new ct.TransportParseStream,elementary:new ct.ElementaryStream,timestampRollover:new ct.TimestampRolloverStream,adts:new Dt.Adts,h264:new Dt.h264.H264Stream,captionStream:new ct.CaptionStream(e),metadataStream:new ct.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",(function(n){if("metadata"===n.type){for(var r=0;r<n.tracks.length;r++)t.tracks[n.tracks[r].type]||(t.tracks[n.tracks[r].type]=n.tracks[r],t.tracks[n.tracks[r].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new Kt(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",(function(n){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(n.dts-e.baseMediaDecodeTime)})),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",(function(e){t.trigger("data",{type:"video",data:e})})),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new Ht(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}})),t.captionStream.on("data",(function(n){var r;r=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,n.startTime=ve(n.startPts,r,e.keepOriginalTimestamps),n.endTime=ve(n.endPts,r,e.keepOriginalTimestamps),t.trigger("caption",n)})),(t=zt(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),qt(n,this)):(n=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new ct.MetadataStream,aacStream:new xt,audioRollover:new ct.TimestampRolloverStream("audio"),timedMetadataRollover:new ct.TimestampRolloverStream("timed-metadata"),adtsStream:new gt(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new Ht(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))})),(t=zt(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),qt(n,this)),r=!1}n.headOfPipeline.push(e)},this.flush=function(){n&&(r=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(e){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=e),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Ce(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Ce(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(e){t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.setAudioAppendStart=function(e){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};Wt.prototype=new H;var Gt=Wt,Xt=function(e){return e>>>0},Jt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},Yt=Xt,$t=function e(t,n){var r,i,o,a,s,l=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=Yt(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),o=Jt(t.subarray(r+4,r+8)),a=i>1?r+i:t.byteLength,o===n[0]&&(1===n.length?l.push(t.subarray(r+8,a)):(s=e(t.subarray(r+8,a),n.slice(1))).length&&(l=l.concat(s))),r=a;return l},Zt=Xt,en=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:Zt(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=Zt(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t},tn=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},nn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),o&&c&&(t={flags:tn(e.subarray(d,d+4))},d+=4,a&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),c--);c--;)t={},a&&(t.duration=r.getUint32(d),d+=4),s&&(t.size=r.getUint32(d),d+=4),l&&(t.flags=tn(e.subarray(d,d+4)),d+=4),u&&(1===n.version?t.compositionTimeOffset=r.getInt32(d):t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},rn=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},on=Oe,an=Ke.CaptionStream,sn=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},ln=function(e,t){var n=$t(e,["moof","traf"]),r=$t(e,["mdat"]),i={},o=[];return r.forEach((function(e,t){var r=n[t];o.push({mdat:e,traf:r})})),o.forEach((function(e){var n,r=e.mdat,o=e.traf,a=$t(o,["tfhd"]),s=rn(a[0]),l=s.trackId,u=$t(o,["tfdt"]),c=u.length>0?en(u[0]).baseMediaDecodeTime:0,d=$t(o,["trun"]);t===l&&d.length>0&&(n=function(e,t,n){var r,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+o),c=sn(i,t);if(r={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:on(u),trackId:n},c)r.pts=c.pts,r.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}r.pts=a.pts,r.dts=a.dts}l.push(r)}return l}(r,function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach((function(e){var t=nn(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration})),s=s.concat(t)})),s}(d,c,s),l),i[l]||(i[l]=[]),i[l]=i[l].concat(n))})),i},un=function(){var e,t,n,r,i,o,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new an,a=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(n!==e[0]||r!==t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],r=a[n];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,a)}return null!==(s=function(e,t,n){return null===t?null:{seiNals:ln(e,t)[t],timescale:n}}(e,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},cn=function(e){return"AudioSegmentStream"===e?"audio":"VideoSegmentStream"===e?"video":""},dn=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){var e,t;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Gt(this.options):new Qt.Transmuxer(this.options),this.options.handlePartialData?(e=this.self,(t=this.transmuxer).on("data",(function(t){var n={data:t.data.track.initSegment.buffer,byteOffset:t.data.track.initSegment.byteOffset,byteLength:t.data.track.initSegment.byteLength},r={boxes:{data:t.data.boxes.buffer,byteOffset:t.data.boxes.byteOffset,byteLength:t.data.boxes.byteLength},initSegment:n,type:t.type,sequence:t.data.sequence};void 0!==t.data.videoFrameDts&&(r.videoFrameDtsTime=pe(t.data.videoFrameDts)),void 0!==t.data.videoFramePts&&(r.videoFramePtsTime=pe(t.data.videoFramePts)),e.postMessage({action:"data",segment:r},[r.boxes.data,r.initSegment.data])})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("done",(function(t){e.postMessage({action:"done",type:cn(t)})})),t.on("partialdone",(function(t){e.postMessage({action:"partialdone",type:cn(t)})})),t.on("endedsegment",(function(t){e.postMessage({action:"endedSegment",type:cn(t)})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){if(null!==t.start){var n={start:pe(t.start)};t.end&&(n.end=pe(t.end)),e.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else e.postMessage({action:"audioTimingInfo",audioTimingInfo:t})})),t.on("videoTimingInfo",(function(t){var n={start:pe(t.start)};t.end&&(n.end=pe(t.end)),e.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))):function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:pe(t.start.dts),presentation:pe(t.start.pts)},end:{decode:pe(t.end.dts),presentation:pe(t.end.pts)},baseMediaDecodeTime:pe(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=pe(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("audioSegmentTimingInfo",(function(t){var n={start:{decode:pe(t.start.dts),presentation:pe(t.start.pts)},end:{decode:pe(t.end.dts),presentation:pe(t.end.pts)},baseMediaDecodeTime:pe(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=pe(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:pe(t.start),end:pe(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:pe(t.start),end:pe(t.end)}})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new un,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:t.buffer},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(fe(t)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(fe(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},t.partialFlush=function(e){this.transmuxer.partialFlush(),self.postMessage({action:"partialdone",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new dn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new dn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})))),fM=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,o=e.isPartial,a=e.remux,s=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,d=e.onVideoSegmentTimingInfo,A=e.onAudioSegmentTimingInfo,h=e.onId3,f=e.onCaptions,p=e.onDone,g=e.onEndedTimeline,m=e.isEndOfTimeline,v={isPartial:o,buffer:[]},y=m;if(t.onmessage=function(n){t.currentTransmux===e&&("data"===n.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,o=r.initSegment,a=r.captions,s=r.captionStreams,l=r.metadata,u=r.videoFrameDtsTime,c=r.videoFramePtsTime;t.buffer.push({captions:a,captionStreams:s,metadata:l});var d=e.data.segment.boxes||{data:e.data.segment.data},A={type:i,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==u&&(A.videoFrameDtsTime=u),void 0!==c&&(A.videoFramePtsTime=c),n(A)}(n,v,s),"trackinfo"===n.data.action&&l(n.data.trackInfo),"gopInfo"===n.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(n,v),"audioTimingInfo"===n.data.action&&u(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&d(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&A(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&h([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&f(n.data.caption),"endedtimeline"===n.data.action&&(y=!1,g()),"transmuxed"===n.data.type&&(y||(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:v,callback:p}),pM(t))))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var b=n instanceof ArrayBuffer?n:n.buffer,_=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:b,byteOffset:_,byteLength:n.byteLength},[b])}t.postMessage({action:o?"partialFlush":"flush"}),m&&t.postMessage({action:"endTimeline"})},pM=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():fM(e.currentTransmux))},gM=function(e,t){e.postMessage({action:t}),pM(e)},mM=function(e,t){if(!t.currentTransmux)return t.currentTransmux=e,void gM(t,e);t.transmuxQueue.push(gM.bind(null,t,e))},vM=function(e){if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void fM(e);e.transmuxer.transmuxQueue.push(e)},yM=function(e){mM("reset",e)},bM=function(e){var t=new hM;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},_M=2,wM=-101,BM=-102,CM=function(e){e.forEach((function(e){e.abort()}))},EM=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:wM,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:BM,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:_M,xhr:t}:null},TM=function(e){var t=e.segment,n=e.bytes,r=e.isPartial,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,A=e.dataFn,h=e.doneFn,f=t.map&&t.map.tracks||{},p=Boolean(f.audio&&f.video),g=o.bind(null,t,"audio","start"),m=o.bind(null,t,"audio","end"),v=o.bind(null,t,"video","start"),y=o.bind(null,t,"video","end");if(!r&&!t.lastReachedChar){var b=function(e,t){var n="number"!=typeof t||isNaN(t)?void 0:t*gN,r=TN(e,n);if(!r)return null;var i={hasVideo:r.video&&2===r.video.length||!1,hasAudio:r.audio&&2===r.audio.length||!1};return i.hasVideo&&(i.videoStart=r.video[0].ptsTime),i.hasAudio&&(i.audioStart=r.audio[0].ptsTime),i}(n,t.baseStartTime);b&&(i(t,{hasAudio:b.hasAudio,hasVideo:b.hasVideo,isMuxed:p}),i=null,b.hasAudio&&!p&&g(b.audioStart),b.hasVideo&&v(b.videoStart),g=null,v=null)}vM({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,isPartial:r,remux:p,onData:function(e){e.type="combined"===e.type?"video":e.type,A(t,e)},onTrackInfo:function(e){i&&(p&&(e.isMuxed=!0),i(t,e))},onAudioTimingInfo:function(e){g&&void 0!==e.start&&(g(e.start),g=null),m&&void 0!==e.end&&m(e.end)},onVideoTimingInfo:function(e){v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onAudioSegmentTimingInfo:function(e){s(e)},onId3:function(e,n){l(t,e,n)},onCaptions:function(e){u(t,[e])},isEndOfTimeline:c&&!r,onEndedTimeline:function(){d()},onDone:function(e){h&&!r&&(e.type="combined"===e.type?"video":e.type,h(null,t,e))}})},SM=function(e){var t=e.segment,n=e.bytes,r=e.isPartial,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,A=e.dataFn,h=e.doneFn,f=new Uint8Array(n);if(WU(f)){t.isFmp4=!0;var p=t.map.tracks,g={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&"enca"!==p.audio.codec&&(g.audioCodec=p.audio.codec),p.video&&p.video.codec&&"encv"!==p.video.codec&&(g.videoCodec=p.video.codec),p.video&&p.audio&&(g.isMuxed=!0),i(t,g);var m=RN(t.map.timescales,f);g.hasAudio&&!g.isMuxed&&o(t,"audio","start",m),g.hasVideo&&o(t,"video","start",m);var v=function(e){A(t,{data:n,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),e&&e.length&&u(t,e),h(null,t,{})};if(!p.video||!n.byteLength||!t.transmuxer)return void v();var y=n instanceof ArrayBuffer?n:n.buffer,b=n instanceof ArrayBuffer?0:n.byteOffset;return t.transmuxer.addEventListener("message",(function e(r){if("mp4Captions"===r.data.action){t.transmuxer.removeEventListener("message",e);var i=r.data.data;t.bytes=n=new Uint8Array(i,i.byteOffset||0,i.byteLength),v(r.data.captions)}})),void t.transmuxer.postMessage({action:"pushMp4Captions",timescales:t.map.timescales,trackIds:[p.video.id],data:y,byteOffset:b,byteLength:n.byteLength},[y])}if(t.transmuxer){if(void 0===t.container&&(t.container=qU(f)),"ts"!==t.container&&"aac"!==t.container)return i(t,{hasAudio:!1,hasVideo:!1}),void h(null,t,{});TM({segment:t,bytes:n,isPartial:r,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:A,doneFn:h})}else h(null,t,{})},kM=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,A=e.doneFn,h=0,f=!1;return function(e,p){if(!f){if(e)return f=!0,CM(t),A(e,p);if((h+=1)===t.length){if(p.endOfAllRequests=Date.now(),p.encryptedBytes)return function(e){var t,n=e.decryptionWorker,r=e.segment,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,d=e.endedTimelineFn,A=e.dataFn,h=e.doneFn;n.addEventListener("message",(function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var f=t.data.decrypted;r.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),SM({segment:r,bytes:r.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:s,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:d,dataFn:A,doneFn:h})}})),t=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),n.postMessage(qD({source:r.requestId,encrypted:r.encryptedBytes,key:t,iv:r.key.iv}),[r.encryptedBytes.buffer,t.buffer])}({decryptionWorker:n,segment:p,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:A});SM({segment:p,bytes:p.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d,doneFn:A})}}}},xM=function(e){var t=e.segment,n=e.progressFn,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.audioSegmentTimingInfoFn,s=e.id3Fn,l=e.captionsFn,u=e.isEndOfTimeline,c=e.endedTimelineFn,d=e.dataFn,A=e.handlePartialData;return function(e){var h=e.target;if(!h.aborted){if(A&&!t.key&&h.responseText&&h.responseText.length>=8){var f=lM(h.responseText.substring(t.lastReachedChar||0));!t.lastReachedChar&&WU(new Uint8Array(f))||(t.lastReachedChar=h.responseText.length,SM({segment:t,bytes:f,isPartial:!0,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:l,isEndOfTimeline:u,endedTimelineFn:c,dataFn:d}))}return t.stats=nD.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}}},OM=function(e){var t=e.xhr,n=e.xhrOptions,r=e.decryptionWorker,i=e.segment,o=e.abortFn,a=e.progressFn,s=e.trackInfoFn,l=e.timingInfoFn,u=e.videoSegmentTimingInfoFn,c=e.audioSegmentTimingInfoFn,d=e.id3Fn,A=e.captionsFn,h=e.isEndOfTimeline,f=e.endedTimelineFn,p=e.dataFn,g=e.doneFn,m=e.handlePartialData,v=[],y=kM({activeXhrs:v,decryptionWorker:r,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,doneFn:g});if(i.key&&!i.key.bytes){var b=t(nD.mergeOptions(n,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,r){var i=r.response,o=EM(n,r);if(o)return t(o,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:_M,xhr:r},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(i,y));v.push(b)}if(i.map&&!i.map.bytes){var _=t(nD.mergeOptions(n,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:jD(i.map)}),function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=r.response,o=EM(e,r);if(o)return n(o,t);if(0===i.byteLength)return n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:_M,xhr:r},t);t.map.bytes=new Uint8Array(r.response);var a=qU(t.map.bytes);return"mp4"!==a?n({status:r.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+r.uri,code:_M,internal:!0,xhr:r},t):(HN(t.map.bytes).forEach((function(e){t.map.tracks=t.map.tracks||{},t.map.tracks[e.type]||(t.map.tracks[e.type]=e,"number"==typeof e.id&&e.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[e.id]=e.timescale))})),n(null,t))}}({segment:i,finishProcessingFn:y}));v.push(_)}var w=nD.mergeOptions(n,{uri:i.resolvedUri,responseType:"arraybuffer",headers:jD(i)});m&&(w.responseType="text",w.beforeSend=function(e){e.overrideMimeType("text/plain; charset=x-user-defined")});var B=t(w,function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var o=i.response,a=EM(e,i);if(a)return n(a,t);var s="arraybuffer"!==r&&i.responseText?lM(i.responseText.substring(t.lastReachedChar||0)):i.response;return 0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:_M,xhr:i},t):(t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),n(null,t))}}({segment:i,finishProcessingFn:y,responseType:w.responseType}));B.addEventListener("progress",xM({segment:i,progressFn:a,trackInfoFn:s,timingInfoFn:l,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:A,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,handlePartialData:m})),v.push(B);var C={};return v.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:C,abortFn:o}))})),function(){return CM(v)}},UM=sD("CodecUtils"),NM=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},IM=function(e){var t={};return e.forEach((function(e){var n=e.mediaType,r=e.type,i=e.details;t[n]=t[n]||[],t[n].push(zN(""+r+i))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return UM("multiple "+e+" codecs found as attributes: "+t[e].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[e]=null);t[e]=t[e][0]})),t},FM=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},LM=function(e,t){var n=t.attributes||{},r=IM(function(e){var t=e.attributes||{};if(t.CODECS)return qN(t.CODECS)}(t)||[]);if(NM(e,t)&&!r.audio&&!function(e,t){if(!NM(e,t))return!0;var n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(var i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1}(e,t)){var i=IM(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return qN(i.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},PM=sD("PlaylistSelector"),QM=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},DM=function(e,t){if(!e)return"";var n=ek.getComputedStyle(e);return n?n[t]:""},MM=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},RM=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||ek.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||ek.Number.MAX_VALUE)},HM=function(e,t,n,r,i){if(e){var o={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:i},a=e.playlists.map((function(e){var t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||ek.Number.MAX_VALUE,width:t,height:n,playlist:e}}));MM(a,(function(e,t){return e.bandwidth-t.bandwidth}));var s=(a=a.filter((function(e){return!QD.isIncompatible(e.playlist)}))).filter((function(e){return QD.isEnabled(e.playlist)}));s.length||(s=a.filter((function(e){return!QD.isDisabled(e.playlist)})));var l=s.filter((function(e){return e.bandwidth*sM.BANDWIDTH_VARIANCE<t})),u=l[l.length-1],c=l.filter((function(e){return e.bandwidth===u.bandwidth}))[0];if(!1===i){var d=c||s[0]||a[0];if(d&&d.playlist){var A="sortedPlaylistReps";return c&&(A="bandwidthBestRep"),s[0]&&(A="enabledPlaylistReps"),PM("choosing "+QM(d)+" using "+A+" with options",o),d.playlist}return PM("could not choose a playlist with options",o),null}var h=l.filter((function(e){return e.width&&e.height}));MM(h,(function(e,t){return e.width-t.width}));var f=h.filter((function(e){return e.width===n&&e.height===r}));u=f[f.length-1];var p,g,m,v=f.filter((function(e){return e.bandwidth===u.bandwidth}))[0];v||(g=(p=h.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===p[0].width&&e.height===p[0].height})),u=g[g.length-1],m=g.filter((function(e){return e.bandwidth===u.bandwidth}))[0]);var y=m||v||c||s[0]||a[0];if(y&&y.playlist){var b="sortedPlaylistReps";return m?b="resolutionPlusOneRep":v?b="resolutionBestRep":c?b="bandwidthBestRep":s[0]&&(b="enabledPlaylistReps"),PM("choosing "+QM(y)+" using "+b+" with options",o),y.playlist}return PM("could not choose a playlist with options",o),null}},jM=function(){var e=this.useDevicePixelRatio&&ek.devicePixelRatio||1;return HM(this.playlists.master,this.systemBandwidth,parseInt(DM(this.tech_.el(),"width"),10)*e,parseInt(DM(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},KM=function(e){var t=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,i=e.videoDuration;if(n){var o=ek.WebKitDataCue||ek.VTTCue,a=t.metadataTrack_;if(a&&(n.forEach((function(e){var t=e.cueTime+r;!("number"!=typeof t||ek.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return nD.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return nD.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return nD.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),a.addCue(n)}))})),a.cues&&a.cues.length)){for(var s=a.cues,l=[],u=0;u<s.length;u++)s[u]&&l.push(s[u]);var c=l.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),d=Object.keys(c).sort((function(e,t){return Number(e)-Number(t)}));d.forEach((function(e,t){var n=c[e],r=Number(d[t+1])||i;n.forEach((function(e){e.endTime=r}))}))}}},VM=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},zM=function(e){return"number"==typeof e&&isFinite(e)},qM=function(e){return e+"TimingInfo"},WM=function(e){var t=e.segmentTimeline,n=e.currentTimeline,r=e.startOfSegment,i=e.buffered;return e.overrideCheck||t!==n?t<n?r:i.length?i.end(i.length-1):r:null},GM=function(e){var t=e.timelineChangeController,n=e.currentTimeline,r=e.segmentTimeline,i=e.loaderType,o=e.audioDisabled;if(n===r)return!1;if("audio"===i){var a=t.lastTimelineChange({type:"main"});return!a||a.to!==r}if("main"===i&&o){var s=t.pendingTimelineChange({type:"audio"});return!s||s.to!==r}return!1},XM=function(e){var t=e.segmentDuration,n=e.maxDuration;return!!t&&Math.round(t)>n+.03333333333333333},JM=function(e,t){if("hls"!==t)return null;var n,r,i,o,a=(n=e.audioTimingInfo,r=e.videoTimingInfo,i=n&&"number"==typeof n.start&&"number"==typeof n.end?n.end-n.start:0,o=r&&"number"==typeof r.start&&"number"==typeof r.end?r.end-r.start:0,Math.max(i,o));if(!a)return null;var s=e.playlist.targetDuration,l=XM({segmentDuration:a,maxDuration:2*s}),u=XM({segmentDuration:a,maxDuration:s}),c="Segment with index "+e.mediaIndex+" from playlist "+e.playlist.id+" has a duration of "+a+" when the reported duration is "+e.duration+" and the target duration is "+s+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return l||u?{severity:l?"warn":"info",message:c}:null},YM=function(e){function t(t,n){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.handlePartialData_=t.handlePartialData,r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=t.parse708captions,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=nD.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=sD("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(ok(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}sk(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return bM({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_,parse708captions:this.parse708captions_})},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ek.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ek.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&yM(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return nD.createTimeRanges();if("main"===this.loaderType_){var e=this.startingMediaInfo_,t=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&t&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=WD(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=GD(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(ek.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&yM(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n){if(void 0===n&&(n=function(){}),t===1/0&&(t=this.duration_()),this.sourceUpdater_&&this.startingMediaInfo_){var r=1,i=function(){0===--r&&n()};for(var o in this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,i)),"main"===this.loaderType_&&(this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil((t-r)*gN),o=Math.ceil((n-r)*gN),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=i););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,i)),this.inbandTextTracks_)VM(e,t,this.inbandTextTracks_[o]);VM(e,t,this.segmentMetadataTrack_),i()}else this.logger_("skipping remove because no source updater or starting media info")},n.monitorBuffer_=function(){this.checkBufferTimeout_&&ek.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ek.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&ek.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ek.setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.buffered_(),t=this.checkBuffer_(e,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(t.timestampOffset=WM({segmentTimeline:t.timeline,currentTimeline:this.currentTimeline_,startOfSegment:t.startOfSegment,buffered:e,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof t.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loadSegment_(t))}},n.isEndOfStream_=function(e,t){if(void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),!t||!this.mediaSource_)return!1;var n=e+1===t.segments.length;return t.endList&&"open"===this.mediaSource_.readyState&&n},n.checkBuffer_=function(e,t,n,r,i,o){var a=0;e.length&&(a=e.end(e.length-1));var s=Math.max(0,a-i);if(!t.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!r&&s>=1)return null;var l,u=null,c=!1;if(null===o)u=this.getSyncSegmentCandidate_(t),c=!0;else if(null!==n){var d=t.segments[n];l=d&&d.end?d.end:a,u=n+1}else if(this.fetchAtBuffer_){var A=QD.getMediaInfoForTime(t,a,o.segmentIndex,o.time);u=A.mediaIndex,l=A.startTime}else{var h=QD.getMediaInfoForTime(t,i,o.segmentIndex,o.time);u=h.mediaIndex,l=h.startTime}var f=this.generateSegmentInfo_(t,u,l,c);return!f||this.mediaSource_&&this.playlist_&&f.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+f.uri,{segmentInfo:f,playlist:t,currentMediaIndex:n,nextMediaIndex:u,startOfSegment:l,isSyncRequest:c}),f)},n.getSyncSegmentCandidate_=function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)},n.generateSegmentInfo_=function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i,o,a=e.segments[t],s=this.sourceUpdater_.audioBuffered(),l=this.sourceUpdater_.videoBuffered();return s.length&&(i=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),l.length&&(o=function(e,t,n){if(null==t||!e.length)return[];var r,i=Math.ceil((t-n+3)*gN);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:i,gopsToAlignWith:o}},n.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=QD.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(!(i<=o)){var a=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,u=t.playlists.filter((function(e){return!QD.isIncompatible(e)})),c=u.filter(QD.isEnabled);c.length||(c=u.filter((function(e){return!QD.isDisabled(e)})));var d=c.filter(QD.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var t=l.getSyncPoint(e,i,s,n)?1:2;return{playlist:e,rebufferingImpact:QD.estimateSegmentRequestTime(o,r,e)*t-a}})),A=d.filter((function(e){return e.rebufferingImpact<=0}));return MM(A,(function(e,t){return RM(t.playlist,e.playlist)})),A.length?A[0]:(MM(d,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o-a.rebufferingImpact,l=.5;o<=.03333333333333333&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l||(this.bandwidth=a.playlist.attributes.BANDWIDTH*sM.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},n.handleAbort_=function(){this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(o!==r[i])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,r){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var i=this.pendingSegment_,o=qM(t);i[o]=i[o]||{},i[o][n]=r,this.logger_("timinginfo: "+t+" - "+n+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach((function(e){i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(i).forEach((function(e){var t=i[e],o=t.startTime,a=t.endTime,s=t.captions,l=n.inbandTextTracks_;n.logger_("adding cues from "+o+" -> "+a+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(n);e[n]=r||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(l,n.vhs_.tech_,e),VM(o,a,l[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var i=ek.WebKitDataCue||ek.VTTCue;n.forEach((function(e){var n=e.stream;t[n].addCue(new i(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:s,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),KM({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!!e&&(!this.currentMediaInfo_||!GM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_;if(!e||!e.trackInfo)return!1;if(!this.handlePartialData_){var t=this.currentMediaInfo_,n=t.hasAudio,r=t.hasVideo,i=t.isMuxed;if(r&&!e.videoTimingInfo)return!1;if(n&&!this.audioDisabled_&&!i&&!e.audioTimingInfo)return!1}return!GM({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},n.handleData_=function(e,t){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[qM(t.type)].start;else{var r,i="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;i&&(r=this.handlePartialData_?t.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var o=WD(r);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!!r,this.activeInitSegmentId_=null,n):null},n.handleQuotaExceededError_=function(e,t){var n=this,r=e.segmentInfo,i=e.type,o=e.bytes,a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ED(a).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ED(s).join(", "));var l=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0,c=s.length?s.start(0):0,d=s.length?s.end(s.length-1):0;if(u-l<=1&&d-c<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+o.byteLength+", audio buffer: "+ED(a).join(", ")+", video buffer: "+ED(s).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",blacklistDuration:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:r,type:i,bytes:o}));var A=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing video from 0 to "+A),this.sourceUpdater_.removeVideo(0,A,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, removing audio from 0 to "+A),n.sourceUpdater_.removeAudio(0,A,(function(){n.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),n.waitingOnRemove_=!1,n.quotaExceededErrorRetryTimeout_=ek.setTimeout((function(){n.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),n.quotaExceededErrorRetryTimeout_=null,n.processCallQueue_()}),1e3)}))}))},n.handleAppendError_=function(e,t){var n=e.segmentInfo,r=e.type,i=e.bytes;t&&(22!==t.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",t),this.error(r+" append of "+i.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:n,type:r,bytes:i}))},n.appendToSourceBuffer_=function(e){var t,n,r,i=e.segmentInfo,o=e.type,a=e.initSegment,s=e.data,l=e.bytes;if(!l){var u=[s],c=s.byteLength;a&&(u.unshift(a),c+=a.byteLength),r=0,(t={bytes:c,segments:u}).bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach((function(e){n.set(e,r),r+=e.byteLength}))),l=n}this.sourceUpdater_.appendBuffer({segmentInfo:i,type:o,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:i,type:o,bytes:l}))},n.handleSegmentTimingInfo_=function(e,t,n){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var r=this.pendingSegment_.segment,i=e+"TimingInfo";r[i]||(r[i]={}),r[i].transmuxerPrependedSeconds=n.prependedContentDuration||0,r[i].transmuxedPresentationStart=n.start.presentation,r[i].transmuxedDecodeStart=n.start.decode,r[i].transmuxedPresentationEnd=n.end.presentation,r[i].transmuxedDecodeEnd=n.end.decode,r[i].baseMediaDecodeTime=n.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=t.buffered_();"number"==typeof e.timestampOffset&&(e.timestampOffset=WM({segmentTimeline:e.timeline,currentTimeline:t.currentTimeline_,startOfSegment:e.startOfSegment,buffered:n,overrideCheck:!0})),delete e.audioAppendStart;var r=t.sourceUpdater_.audioBuffered();r.length&&(e.audioAppendStart=r.end(r.length-1)-t.sourceUpdater_.audioTimestampOffset()),t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){var t=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var n=this.createSimplifiedSegmentObj_(e),r=this.isEndOfStream_(e.mediaIndex,e.playlist),i=null!==this.mediaIndex,o=e.timeline!==this.currentTimeline_&&e.timeline>0,a=r||i&&o;e.abortRequests=OM({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:function(){t.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},n.trimBackBuffer_=function(e){var t=function(e,t,n){var r=t-sM.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));var i=t-n;return Math.min(i,r)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?n.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(n.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegmentForMap(t.map)),n},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<.016666666666666666?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record 0.016666666666666666"):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",e.code===BM)return;return this.pause(),e.code===wM?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,t.stats),r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.playlist,r=e.mediaIndex,i=e.firstVideoFrameTimeForData,o=e.currentVideoTimestampOffset,a=e.useVideoTimingInfo,s=e.videoTimingInfo,l=e.audioTimingInfo;if(void 0!==t)return t;if(!a)return l.start;var u=n.segments[r-1];return 0!==r&&u&&void 0!==u.start&&u.end===i+o?s.start:i},n.waitForAppendsToComplete_=function(e){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var t=this.currentMediaInfo_,n=t.hasAudio,r=t.hasVideo,i=t.isMuxed,o="main"===this.loaderType_&&r,a=!this.audioDisabled_&&n&&!i;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,a&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(e){var t=e.segment,n=t.start,r=t.end,i=e.playlist,o=i.mediaSequence,a=i.id,s=i.segments,l=void 0===s?[]:s,u=e.mediaIndex,c=e.timeline;return["appending ["+u+"] of ["+o+", "+(o+l.length)+"] from playlist ["+a+"]","["+n+" => "+r+"] in timeline ["+c+"]"].join(" ")}(e));var t=JM(e,this.sourceType_);if(t&&("warn"===t.severity?nD.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var n=e.segment;if(n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration)this.resetEverything();else null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.isEndOfStream_(e.mediaIndex,e.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_()}},n.recordThroughput_=function(e){if(e.duration<.016666666666666666)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record 0.016666666666666666");else{var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(zM(n)&&zM(r)){VM(n,r,this.segmentMetadataTrack_);var i=ek.WebKitDataCue||ek.VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},a=new i(n,r,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}},t}(nD.EventTarget);function $M(){}var ZM,eR=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},tR=["video","audio"],nR=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},rR=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.ready()&&"closed"!==n.mediaSource.readyState&&!nR(t,n)){if(i.type!==t){if(null===(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue)))return;i=n.queue[r]}return n.queue.splice(r,1),n.queuePending[t]=i,i.action(t,n),i.doneFn?void 0:(n.queuePending[t]=null,void e(t,n))}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},iR=function(e,t){var n=t[e+"Buffer"],r=eR(e);n&&(n.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),n.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},oR=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},aR=function(e,t,n){return function(r,i){var o=i[r+"Buffer"];if(oR(i.mediaSource,o)){i.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+r+"Buffer");try{o.appendBuffer(e)}catch(cH){i.logger_("Error with code "+cH.code+" "+(22===cH.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+r+"Buffer"),i.queuePending[r]=null,n(cH)}}}},sR=function(e,t){return function(n,r){var i=r[n+"Buffer"];oR(r.mediaSource,i)&&(r.logger_("Removing "+e+" to "+t+" from "+n+"Buffer"),i.remove(e,t))}},lR=function(e){return function(t,n){var r=n[t+"Buffer"];oR(n.mediaSource,r)&&(n.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},uR=function(e){return function(t,n){e()}},cR=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(cH){nD.log.warn("Failed to call media source endOfStream",cH)}}}},dR=function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(cH){nD.log.warn("Failed to set media source duration",cH)}}},AR=function(){return function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(oR(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(cH){nD.log.warn("Failed to abort on "+e+"Buffer",cH)}}}}},hR=function(e,t){return function(n){var r=eR(e),i=GN(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=n.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),o.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=o}},fR=function(e){return function(t){var n=t[e+"Buffer"];if(iR(e,t),oR(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(cH){nD.log.warn("Failed to removeSourceBuffer "+e+"Buffer",cH)}}}},pR=function(e){return function(t,n){var r=n[t+"Buffer"],i=GN(e);oR(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),r.changeType(i),n.codecs[t]=e)}},gR=function(e){var t=e.type,n=e.sourceUpdater,r=e.action,i=e.doneFn,o=e.name;n.queue.push({type:t,action:r,doneFn:i,name:o}),rR(t,n)},mR=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}rR(e,t)}},vR=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return rR("mediaSource",ok(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=sD("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=mR("video",ok(n)),n.onAudioUpdateEnd_=mR("audio",ok(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}sk(t,e);var n=t.prototype;return n.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},n.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},n.hasInitializedAnyEme=function(){return this.initializedEme_},n.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},n.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},n.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){gR({type:"mediaSource",sourceUpdater:this,action:hR(e,t),name:"addSourceBuffer"})},n.abort=function(e){gR({type:e,sourceUpdater:this,action:AR(e),name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?gR({type:"mediaSource",sourceUpdater:this,action:fR(e),name:"removeSourceBuffer"}):nD.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!nD.browser.IE_VERSION&&!nD.browser.IS_FIREFOX&&ek.MediaSource&&ek.MediaSource.prototype&&"function"==typeof ek.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return ek.SourceBuffer&&ek.SourceBuffer.prototype&&"function"==typeof ek.SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?gR({type:e,sourceUpdater:this,action:pR(t),name:"changeType"}):nD.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.hasCreatedSourceBuffers())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))},n.appendBuffer=function(e,t){var n=this,r=e.segmentInfo,i=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(gR({type:i,sourceUpdater:this,action:aR(o,r||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return oR(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:nD.createTimeRange()},n.videoBuffered=function(){return oR(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:nD.createTimeRange()},n.buffered=function(){var e=oR(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=oR(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return nD.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++i&&(n=o[s].time):"end"===o[s].type&&1==--i&&(r=o[s].time),null!==n&&null!==r&&(a.push([n,r]),n=null,r=null);return nD.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){void 0===t&&(t=$M),gR({type:"mediaSource",sourceUpdater:this,action:dR(e),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=$M),"string"!=typeof e&&(e=void 0),gR({type:"mediaSource",sourceUpdater:this,action:cR(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=$M),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?gR({type:"audio",sourceUpdater:this,action:sR(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=$M),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?gR({type:"video",sourceUpdater:this,action:sR(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!nR("audio",this)&&!nR("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(gR({type:"audio",sourceUpdater:this,action:lR(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(gR({type:"video",sourceUpdater:this,action:lR(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&gR({type:"audio",sourceUpdater:this,action:uR(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&gR({type:"video",sourceUpdater:this,action:uR(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),tR.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return iR(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(nD.EventTarget),yR=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},bR=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),_R=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).handlePartialData_=!1,r.mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}sk(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return nD.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return nD.createTimeRanges([[t,n]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=WD(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=bR.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(bR,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){VM(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===wM&&this.handleTimeout_(),e.code===BM?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),this.state="APPENDING",this.trigger("appending");var o=i.segment;if(o.map&&(o.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof ek.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var a,s=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",a),r.stopForError({message:"Error loading vtt.js"})};return a=function(){r.subtitlesTrack_.tech_.off("vttjserror",s),r.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",a),void this.subtitlesTrack_.tech_.one("vttjserror",s)}o.requested=!0;try{this.parseVTTCues_(i)}catch(cH){return void this.stopForError({message:cH.message})}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=o.duration,i.cues.forEach((function(e){r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new ek.VTTCue(e.startTime,e.endTime,e.text):e)})),function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var r=[],i=0,o=0;o<t.length;o++)t[n].startTime===t[o].startTime&&t[n].endTime===t[o].endTime&&t[n].text===t[o].text&&++i>1&&r.push(t[o]);r.length&&r.forEach((function(t){return e.removeCue(t)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"==typeof ek.TextDecoder?t=new ek.TextDecoder("utf8"):(t=ek.WebVTT.StringDecoder(),n=!0);var r=new ek.WebVTT.Parser(ek,ek.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){nD.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=yR(i)),r.parse(i)}var o=e.bytes;n&&(o=yR(o)),r.parse(o),r.flush()},n.updateTimeMapping_=function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/gN-i.LOCAL+t.mapping;if(e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}else r.empty=!0},t}(YM),wR=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},BR=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var o=t.segments||[],a=null,s=null;i=i||0;for(var l=0;l<o.length;l++){var u=o[l],c=e.timelineToDatetimeMappings[u.timeline];if(c&&u.dateTimeObject){var d=u.dateTimeObject.getTime()/1e3+c,A=Math.abs(i-d);if(null!==s&&(0===A||s<A))break;s=A,a={time:d,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var l=0;l<o.length;l++){var u=o[l];if(u.timeline===r&&void 0!==u.start){var c=Math.abs(i-u.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var d=Math.abs(i-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:l})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],CR=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=sD("SyncController"),n}sk(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+xD(e,r.segmentIndex,0))},n.runStrategies_=function(e,t,n,r){for(var i=[],o=0;o<BR.length;o++){var a=BR[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var r=e.segments[n];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo,n=e.shouldSaveTimelineMapping,r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));var o=i.dateTimeObject;i.discontinuity&&n&&o&&(this.timelineToDatetimeMappings[i.timeline]=-o.getTime()/1e3)},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var r=e.segment,i=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]")),r.start=e.startOfSegment,r.end=t.end+i.mapping;else{if(!i)return!1;r.start=t.start+i.mapping,r.end=t.end+i.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l=void 0;l=a<0?n.start-xD(t,e.mediaIndex,i):n.end+xD(t,e.mediaIndex+1,i),this.discontinuities[o]={time:l,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(nD.EventTarget),ER=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}sk(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(nD.EventTarget),TR=cM(dM(AM((function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t};var n=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t},r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();
/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */
var i=null,o=function(){function e(e){var t,n,r;i||(i=function(){var e,t,n,r,i,o,a,s,l=[[[],[],[],[],[]],[[],[],[],[],[]]],u=l[0],c=l[1],d=u[4],A=c[4],h=[],f=[];for(e=0;e<256;e++)f[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!d[t];t^=r||1,n=f[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[t]=o,A[o]=t,s=16843009*h[i=h[r=h[t]]]^65537*i^257*r^16843008*t,a=257*h[o]^16843008*o,e=0;e<4;e++)u[e][t]=a=a<<24^a>>>8,c[e][o]=s=s<<24^s>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),c[e]=c[e].slice(0);return l}()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];var o=this._tables[0][4],a=this._tables[1],s=e.length,l=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var u=e.slice(0),c=[];for(this._key=[u,c],t=s;t<4*s+28;t++)r=u[t-1],(t%s==0||8===s&&t%s==4)&&(r=o[r>>>24]<<24^o[r>>16&255]<<16^o[r>>8&255]<<8^o[255&r],t%s==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),u[t]=u[t-s]^r;for(n=0;t;n++,t--)r=u[3&n?t:t-4],c[n]=t<=4||n<4?r:a[0][o[r>>>24]]^a[1][o[r>>16&255]]^a[2][o[r>>8&255]]^a[3][o[255&r]]}return e.prototype.decrypt=function(e,t,n,r,i,o){var a,s,l,u,c=this._key[1],d=e^c[0],A=r^c[1],h=n^c[2],f=t^c[3],p=c.length/4-2,g=4,m=this._tables[1],v=m[0],y=m[1],b=m[2],_=m[3],w=m[4];for(u=0;u<p;u++)a=v[d>>>24]^y[A>>16&255]^b[h>>8&255]^_[255&f]^c[g],s=v[A>>>24]^y[h>>16&255]^b[f>>8&255]^_[255&d]^c[g+1],l=v[h>>>24]^y[f>>16&255]^b[d>>8&255]^_[255&A]^c[g+2],f=v[f>>>24]^y[d>>16&255]^b[A>>8&255]^_[255&h]^c[g+3],g+=4,d=a,A=s,h=l;for(u=0;u<4;u++)i[(3&-u)+o]=w[d>>>24]<<24^w[A>>16&255]<<16^w[h>>8&255]<<8^w[255&f]^c[g++],a=d,d=A,A=h,h=f,f=a},e}(),a=function(e){function t(){var t;return(t=e.call(this,r)||this).jobs=[],t.delay=1,t.timeout_=null,t}n(t,e);var i=t.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(r),s=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},l=function(){function e(t,n,r,i){var o=e.STEP,l=new Int32Array(t.buffer),u=new Uint8Array(t.byteLength),c=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),n,r,u)),c=o;c<l.length;c+=o)r=new Uint32Array([s(l[c-4]),s(l[c-3]),s(l[c-2]),s(l[c-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(c,c+o),n,r,u));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var e;i(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r,i,a,l,u,c,d,A,h,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),p=new o(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),m=new Int32Array(g.buffer);for(r=n[0],i=n[1],a=n[2],l=n[3],h=0;h<f.length;h+=4)u=s(f[h]),c=s(f[h+1]),d=s(f[h+2]),A=s(f[h+3]),p.decrypt(u,c,d,A,m,h),m[h]=s(m[h]^r),m[h+1]=s(m[h+1]^i),m[h+2]=s(m[h+2]^a),m[h+3]=s(m[h+3]^l),r=u,i=c,a=d,l=A;return g}(e,t,n);r.set(i,e.byteOffset)}},t(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}();self.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new l(n,r,i,(function(e,n){var r,i;self.postMessage((r={source:t.source,decrypted:n},i={},Object.keys(r).forEach((function(e){var t=r[e];ArrayBuffer.isView(t)?i[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:i[e]=t})),i),[n.buffer])}))}})))),SR=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},kR=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},xR=function(e,t){t.activePlaylistLoader=e,e.load()},OR={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;kR(n,r);var o=r.activeTrack(),a=r.activeGroup(),s=(a.filter((function(e){return e.default}))[0]||a[0]).id,l=r.tracks[s];if(o!==l){for(var u in nD.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];nD.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),kR(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},UR={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",OR[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",OR[e](e,n))}},NR={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,a=t.master,s=a.mediaGroups,l=a.playlists,u=t.mediaTypes[e],c=u.groups,d=u.tracks,A=t.masterPlaylistLoader;s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}});var h=function(i){c[i]||(c[i]=[]);var a=l.filter((function(t){return t.attributes[e]===i})),u=function(l){var u=s[e][i][l];!a.filter((function(e){return e.resolvedUri!==u.resolvedUri})).length&&a.length&&delete u.resolvedUri;var h=void 0;if(h="vhs-json"===r&&u.playlists?new bD(u.playlists[0],n,o):u.resolvedUri?new bD(u.resolvedUri,n,o):u.playlists&&"dash"===r?new aM(u.playlists[0],n,o,A):null,u=nD.mergeOptions({id:l,playlistLoader:h},u),UR[e](e,u.playlistLoader,t),c[i].push(u),void 0===d[l]){var f=new nD.AudioTrack({id:l,kind:SR(u),enabled:!1,language:u.language,default:u.default,label:l});d[l]=f}};for(var h in s[e][i])u(h)};for(var f in s[e])h(f);i.on("error",OR[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,d=t.masterPlaylistLoader;for(var A in s[e])for(var h in u[A]||(u[A]=[]),s[e][A])if(!s[e][A][h].forced){var f=s[e][A][h],p=void 0;if("hls"===i)p=new bD(f.resolvedUri,r,a);else if("dash"===i){if(!f.playlists.filter((function(e){return e.excludeUntil!==1/0})).length)return;p=new aM(f.playlists[0],r,a,d)}else"vhs-json"===i&&(p=new bD(f.playlists?f.playlists[0]:f.resolvedUri,r,a));if(f=nD.mergeOptions({id:h,playlistLoader:p},f),UR[e](e,f.playlistLoader,t),u[A].push(f),void 0===c[h]){var g=n.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;c[h]=g}}o.on("error",OR[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in r[e])for(var l in o[s]||(o[s]=[]),r[e][s]){var u=r[e][s][l];if(u.instreamId.match(/CC\d/)&&(o[s].push(nD.mergeOptions({id:l},u)),void 0===a[l])){var c=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;a[l]=c}}}},IR={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},FR=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){NR[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.vhs;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=i[o.attributes[e]]),a=a||i.main,void 0===n?a:null===n?null:a.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=IR[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;kR(r,o),s&&(s.playlistLoader?(r.resyncLoader(),xR(s.playlistLoader,o)):l&&i.resetEverything())}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;if(kR(r,o),s){if("AUDIO"===e){if(!s.playlistLoader)return i.setAudio(!0),void i.resetEverything();r.setAudio(!0),i.setAudio(!1)}l!==s.playlistLoader?(r.track&&r.track(a),r.resetEverything(),xR(s.playlistLoader,o)):xR(s.playlistLoader,o)}}}(n,e)}));var o=t.AUDIO.activeGroup();if(o){var a=(o.filter((function(e){return e.default}))[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var l in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[l])},LR=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],PR=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},QR=function(e){function t(t){var n;n=e.call(this)||this;var r,i=t.src,o=t.handleManifestRedirects,a=t.withCredentials,s=t.tech,l=t.bandwidth,u=t.externVhs,c=t.useCueTags,d=t.blacklistDuration,A=t.enableLowInitialPlaylist,h=t.sourceType,f=t.cacheEncryptionKeys,p=t.handlePartialData,g=t.experimentalBufferBasedABR;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");ZM=u,n.experimentalBufferBasedABR=Boolean(g),n.withCredentials=a,n.tech_=s,n.vhs_=s.vhs,n.sourceType_=h,n.useCueTags_=c,n.blacklistDuration=d,n.enableLowInitialPlaylist=A,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(r={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){r[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:$M,activeTrack:$M,onGroupChanged:$M,onTrackChanged:$M}})),r),n.mediaSource=new ek.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(ok(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(ok(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(ok(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=nD.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new CR(t),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new TR,n.sourceUpdater_=new vR(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new ER;var m={vhs:n.vhs_,parse708captions:t.parse708captions,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:l,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:f,handlePartialData:p,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new aM(i,n.vhs_,n.requestOptions_):new bD(i,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new YM(nD.mergeOptions(m,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new YM(nD.mergeOptions(m,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new _R(nD.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",(function(){return n.startABRTimer_()})),n.tech_.on("pause",(function(){return n.stopABRTimer_()})),n.tech_.on("play",(function(){return n.startABRTimer_()}))),LR.forEach((function(e){n[e+"_"]=PR.bind(ok(n),e)})),n.logger_=sD("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n}sk(t,e);var n=t.prototype;return n.checkABR_=function(){var e=this.selectPlaylist();this.shouldSwitchToMedia_(e)&&this.masterPlaylistLoader_.media(e)},n.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=ek.setInterval((function(){return e.checkABR_()}),250)},n.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ek.clearInterval(this.abrTimer_),this.abrTimer_=null)},n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;PD(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),FR({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),!n||!e.shouldSwitchToMedia_(n))return;if(e.initialMedia_=n,e.masterPlaylistLoader_.media(e.initialMedia_),!("vhs-json"===e.sourceType_&&e.initialMedia_.segments))return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;PD(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();"playlist-unchanged"!==t.lastExcludeReason_&&(e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){n.AUDIO[o][a].uri||(r=!1)}r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ZM.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.shouldSwitchToMedia_=function(e){var t=this.masterPlaylistLoader_.media(),n=this.tech_.buffered();return function(e){var t=e.currentPlaylist,n=e.nextPlaylist,r=e.forwardBuffer,i=e.bufferLowWaterLine,o=e.bufferHighWaterLine,a=e.duration,s=e.experimentalBufferBasedABR,l=e.log;if(!n)return nD.log.warn("We received no playlist to switch to. Please check your stream."),!1;var u="allowing switch "+(t&&t.id||"null")+" -> "+n.id;if(!t||!t.endList)return l(u+" as current playlist "+(t?"is live":"is not set")),!0;if(n.id===t.id)return!1;var c=s?sM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:sM.MAX_BUFFER_LOW_WATER_LINE;if(a<c)return l(u+" as duration < max low water line ("+a+" < "+c+")"),!0;var d=n.attributes.BANDWIDTH,A=t.attributes.BANDWIDTH;if(d<A&&(!s||r<o)){var h=u+" as next bandwidth < current bandwidth ("+d+" < "+A+")";return s&&(h+=" and forwardBuffer < bufferHighWaterLine ("+r+" < "+o+")"),l(h),!0}if((!s||d>A)&&r>=i){var f=u+" as forwardBuffer >= bufferLowWaterLine ("+r+" >= "+i+")";return s&&(f+=" and next bandwidth > current bandwidth ("+d+" > "+A+")"),l(f),!0}return l("not "+u+" as no switching criteria met"),!1}({currentPlaylist:t,nextPlaylist:e,forwardBuffer:n.length?n.end(n.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},n.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist();e.shouldSwitchToMedia_(t)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(t){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var t=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything((function(){nD.browser.IE_VERSION||nD.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(nD.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=ZM.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=.1;var o=i.end(i.length-1);return o-r<=.1&&n-o<=.1},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var r=this.masterPlaylistLoader_.master.playlists,i=r.filter(FD),o=1===i.length&&i[0]===n;if(1===r.length&&t!==1/0)return nD.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;r.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(a=!0,delete e.excludeUntil)}})),a&&(nD.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*t,e.reason&&(n.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var l=e.internal?this.logger_:nD.log.warn,u=e.message?" "+e.message:"";l((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+u+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var c=s.targetDuration/2*1e3||5e3,d="number"==typeof s.lastRequest&&Date.now()-s.lastRequest<=c;return this.masterPlaylistLoader_.media(s,o||d)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},n.delegateLoaders_=function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.masterPlaylistLoader_);var o=[];(i||"audio"===e)&&o.push("AUDIO"),(i||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=wD(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ZM.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.masterPlaylistLoader_.master.suggestedPresentationDelay,i=ZM.Playlist.seekable(t,n,r);if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=ZM.Playlist.seekable(t,n,r)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?this.seekable_=i:this.seekable_=nD.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):this.seekable_=i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+CD(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=ZM.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||e&&!this.audioSegmentLoader_.currentMediaInfo_)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};t.video=t.main;var n=LM(this.master(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||"avc1.4d400d"),t.main.isMuxed&&(r.video+=","+(n.audio||t.main.audioCodec||"mp4a.40.2")),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||"mp4a.40.2",t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var o,a={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=t[e].isFmp4,s=r[e],!(i?XN(s):JN(s)))){var n=t[e].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(r[e]),"audio"===e&&(o=n)}var i,s})),i&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];if(["video","audio"].forEach((function(t){var n=(qN(e.sourceUpdater_.codecs[t]||"")[0]||{}).type,i=(qN(r[t]||"")[0]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&l.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')})),l.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var u=Object.keys(a).reduce((function(e,t){return e&&(e+=", "),e+=t+' does not support codec(s): "'+a[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this,t=this.master().playlists,n=[];Object.keys(t).forEach((function(r){var i=t[r];if(-1===n.indexOf(i.id)){n.push(i.id);var o=LM(e.master,i),a=[];!o.audio||JN(o.audio)||XN(o.audio)||a.push("audio codec "+o.audio),!o.video||JN(o.video)||XN(o.video)||a.push("video codec "+o.video),o.text&&"stpp.ttml.im1t"===o.text&&a.push("text codec "+o.text),a.length&&(i.excludeUntil=1/0,e.logger_("excluding "+i.id+" for unsupported: "+a.join(", ")))}}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=[],r=this.master().playlists,i=IM(qN(e)),o=FM(i),a=i.video&&qN(i.video)[0]||null,s=i.audio&&qN(i.audio)[0]||null;Object.keys(r).forEach((function(e){var i=r[e];if(-1===n.indexOf(i.id)&&i.excludeUntil!==1/0){n.push(i.id);var l=[],u=LM(t.masterPlaylistLoader_.master,i),c=FM(u);if(u.audio||u.video){if(c!==o&&l.push('codec count "'+c+'" !== "'+o+'"'),!t.sourceUpdater_.canChangeType()){var d=u.video&&qN(u.video)[0]||null,A=u.audio&&qN(u.audio)[0]||null;d&&a&&d.type.toLowerCase()!==a.type.toLowerCase()&&l.push('video codec "'+d.type+'" !== "'+a.type+'"'),A&&s&&A.type.toLowerCase()!==s.type.toLowerCase()&&l.push('audio codec "'+A.type+'" !== "'+s.type+'"')}l.length&&(i.excludeUntil=1/0,t.logger_("blacklisting "+i.id+": "+l.join(" && ")))}}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var r,i=n,o=0;o<e.segments.length;o++){var a=e.segments[o];if(r||(r=wR(t,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new ek.VTTCue(i,i+a.duration,a.cueOut)).adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){var s=a.cueOutCont.split("/").map(parseFloat),l=s[0],u=s[1];(r=new ek.VTTCue(i,i+a.duration,"")).adStartTime=i-l,r.adEndTime=r.adStartTime+u,t.addCue(r)}i+=a.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=sM.GOAL_BUFFER_LENGTH,n=sM.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,sM.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=sM.BUFFER_LOW_WATER_LINE,n=sM.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,sM.MAX_BUFFER_LOW_WATER_LINE),i=Math.max(t,sM.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.experimentalBufferBasedABR?i:r)},n.bufferHighWaterLine=function(){return sM.BUFFER_HIGH_WATER_LINE},t}(nD.EventTarget),DR=function(e,t,n){var r,i,o,a=e.masterPlaylistController_,s=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes.RESOLUTION){var l=t.attributes.RESOLUTION;this.width=l.width,this.height=l.height}this.bandwidth=t.attributes.BANDWIDTH,this.codecs=LM(a.master(),t),this.playlist=t,this.id=n,this.enabled=(r=e.playlists,i=t.id,o=s,function(e){var t=r.master.playlists[i],n=ID(t),a=FD(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||n||(o(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})},MR=["seeking","seeked","pause","playing","error"],RR=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=sD("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.monitorCurrentTime_()},i=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},a=function(){return t.fixesBadSeeks_()},s=this.masterPlaylistController_,l=["main","subtitle","audio"],u={};l.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},s[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(MR,o),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",a),t.tech_.off("waiting",i),t.tech_.off(MR,o),t.tech_.off("canplay",r),t.tech_.off("play",n),l.forEach((function(e){s[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&ek.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ek.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ek.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],r);this[e+"Buffered_"]=r,i?this.resetSegmentDownloads_(e):(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:ED(r)}),this[e+"StalledDownloads_"]<10||(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"!==e&&t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1));if(this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+CD(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;var i=this.tech_.buffered();return!!function(e){var t=e.buffered,n=e.targetDuration,r=e.currentTime;return!(!t.length||t.end(0)-t.start(0)<2*n||r>t.start(0)||!(t.start(0)-r<n))}({buffered:i,targetDuration:this.media().targetDuration,currentTime:n})&&(e=i.start(0)+.1,this.logger_("Buffered region starts ("+i.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=wD(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=BD(i,t);if(o.length>0){var a=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,r){if(void 0===r&&(r=!1),!e.length)return!1;var i=e.end(e.length-1)+.1;return!n.endList&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var o=wD(t,r-3),a=wD(t,r),s=wD(n,r);s.length&&!a.length&&o.length&&(i={start:o.end(0),end:s.end(0)})}else{BD(t,r).length||(i=this.gapFromVideoUnderflow_(t,r))}return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=BD(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+.03333333333333333),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return nD.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return nD.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null},e}(),HR={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},jR=function e(t,n){var r=0,i=0,o=nD.mergeOptions(HR,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){i&&t.currentTime(i)},s=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){return Date.now()-r<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(r=Date.now(),o.getSource.call(t,s)):void nD.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}},KR=function(e){jR(this,e)},VR={PlaylistLoader:bD,Playlist:QD,utils:JD,STANDARD_PLAYLIST_SELECTOR:jM,INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(QD.isEnabled);return MM(t,(function(e,t){return RM(e,t)})),t.filter((function(t){return!!LM(e.playlists.master,t).video}))[0]||null},lastBandwidthSelector:jM,movingAverageBandwidthSelector:function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&ek.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,HM(this.playlists.master,t,parseInt(DM(this.tech_.el(),"width"),10)*n,parseInt(DM(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions)}},comparePlaylistBandwidth:RM,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||ek.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||ek.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:HD()};Object.keys(sM).forEach((function(e){Object.defineProperty(VR,e,{get:function(){return nD.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),sM[e]},set:function(t){nD.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?nD.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):sM[e]=t}})}));var zR=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};VR.canPlaySource=function(){return nD.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var qR=function(e,t,n){if(!e)return e;var r={video:t&&t.attributes&&t.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!r.audio&&r.video&&r.video.split(",").length>1&&r.video.split(",").forEach((function(e){e=e.trim(),WN(e)?r.audio=e:function(e){return void 0===e&&(e=""),jN.video.test(e.trim().toLowerCase())}(e)&&(r.video=e)}));var i=r.video?'video/mp4;codecs="'+r.video+'"':null,o=r.audio?'audio/mp4;codecs="'+r.audio+'"':null,a={};for(var s in e)a[s]={audioContentType:o,videoContentType:i},t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(a[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(a[s].url=e[s]);return nD.mergeOptions(e,a)},WR=function(e){var t=e.player,n=e.sourceKeySystems,r=e.audioMedia,i=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var o=function(e,t){return e.reduce((function(e,n){if(!n.contentProtection)return e;var r=t.reduce((function(e,t){var r=n.contentProtection[t];return r&&r.pssh&&(e[t]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])}(r?i.concat([r]):i,Object.keys(n)),a=[],s=[];return o.forEach((function(e){s.push(new Promise((function(e,n){t.tech_.one("keysessioncreated",e)}))),a.push(new Promise((function(n,r){t.eme.initializeMediaKeys({keySystems:e},(function(e){e?r(e):n()}))})))})),Promise.race([Promise.all(a),Promise.race(s)])},GR=function(){if(!ek.localStorage)return null;var e=ek.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(cH){return null}};VR.supportsNativeHls=function(){if(!rk||!rk.createElement)return!1;var e=rk.createElement("video");if(!nD.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),VR.supportsNativeDash=!!(rk&&rk.createElement&&nD.getTech("Html5").isSupported())&&/maybe|probably/i.test(rk.createElement("video").canPlayType("application/dash+xml")),VR.supportsTypeNatively=function(e){return"hls"===e?VR.supportsNativeHls:"dash"===e&&VR.supportsNativeDash},VR.isSupported=function(){return nD.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var XR=function(e){function t(t,n,r){var i;if(i=e.call(this,n,nD.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&nD.log.warn("Using hls options is deprecated. Use vhs instead."),i.logger_=sD("VhsHandler"),n.options_&&n.options_.playerId){var o=nD(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return nD.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),ok(i)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return nD.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),ok(i)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return nD.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),ok(i)},configurable:!0}),i.player_=o}if(i.tech_=n,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(rk,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=rk.fullscreenElement||rk.webkitFullscreenElement||rk.mozFullScreenElement||rk.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}sk(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=GR();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=sM.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===sM.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n=this;if(e){var r;this.setOptions_(),this.options_.src=0===(r=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(r.substring(r.indexOf(",")+1)):r,this.options_.tech=this.tech_,this.options_.externVhs=VR,this.options_.sourceType=lx(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e)},this.masterPlaylistController_=new QR(this.options_);var i=nD.mergeOptions({liveRangeSafeTimeDelta:.1},this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new RR(i),this.masterPlaylistController_.on("error",(function(){var e=nD.players[n.tech_.options_.playerId],t=n.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));var o=this.options_.experimentalBufferBasedABR?VR.movingAverageBandwidthSelector(.55):VR.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.masterPlaylistController_.selectInitialPlaylist=VR.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e,t=1/(this.bandwidth||1);return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){nD.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return ED(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ED(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!ek.localStorage)return!1;var t=GR();t=t?nD.mergeOptions(t,e):e;try{ek.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(cH){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,t;t=(e=n).playlists,e.representations=function(){return t&&t.master&&t.master.playlists?t.master.playlists.filter((function(e){return!ID(e)})).map((function(t,n){return new DR(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){n.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ek.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},n.setupEme_=function(){var e,t,n,r,i,o,a=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,l=(e={player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()},t=e.player,n=e.sourceKeySystems,r=e.media,i=e.audioMedia,!(!(o=qR(n,r,i))||(t.currentSource().keySystems=o,o&&!t.eme&&(nD.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1))));11!==nD.browser.IE_VERSION&&l?(this.logger_("waiting for EME key session creation"),WR({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){a.logger_("created EME key session"),a.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(e){a.logger_("error while creating EME key session",e),a.player_.error({message:"Failed to initialize media keys for EME",code:3})}))):this.masterPlaylistController_.sourceUpdater_.initializedEme()},n.setupQualityLevels_=function(){var e=this,t=nD.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),zR(t,n.playlists)})),this.playlists.on("mediachange",(function(){zR(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":"2.6.4","mux.js":"5.10.0","mpd-parser":"0.15.4","m3u8-parser":"4.5.2","aes-decrypter":"3.1.2"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return vR.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&ek.URL.revokeObjectURL&&(ek.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return YD({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=2),$D({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(nD.getComponent("Component")),JR={name:"videojs-http-streaming",VERSION:"2.6.4",canHandleSource:function(e,t){void 0===t&&(t={});var n=nD.mergeOptions(nD.options,t);return JR.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var r=nD.mergeOptions(nD.options,n);return t.vhs=new XR(e,t,r),nD.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return nD.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=HD(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=nD.mergeOptions(nD.options,t).vhs.overrideNative,r=void 0===n?!nD.browser.IS_ANY_SAFARI:n,i=lx(e);return i&&(!VR.supportsTypeNatively(i)||r)?"maybe":""}};XN("avc1.4d400d,mp4a.40.2")&&nD.getTech("Html5").registerSourceHandler(JR,0),nD.VhsHandler=XR,Object.defineProperty(nD,"HlsHandler",{get:function(){return nD.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),XR},configurable:!0}),nD.VhsSourceHandler=JR,Object.defineProperty(nD,"HlsSourceHandler",{get:function(){return nD.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),JR},configurable:!0}),nD.Vhs=VR,Object.defineProperty(nD,"Hls",{get:function(){return nD.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),VR},configurable:!0}),nD.use||(nD.registerComponent("Hls",VR),nD.registerComponent("Vhs",VR)),nD.options.vhs=nD.options.vhs||{},nD.options.hls=nD.options.hls||{},nD.registerPlugin?nD.registerPlugin("reloadSourceOnError",KR):nD.plugin("reloadSourceOnError",KR);const YR=window.videojs||nD,$R=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"],ZR=({props:e,emit:t,video:n,player:r,reseted:i})=>{const o=()=>{if(n.value){const i=Object.assign({},e.globalOptions,e.options);!0===e.playsinline&&(n.value.setAttribute("playsinline",e.playsinline),n.value.setAttribute("webkit-playsinline",e.playsinline),n.value.setAttribute("x5-playsinline",e.playsinline),n.value.setAttribute("x5-video-player-type","h5"),n.value.setAttribute("x5-video-player-fullscreen",!1)),""!==e.crossOrigin&&(n.value.crossOrigin=e.crossOrigin,n.value.setAttribute("crossOrigin",e.crossOrigin));const o=(n,r)=>{n&&t(n,e.player),r&&t(e.customEventName,{[n]:r})};i.plugins&&delete i.plugins.__ob__,r.value=YR(n.value,i,(function(){const n=$R.concat(e.events).concat(e.globalEvents),r={};for(let e=0;e<n.length;e++)"string"==typeof n[e]&&r[n[e]]&&(e=>{r[e]=null,this.on(e,(()=>{o(e,!0)}))})(n[e]);this.on("timeupdate",(function(){o("timeupdate",this.currentTime())})),t("ready",this)}))}},s=e=>{r.value&&r.value.dispose&&("Flash"!==r.value.techName_&&r.value.pause&&r.value.pause(),r.value.dispose(),r.value=null,a((()=>{i.value=!1,a((()=>{i.value=!0,a((()=>{un(e)&&e()}))}))})))};return d((()=>e.options),((e,t)=>{s((()=>{e&&e.sources&&e.sources.length&&o()}))}),{deep:!0}),{initialize:o,dispose:s}},eH=s({name:"VueVideoPlayer",componentName:"ManageVueVideoPlayer",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,default:()=>{}},events:{type:Array,default:()=>[]},globalOptions:{type:Object,default:()=>({controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}})},globalEvents:{type:Array,default:()=>[]},trackList:{type:Array,default:()=>[]}},setup(e,{emit:t}){const{player:n,reseted:r,video:i}={player:c(null),reseted:c(!0),video:c(null)},{initialize:o,dispose:a}=ZR({props:e,emit:t,player:n,video:i,reseted:r});return g((()=>{n.value||o()})),k((()=>{n.value&&a(null)})),{player:n,reseted:r,video:i,initialize:o,dispose:a}},render(){const e=this.$slots;return this.reseted&&h("div",{class:"video-player"},[un(e.title)&&e.title(),h("video",{class:"video-js",ref:e=>e&&(this.video=e)},[this.trackList.map((e=>h("track",e,null)))])])}});var tH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:eH});class nH{constructor(e,t,n){this.isBrowser=!1,this.wideScreen=null,this.webFullScreen=null,this.downLoad=null,this.url="",this.poster="",this.widefull=!1,this.webfull=!1,this.fullscreen=!1,this.title="",this.isBrowser="undefined"!=typeof window,this.url=e,this.poster=t,this.title=n}getConfig(){return{playbackRates:[.5,.7,1,1.25,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"2:1",fluid:!0,sources:[this.url],poster:this.poster,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,fullscreenToggle:!0,captionsButton:!1,chaptersButton:!1,playbackRateMenuButton:!0,LiveDisplay:!0,subtitlesButton:!1,remainingTimeDisplay:!0,progressControl:!0,volumeMenuButton:{inline:!1,vertical:!0}}}}downLoadVideo(){NT(this.url,this.title)}wideScreenChange({el_:e}){let t="";this.widefull=!this.widefull,t=this.widefull?'<i class="iconfont icon-wide-reset diy-icon" title="还原"/>':'<i class="iconfont icon-wide diy-icon" title="宽屏"/>',e.querySelector(".vjs-icon-placeholder").innerHTML=t}webFullScreenChange({el_:e}){let t="";this.webfull=!this.webfull,t=this.webfull?'<i class="iconfont icon-webfull-reset diy-icon" title="还原">':'<i class="iconfont icon-webfull diy-icon" title="网页全屏"/>',e.querySelector(".vjs-icon-placeholder").innerHTML=t}videoDBClick(e){this.fullscreen?(iA(document),this.fullscreen=!1):(e.webkitRequestFullScreen(),this.fullscreen=!0)}videoReady(e,t={wideScreen:!1,webFullScreen:!1,download:!1}){this.isBrowser&&(t.wideScreen&&!this.wideScreen&&(this.wideScreen=e.controlBar.addChild("button",{},11),this.wideScreen.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="iconfont icon-wide diy-icon" title="宽屏"/>',this.wideScreen.on("click",(()=>this.wideScreenChange(this.wideScreen)))),t.webFullScreen&&!this.webFullScreen&&(this.webFullScreen=e.controlBar.addChild("button",{},12),this.webFullScreen.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="iconfont icon-webfull diy-icon" title="网页全屏"/>',this.webFullScreen.on("click",(()=>this.webFullScreenChange(this.webFullScreen)))),t.download&&!this.downLoad&&(this.downLoad=e.controlBar.addChild("button",{},1),this.downLoad.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="el-icon-download diy-icon" title="下载" />',this.downLoad.on("click",this.downLoadVideo)))}getFlagData(){return{webfull:this.webfull,widefull:this.widefull,fullscreen:this.fullscreen}}}let rH;const iH=function(){return{onReady:e=>{rH&&(rH.videoReady(e,{wideScreen:this.wideScreen,webFullScreen:this.webFullScreen,download:this.download}),this.$emit("ready"))},onEnd:e=>{e.isFullscreen()&&e.exitFullscreen(),e.hasStarted(!1)}}},oH=s({name:"VideoPlayer",componentName:"ManageVideoPlayer",components:{Player:eH},__file:"@PC/Video",props:{url:{type:String,default:"https://jarrychen.cn/video/tuoleijiya.MP4"},poster:{type:String,default:""},title:{type:String,default:"测试视频"},options:{type:Object,default:()=>({})}},setup(e){const{videoProps:t,wideScreen:n,webFullScreen:i,download:o}=(e=>(rH=new nH(e.url,e.poster,e.title),{videoProps:r((()=>Object.assign({},rH.getConfig(),e.options))),wideScreen:c(!1),webFullScreen:c(!1),download:c(!1)}))(e);return{videoProps:t,wideScreen:n,webFullScreen:i,download:o}},render(){return h("div",{class:{"vite-video-player":!0}},[h("div",{class:"video-control-topbar"},[this.title]),h(eH,x({options:this.videoProps,playsinline:!0,class:"vjs-custom-skin"},iH.call(this)),null)])}});var aH=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oH});const sH=["Menus","ManageMenus","Header","ManageHeader","Footer","Icons","ManageIcons","ManageFooter","UIRender","ManageUIRender","UIRenderHead","ManageUIRenderHead","UIRenderContent","ManageUIRenderContent","ComponentTools","ManageComponentTools","MultiTab","ManageMultiTab","VideoPlayer","ManageVideoPlayer","JsonEditor","ManageJsonEditor","MobileIcons","ManageMobileIcons","Tree","ManagePCTree","Auth","ManageAuthList","Collapse","ManagePCCollapse","ComponentNode","ManageComponentNode","VueVideoPlayer","ManageVueVideoPlayer"];nA(),window.addEventListener("resize",XA.debounce(nA,500));const lH=V(YA);var uH;uH=lH,Object.entries({"./actions/dragDialog.ts":AC,"./actions/draggable.ts":pC,"./actions/printDom.ts":mC}).forEach((e=>{const[t,{default:n}]=e.flat(2);rn(n.name)?uH.directive(n.name,n):uH.directive(t.slice(t.lastIndexOf("/")+1),n)})),uH.directive("click-outside",J),(t=>{const n={tsx:{"./Mobile/globalFooter/index.tsx":MA,"./Mobile/globalHeader/index.tsx":HA,"./Mobile/Icons/index.tsx":_C,"./Mobile/Menus/index.tsx":QA,"./Mobile/Steps/index.tsx":UC,"./PC/Auth/index.tsx":IC,"./PC/ContextMenus/index.tsx":OA,"./PC/Dialog/index.tsx":MC,"./PC/Echarts/index.tsx":VC,"./PC/Editor/index.tsx":CT,"./PC/globalFooter/index.tsx":kA,"./PC/globalHeader/index.tsx":TA,"./PC/Icons/index.tsx":TT,"./PC/ImageUpload/index.tsx":HT,"./PC/JsonEditor/index.tsx":XT,"./PC/Menus/index.tsx":Zi,"./PC/MultiTab/index.tsx":FA,"./PC/Search/index.tsx":CA,"./PC/Steps/index.tsx":$T,"./PC/SvgIcon/index.tsx":eS,"./PC/Table/index.tsx":nS,"./PC/Transfer/index.tsx":iS,"./PC/Tree/index.tsx":NS,"./PC/UIRender/index.tsx":ZS,"./PC/Upload/index.tsx":PT,"./PC/Video/index.tsx":aH,"./PC/Dialog/Button/maximize.tsx":QC,"./PC/Dialog/Button/minimize.tsx":LC,"./PC/globalHeader/fullScreen/index.tsx":cA,"./PC/globalHeader/locale/index.tsx":AA,"./PC/globalHeader/personInfo/index.tsx":vA,"./PC/globalHeader/rightNav/index.tsx":_A,"./PC/ImageUpload/Preview/index.tsx":MT,"./PC/Menus/subMenus/index.tsx":fn,"./PC/MultiTab/Collapse/index.tsx":NA,"./PC/UIRender/Content/index.tsx":WS,"./PC/UIRender/Head/index.tsx":MS,"./PC/UIRender/Node/index.tsx":XS,"./PC/UIRender/Tools/index.tsx":jS,"./PC/Upload/List/index.tsx":UT,"./PC/Upload/Preview/index.tsx":kT,"./PC/Video/Player/index.tsx":tH},vue:{}};Object.values(e(e({},n.tsx),n.vue)).forEach((({default:e})=>{const{name:n,componentName:r}=e;let i="";i=rn(n)&&rn(r)?n.length>r.length?r:n:n||r,sH.includes(i)||t.component(i,e)}))})(lH),((e,t)=>{e.use(t,{i18n:Ji.global.t}),e.use(Ji)})(lH,de),lH.use(lC).use(oh).use(eC),oh.isReady().catch(console.log).finally((()=>lH.mount("#app")));export{BT as E,ET as I,GT as J,bC as M,L_ as N,US as T,YS as U,oH as V,_f as _,Ht as a,vm as b,tA as c,rn as i,hA as p,rA as s,Yi as t,jt as u};
