var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,s=(e,t)=>{for(var l in t||(t={}))n.call(t,l)&&i(e,l,t[l]);if(o)for(var l of o(t))a.call(t,l)&&i(e,l,t[l]);return e},r=(e,o)=>t(e,l(o));import{u as c,a as u,c as d,r as p,w as m,n as h,d as g,b as f,e as b,f as v,g as y,h as _,F as w,_ as x,i as C,j as S,k,m as O,l as j,p as E,o as M,R as P,q as T,s as I,t as z,D as A,v as L,T as V,x as R,y as $,z as N,A as D,B as U,C as F,E as B,G as H,H as q,I as K,J as W,K as G,L as J,M as X,N as Y,O as Q,P as Z,Q as ee,S as te,U as le,V as oe,W as ne,X as ae,Y as ie,Z as se,$ as re,a0 as ce,a1 as ue,a2 as de,a3 as pe,a4 as me,a5 as he,a6 as ge,a7 as fe,a8 as be,a9 as ve,aa as ye,ab as _e,ac as we,ad as xe,ae as Ce,af as Se,ag as ke,ah as Oe,ai as je,aj as Ee,ak as Me,al as Pe,am as Te,an as Ie,ao as ze,ap as Ae,aq as Le,ar as Ve,as as Re,at as $e,au as Ne,av as De,aw as Ue,ax as Fe,ay as Be,az as He,aA as qe,aB as Ke,aC as We,aD as Ge,aE as Je,aF as Xe,aG as Ye,aH as Qe,aI as Ze,aJ as et,aK as tt,aL as lt,aM as ot,aN as nt,aO as at,aP as it,aQ as st,aR as rt}from"./vendor.0ef042a4.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(l){const o=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((l,a)=>{const i=new URL(e,o);if(self[t].moduleMap[i])return l(self[t].moduleMap[i]);const s=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){a(new Error(`Failed to import: ${e}`)),n(r)},onload(){l(self[t].moduleMap[i]),n(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/assets/");const ct=function(){return{onSelect:e=>{["http","//"].some((t=>e.startsWith(t)))?location.href=e:this.$router.push(e)},onOpen:async e=>{this.defaultOpen.push(e);const t=e.replaceAll("/","-"),l=document.querySelector(`.horizontal-submenu${t}`),o=t.indexOf("-"),n=t.lastIndexOf("-");if(o!==n){const e=document.querySelector(`.horizontal-submenu${t.slice(0,n)}`);await h();const o=e.children[0].querySelector("li.el-submenu.is-opened"),a=e.offsetLeft+o.offsetLeft-o.offsetWidth/2,i=e.offsetTop+e.offsetHeight+2;l.style.cssText+=`left:${a}px !important; top: ${i}px !important`}},onClose:e=>{const t=this.defaultOpen.filter((t=>t.includes(e)));t.forEach((e=>{var t,l;null==(l=null==(t=this.$refs["manage-menu"])?void 0:t.close)||l.call(t,e)})),this.defaultOpen=this.defaultOpen.filter((e=>!t.includes(e)))}}},ut=e=>"string"==typeof e&&e.trim().length>0,dt=e=>e&&"object"==typeof e,pt=e=>["string","symbol","number","boolean"].includes(typeof e),mt=e=>Object.prototype.toString.call(e).slice(8,-1),ht=()=>"undefined"!=typeof navigator&&Boolean(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))||"undefined"!=typeof window&&window.innerWidth<1024,gt=e=>e&&"function"==typeof e;let ft;const bt={},vt=function(e,t){if(!t)return e();if(void 0===ft){const e=document.createElement("link").relList;ft=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in bt)return;bt[e]=!0;const t=e.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":ft,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))};const yt=g({name:"SubMenus",__file:"@PC/Menus/subMenus",components:{SubMenus:f((()=>vt((()=>Promise.resolve().then((function(){return _t}))),void 0)))},emits:["close"],props:{depth:{type:Number,default:1},route:{type:[Array,Object],default:()=>[]},t:{type:Function},direction:{type:String,default:"vertical"}},render(){const e=this.$slots,t=this.route,l=this.t;return gt(e[`menu-${this.depth}`])?e[`menu-${this.depth}`](this):Array.isArray(t.children)&&t.children.length?b(v(y("el-submenu"),Object.assign({index:t.path,"popper-append-to-body":!0},"horizontal"===this.direction&&{"popper-class":`horizontal-submenu${t.path.replaceAll("/","-")}`}),{title:()=>v(w,null,[Boolean(t.meta&&ut(t.meta.icon))&&v("i",{class:t.meta.icon},null),t.meta&&v("span",null,[l(t.meta.title)])]),default:()=>t.children.map(((e,t)=>!e.hidden&&v(y("sub-menus"),{route:e,key:e.redirect||e.path||t,depth:this.depth+1,t:l,direction:this.direction,onClose:e=>this.$emit("close",e)},null)))}),[[_("click-outside"),()=>this.$emit("close",t.path)]]):!t.hidden&&v(y("el-menu-item"),{index:t.path},{title:()=>v(w,null,[Boolean(t.meta&&ut(t.meta.icon))&&v("i",{class:t.meta.icon},null),l(t.meta.title)])})}});var _t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});var wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"echarts-docs":"Echarts 统计图","editor-docs":"Editor 富文本编辑器","json-editor-docs":"JsonEditor Json编辑器","dialog-docs":"Dialog 弹窗","steps-docs":"Steps 步骤","image-upload-docs":"ImageUpload 图片上传","table-docs":"Table 表格","tree-docs":"Tree 树","upload-docs":"Upload 文件上传","video-docs":"Video 视频","form-docs":"Form 表单","toolbar-docs":"Toolbar 工具栏","cascaderpanel-docs":"CascaderPanel 级联面板"}});var xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"dialogs-page":"弹窗","icons-page":"图标","nest-menu-page":"嵌套菜单","login-page":"登录","personal-info":"个人信息","show-editor-page":"带预览","editor-page":"富文本编辑器","charts-page":"统计图","ordinary-charts-page":"普通统计图","video-page":"视频播放器","user-page":"用户","404-page":"找不到网页","table-page":"表格","basic-component":"基础组件","external-link":"外链","vuepress-blog":"Vuepress Blog","vant-next":"Vant Next","vue-router":"Vue Router4 Api","element-plus":"Element Plus","vue3-api":"Vue3 Api","backen-admin":"Vite Backen Admin","upload-page":"文件上传","steps-page":"步骤页","component-page":"拖拽生成页","json-page":"Json编辑器","tree-page":"树","transfer-page":"穿梭框","object-page":"Object编辑器","array-page":"Array编辑器","docs-page":"文档页","dashboard-page":"分析页","form-page":"表单","forget-page":"忘记密码","register-page":"注册","array-table-page":"列(数组)","slots-table-page":"列(插槽)","functional-component":"功能","socket-page":"Socket","toolbar-page":"工具栏",docs:"文档",logout:"退出登录"}});var Ct=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"iconfont vite-icon":"系统图标","vant-icon":"vant图标","el-icon":"element图标","change-language-success":"切换成功，当前语言为中文","zh-cn":"中文",en:"英语",id:"id",label:"内容",admin:"管理员",customer:"普通用户",username:"用户名",passwords:"密码",verify:"验证码","please.input.something":"请输入","please.select.something":"请选择",login:"登录",register:"注册","login.success":"登陆成功",welcome:"欢迎回来",close:"关闭","close-right":"关闭右侧","close-other":"关闭其他","remove component":"移除组件","vite-backen-config":"主题配置","qr-code-login":"二维码登录","username-login":"常规登录","top-menu":"顶部导航","left-menu":"侧边导航",dependencies:"生产环境依赖",devDependencies:"开发环境依赖",modelValue:"绑定值",BreadCrumb:"面包屑",MobileFooter:"手机底部导航",MobileHeader:"手机顶部导航",MobileMenus:"手机菜单",ContextMenu:"右键菜单",Dialogs:"自定义弹窗",Editor:"富文本编辑器",HeadSearch:"顶部查询",Steps:"自定义步骤页",SvgIcon:"自定义Svg",Upload:"自定义上传",MaximizeButton:"最大化按钮",MinimizeButton:"最小化按钮",FullScreen:"全屏",I18nSwitch:"国际化",PersonInfo:"自定义个人信息",RightNav:"自定义顶部右侧导航",ImagePreview:"图片预览",SubMenus:"自定义子菜单",FilePreview:"自定义文件预览",UploadList:"自定义上传列表",Socket:"socket连接",MessageList:"消息列表",ElAffix:"Element固钉",ElAside:"Element侧边栏",ElBacktop:"Element返回顶部",ElBadge:"Element标记",ElBreadcrumb:"Element面包屑",ElBreadcrumbItem:"Element面包屑项",ElButtonGroup:"Element按钮组",ElCalendar:"Element日历",ElCarousel:"Element走马灯",ElCarouselItem:"Element走马灯项",ElCascader:"Element级联选择器",ElCascaderPanel:"Element级联面板",ElCheckbox:"Element复选框",ElCheckboxButton:"Element复选按钮",ElCheckboxGroup:"Element复选组",ElCheckTag:"Element复选标签",ElCol:"Element列",ElCollapse:"Element折叠面板",ElCollapseItem:"Element折叠面板项",ElCollapseTransition:"Element折叠过渡",ElColorPicker:"Element颜色选择器",ElContainer:"Element容器",ElDatePicker:"Element日期选择器",ElDialog:"Element弹窗",ElDivider:"Element分割线",ElDrawer:"Element抽屉",ElDropdown:"Element下拉",ElDropdownItem:"Element下拉项",ElDropdownMenu:"Element下拉菜单",ElEmpty:"Element空描述",ElFooter:"Element底部",ElForm:"Element表单",ElFormItem:"Element表单项",ElHeader:"Element顶部",ElIcon:"Element图标",ElImage:"Element图片",ElImageViewer:"Element图片预览",ElInput:"Element输入框",ElInputNumber:"Element计数器",ElRadio:"Element单选框",ElRadioButton:"Element单选按钮",ElRadioGroup:"Element单选组",ElRate:"Element评分",ElSelect:"Element选择器",ElSlider:"Element滑块",ElSwitch:"Element开关",ElTimePicker:"Element时间选择器",ElTransfer:"Element穿梭框",ElTree:"Element树",ElUpload:"Element上传",ElSelectV2:"Element大数据选择器",ElTable:"Element表格",VanButton:"Vant按钮",VanField:"Vant输入框",VanRadio:"Vant单选框",VanRadioGroup:"Vant单选组",VanUploader:"Vant文件上传",VanTreeSelect:"Vant树形选择",true:"是",false:"否",undefined:""}}),St=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{CascaderPanel:"级联面板"}}),kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{domId:"统计图序号",height:"高度",width:"宽度",minWidth:"最小宽度",minHeight:"最小高度",options:"选项",Echarts:"统计图"}}),Ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{title:"标题",description:"描述",closable:"显示关闭",closeText:"关闭文本",effect:"风格",showIcon:"显示图标",center:"居中",ElAlert:"Element警告"}}),jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{valueKey:"显示的键名",debounce:"去抖延时",placement:"弹出位置",popperClass:"弹出框样式类名",triggerOnFocus:"focus显示列表",selectWhenUnmatched:"无匹配显示下拉",hideLoading:"隐藏加载图标",popperAppendToBody:"下拉列表插入到body中",highlightFirstItem:"高亮第一项",fetchSuggestions:"获取建议项钩子",ElAutocomplete:"Element带输入建议"}}),Et=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{src:"链接",shape:"形状",size:"大小",ElAvatar:"Element头像"}}),Mt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{loading:"加载中",icon:"图标",nativeType:"原生类型",plain:"朴素",autofocus:"自动聚焦",round:"圆角",circle:"圆形",ElButton:"Element按钮"}}),Pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{header:"卡片头",shadow:"阴影",bodyStyle:"内容样式",ElCard:"Element卡片"}}),Tt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{Form:"表单",labelSuffix:"标签后缀",inline:"行内",inlineMessage:"行内消息",statusIcon:"状态图标",showMessage:"显示消息",validateOnRuleChange:"立即触发验证",hideRequiredAsterisk:"显示*",dynamic:"动态表单",formItems:"表单项数组",model:"数据对象",rules:"规则",labelPosition:"标签位置",labelWidth:"标签宽度"}}),It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{String:"字符串",Number:"数字",Symbol:"Symbol",Boolean:"布尔值",Array:"数组",Object:"对象",Function:"函数",JsonEditor:"Json编辑器"}}),zt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{fit:"适应类型",showHeader:"显示列头",selectOnIndeterminate:"选中所有行",indent:"树节点缩进",pagination:"分页",paginationAlign:"分页对齐方式",stripe:"斑马纹",border:"边框",showSummary:"显示合计行",highlightCurrentRow:"高亮当前行",defaultExpandAll:"默认展开全部",lazy:"树节点懒加载",treeProps:"树节点配置",columns:"列配置",Table:"带翻页的表格"}}),At=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{ToolBar:"工具栏",direction:"方向",barList:"工具项数组"}}),Lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{Transfer:"穿梭框",filterable:"可搜索",filterPlaceholder:"搜索框占位符",titles:"列表标题",buttonTexts:"按钮文案",targetOrder:"右侧排序策略",leftDefaultChecked:"左侧默认勾选",rightDefaultChecked:"右侧默认勾选",format:"格式文案",props:"字段别名",selectedKeys:"选中值"}}),Vt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{action:"接口",multiple:"多选",name:"接口键",drag:"拖拽上传",showFileList:"显示文件列表",accept:"允许文件格式",type:"类型",autoUpload:"自动上传",listType:"列表类型",limit:"限制数量",filesize:"限制文件大小",draggable:"支持拖拽",withCredentials:"带cookie上传",disabled:"禁用",beforeUpload:"上传前钩子",beforeRemove:"删除前钩子",onRemove:"删除钩子",onChange:"状态改变钩子",onPreview:"预览钩子",onSuccess:"成功钩子",onProgress:"处理中钩子",onError:"错误钩子",fileList:"文件列表",httpRequest:"自定义上传钩子",onExceed:"超出钩子",ImageUpload:"图片上传",headers:"头部参数",data:"数据",MobileUpload:"文件上传(手机)"}}),Rt=Object.values({"./docs.ts":wt,"./menu.ts":xt,"./page.ts":Ct,"./components/cascader-panel.ts":St,"./components/chart.ts":kt,"./components/el-alert.ts":Ot,"./components/el-autocomplete.ts":jt,"./components/el-avatar.ts":Et,"./components/el-button.ts":Mt,"./components/el-card.ts":Pt,"./components/form.ts":Tt,"./components/jsoneditor.ts":It,"./components/table.ts":zt,"./components/toolbar.ts":At,"./components/transfer.ts":Lt,"./components/upload.ts":Vt}).reduce(((e,{default:t})=>s(s({},e),t)),{});var $t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"echarts-docs":"Echarts","editor-docs":"Editor","json-editor-docs":"JsonEditor","dialog-docs":"Dialog","steps-docs":"Steps","image-upload-docs":"ImageUpload","table-docs":"Table","tree-docs":"Tree","upload-docs":"Upload","video-docs":"Video","form-docs":"Form","toolbar-docs":"Toolbar","cascaderpanel-docs":"CascaderPanel"}});var Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"dialogs-page":"Dialogs","icons-page":"Icons","nest-menu-page":"NestMenu","login-page":"Login","personal-info":"Person Info","editor-page":"Editor","show-editor-page":"With Preview","charts-page":"Charts","ordinary-charts-page":"Ordinary Charts","video-page":"Video Player","user-page":"User","404-page":"404 NotFound","table-page":"Table","basic-component":"Basic Component","external-link":"External Links","vuepress-blog":"Vuepress Blog","vant-next":"Vant Next","element-plus":"Element Plus","vue3-api":"Vue3 Api","vue-router":"Vue Router4 Api","backen-admin":"Vite Backen Admin","upload-page":"Upload","steps-page":"Steps","component-page":"Components","json-page":"Json Editor","object-page":"Object Editor","array-page":"Array Editor","tree-page":"Tree","transfer-page":"Transfer","docs-page":"Docs","dashboard-page":"Analysis","form-page":"Form","array-table-page":"Column(Array)","slots-table-page":"Column(Slot)","toolbar-page":"ToolBar","functional-component":"Function","socket-page":"Socket",docs:"Document",logout:"Logout"}});var Dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{"vant-icon":"vant icon","iconfont vite-icon":"vite icon","el-icon":"element icon","change-language-success":"change successfully. Now the language is English","zh-cn":"Chinese",admin:"Admin",customer:"Customer",en:"English",id:"ID",label:"Label",username:"username",passwords:"password",verify:"captcha","vite-backen-config":"Theme Config","please.input.something":"please input ","please.select.something":"please select ",login:"Login",register:"Register","login.success":"Login successfully",welcome:"welcome to you",close:"Close","close-right":"Close right","close-other":"Close other","remove component":"Remove Component","qr-code-login":"QrCode Login","username-login":"Ordinary Login",true:"yes",false:"no",undefined:"","top-menu":"Nav Menu","left-menu":"Side Menu",dependencies:"Dependencies",devDependencies:"DevDependencies"}}),Ut=Object.values({"./docs.ts":$t,"./menu.ts":Nt,"./page.ts":Dt}).reduce(((e,{default:t})=>s(s({},e),t)),{});const Ft={[x.name]:s({el:x.el},Ut),[C.name]:s({el:C.el},Rt)},Bt=S({legacy:!1,locale:C.name,fallbackLocale:x.name,messages:Ft,silentTranslationWarn:!1}),{t:Ht}=Bt.global;const qt=g({name:"Menus",componentName:"ManageMenus",__file:"@PC/Menus",components:{SubMenus:yt},setup:()=>(()=>{const e=c(),t=u(),l=d((()=>t.state.permission.routes)),o=e.currentRoute,n=p(o.value.path),a=p([]);return m((()=>o.value.path),(()=>{n.value=o.value.path}),{immediate:!0}),{defaultIndex:n,defaultOpen:a,routes:l}})(),render(){let e;const t=this.$store,{onSelect:l,onClose:o,onOpen:n}=ct.call(this);return v(y("el-menu"),O({defaultActive:this.defaultIndex,"onUpdate:defaultActive":e=>this.defaultIndex=e,defaultOpeneds:this.defaultOpen,"onUpdate:defaultOpeneds":e=>this.defaultOpen=e},{mode:t.state.config.navMode,uniqueOpened:t.state.config.uniqueOpen,collapse:t.state.config.collapse,menuTrigger:"click",onSelect:l,onOpen:n,onClose:o},{ref:"manage-menu"}),"function"==typeof(a=e=this.routes.map(((e,l)=>Array.isArray(e.children)&&e.children.length?v(y("sub-menus"),{key:e.redirect||e.path||l,route:e,t:Ht,direction:t.state.config.navMode,onClose:o},null):!e.hidden&&v(y("el-menu-item"),{key:e.path||l,index:e.path},{default:()=>e.meta&&ut(e.meta.icon)&&v("i",{class:e.meta.icon},null),title:()=>e.meta&&ut(e.meta.title)&&Ht(e.meta.title)}))))||"[object Object]"===Object.prototype.toString.call(a)&&!k(a)?e:{default:()=>[e]});var a}});var Kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qt});const Wt=async e=>{if(!ut(e))return"";{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t)}},Gt=e=>{document.title=ht()?e:`${e} - vite-backen-admin`},Jt=e=>{e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()},Xt=e=>{e.stopPropagation();const t=e.path.find((e=>"button"===e.nodeName.toLowerCase()));t&&t.blur()},Yt=(e,t=!0,l="text/javascript")=>{const o=document.createElement("script");return o.type=l,o.src=e,o.async=t,document.body.append(o),o};class Qt{constructor(e,t){this.isBrowser=!1,this.resizeObserver=null,this.isBrowser="undefined"!=typeof document,this.isBrowser&&this.init(e,t)}init(e,t){this.resizeObserver=new ResizeObserver((e=>{gt(t)&&t(e)})),this.resizeObserver.observe(e)}observe(e){}unObserve(e){this.isBrowser&&(this.resizeObserver.unobserve(),gt(e)&&e())}disconnect(e){this.isBrowser&&(this.resizeObserver.disconnect(),gt(e)&&e())}}const Zt=async(e,t=!1)=>t?j(e.printable,{useCORS:!0,scrollX:0,scrollY:0,width:e.printable.clientWidth,height:e.printable.clientHeight,logging:!1}).then((t=>E(r(s({},e),{printable:t.toDataURL(),type:"image"})))):E(e);class el{constructor(e,t){this.isBrowser=!1,this.scrollObserver=null,this.isBrowser="undefined"!=typeof window,this.isBrowser&&this.init(e,t)}init(e,t){this.scrollObserver=new IntersectionObserver((e=>{gt(t)&&t(e)})),this.scrollObserver.observe(e)}observe(e){}unObserve(e){this.isBrowser&&(this.scrollObserver.unobserve(),gt(e)&&e())}disconnect(e){this.isBrowser&&(this.scrollObserver.disconnect(),gt(e)&&e())}}const tl=(e,t=220,l=60,o=(document.documentElement.clientWidth||document.body.clientWidth)-100,n=(document.documentElement.clientHeight||document.body.clientHeight)-80)=>{const a=e;a.style.cssText+=";cursor:move;";let i=!1;a.onmousedown=e=>{const s=e.offsetX,r=e.offsetY;i=!0,document.onmousemove=e=>{if(!i)return;const c=e.clientX,u=e.clientY;let d=c-s,p=u-r;d=Math.max(t,Math.min(d,o)),p=Math.max(l,Math.min(p,n)),a.style.left=`${d}px`,a.style.top=`${p}px`}},document.onmouseup=a.onmouseup=()=>{i=!1,document.onmousemove=null,document.onmouseup=null}},ll=g({name:"FullScreen",componentName:"ManageFullScreen",__file:"@PC/globalHeader/fullScreen",setup(){const e=p(!1);return()=>v("i",{class:{"header-fullscreen":!0,"el-icon-full-screen":!e.value,"el-icon-copy-document":e.value},title:e.value?"还原":"全屏",onClick:()=>{var t;e.value?Jt(document):(t=document.documentElement).requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullScreen&&t.msRequestFullScreen(),e.value=!e.value}},null)}});var ol=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ll});const nl=g({name:"I18nSwitch",componentName:"ManageI18nSwitch",__file:"@PC/globalHeader/locale",setup(){const e=u(),t=M(),l=d((()=>e.state.lang.language));return m((()=>[l.value,t.path]),(()=>{Gt(Ht(t.meta.title))})),{logo:l,changeLanguage:async()=>{await e.dispatch("setLanguage",{en:"zh-cn","zh-cn":"en"}[l.value])}}},render(){return v("span",{class:"el-icon header-i18n",onClick:this.changeLanguage},[{en:"EN","zh-cn":"中"}[this.logo]])}});var al=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:nl});const il=e=>{try{return"string"==typeof e&&"object"==typeof JSON.parse(e)}catch(t){return!1}};class sl{constructor(){this.isBrowser=!1,this.isBrowser="undefined"!=typeof localStorage}getItem(e){if(this.isBrowser){const t=localStorage.getItem(e);if(il(t)){const{value:l,timeout:o,date:n}=JSON.parse(t);return"number"==typeof o?Date.now()-n<=o?il(l)?JSON.parse(l):l:(localStorage.removeItem(e),null):il(l)?JSON.parse(l):l}}return null}setItem(e,t,l){this.isBrowser&&localStorage.setItem(e,JSON.stringify({value:t,timeout:l,date:Date.now()}))}removeItem(e){this.isBrowser&&localStorage.removeItem(e)}clear(){this.isBrowser&&localStorage.clear()}}const rl={state:{mode:"light",navMode:"horizontal",tagView:!0,collapse:!1,fixHead:!1,fixSide:!1,uniqueOpen:!0,primaryColor:"#409eff"},mutations:{CHANGE_COLLAPSE(e,t){e.collapse=t},CHANGE_FIXHEAD(e,t){e.fixHead=t},CHANGE_FIXSIDE(e,t){e.fixSide=t},CHANGE_TAGVIEW(e,t){e.tagView=t},CHANGE_PRIMARYCOLOR(e,t){e.primaryColor=t},CHANGE_MODE(e,t){e.mode=t},CHANGE_UNIQUEOPEN(e,t){e.uniqueOpen=t},CHANGE_NAVMODE(e,t){e.navMode=t},RESET_CONFIG(e){Object.assign(e,{mode:"light",navMode:"vertical",tagView:!0,collapse:!1,fixHead:!1,fixSide:!1,uniqueOpen:!0,primaryColor:"#409eff"})}},actions:{changeCollapse({commit:e},t){e("CHANGE_COLLAPSE",t)},changeFixHead({commit:e},t){e("CHANGE_FIXHEAD",t)},changeFixSide({commit:e},t){e("CHANGE_FIXSIDE",t)},changeTagView({commit:e},t){e("CHANGE_TAGVIEW",t)},changeMode({commit:e},t){e("CHANGE_MODE",t)},changePrimaryColor({commit:e},t){e("CHANGE_PRIMARYCOLOR",t)},changeUniqueOpen({commit:e},t){e("CHANGE_UNIQUEOPEN",t)},changeNavMode({commit:e},t){e("CHANGE_NAVMODE",t)},resetConfig({commit:e}){e("RESET_CONFIG")}}};var cl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",config:rl});const ul={state:{language:"zh-cn"},mutations:{SET_LANGUAGE(e,t){var l;e.language=t,l=t,[C.name,x.name].includes(l)&&(Bt.global.locale.value=l)}},actions:{setLanguage({commit:e},t){e("SET_LANGUAGE",t)}}};var dl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",lang:ul});const pl=[{path:"/",name:"DashBoard",meta:{title:"dashboard-page",icon:"el-icon-data-analysis",showMobile:!1},component:()=>vt((()=>__import__("./index.591ef30e.js")),["/assets/index.591ef30e.js","/assets/index.ee4810e0.css","/assets/vendor.0ef042a4.js"])}];var ml=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pl});const hl=[{path:"/basic",redirect:"/basic/icons",name:"Basic",meta:{icon:"el-icon-s-home",title:"basic-component"},component:P,children:[{path:"/basic/icons",name:"IconPage",meta:{icon:"el-icon-picture-outline-round",title:"icons-page",keepAlive:!0,permission:["admin","customer"]},component:()=>vt((()=>__import__("./index.3f7c507a.js")),["/assets/index.3f7c507a.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/dialog",name:"DialogPage",meta:{icon:"el-icon-message",title:"dialogs-page",keepAlive:!0,showMobile:!1,permission:["admin","customer"]},component:()=>vt((()=>__import__("./index.f4a7b587.js")),["/assets/index.f4a7b587.js","/assets/index.579b07db.css","/assets/vendor.0ef042a4.js"])},{path:"/basic/charts",name:"ChartsPage",meta:{icon:"el-icon-s-data",title:"charts-page",keepAlive:!0,permission:["admin"]},component:()=>vt((()=>__import__("./index.1c19ee74.js")),["/assets/index.1c19ee74.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/form",name:"FormPage",meta:{icon:"el-icon-s-claim",title:"form-page"},component:()=>vt((()=>__import__("./index.219e4f04.js")),["/assets/index.219e4f04.js","/assets/formDemo.c24296ae.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/editor",name:"EditorPage",meta:{icon:"el-icon-edit",title:"editor-page",permission:["admin"]},component:()=>vt((()=>__import__("./index.395c6e00.js")),["/assets/index.395c6e00.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/table",name:"TablePage",meta:{title:"table-page",icon:"el-icon-notebook-1",permission:["admin","customer"],showMobile:!1},redirect:"/basic/table/array",component:P,children:[{path:"/basic/table/array",name:"ArrayTable",meta:{title:"array-table-page",icon:"el-icon-files",permission:["admin","customer"]},component:()=>vt((()=>__import__("./pc.3ca9acf4.js")),["/assets/pc.3ca9acf4.js","/assets/table.32bd42fa.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/table/slots",name:"SlotsTable",meta:{title:"slots-table-page",icon:"el-icon-notebook-2",permission:["admin","customer"]},component:()=>vt((()=>__import__("./pc-s.30db9dce.js")),["/assets/pc-s.30db9dce.js","/assets/table.32bd42fa.js","/assets/vendor.0ef042a4.js"])}]},{path:"/basic/upload",name:"UploadPage",meta:{title:"upload-page",icon:"el-icon-upload",permission:["admin","customer"]},component:()=>vt((()=>__import__("./index.83f34852.js")),["/assets/index.83f34852.js","/assets/index.9e84fbef.css","/assets/vendor.0ef042a4.js"])},{path:"/basic/steps",name:"StepsPage",meta:{title:"steps-page",icon:"el-icon-s-order",permission:["admin","customer"]},component:()=>vt((()=>__import__("./index.48fd23cf.js")),["/assets/index.48fd23cf.js","/assets/index.deda27a4.css","/assets/vendor.0ef042a4.js","/assets/steps.694f802d.js"])},{path:"/basic/tree",name:"TreePage",meta:{title:"tree-page",icon:"el-icon-collection-tag",showMobile:!1},component:()=>vt((()=>__import__("./index.c537bdd8.js")),["/assets/index.c537bdd8.js","/assets/index.8dc67c24.css","/assets/vendor.0ef042a4.js"])},{path:"/basic/json",name:"ObjectPage",meta:{title:"json-page",icon:"el-icon-notebook-2",permission:["admin"],showMobile:!1},redirect:"/basic/json/object",component:P,children:[{path:"/basic/json/object",name:"JsonPage",meta:{title:"object-page",icon:"el-icon-document",permission:["admin"],showMobile:!1},component:()=>vt((()=>__import__("./index.a820dfdd.js")),["/assets/index.a820dfdd.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/json/array",name:"ArrayPage",meta:{title:"array-page",icon:"el-icon-tickets",permission:["admin"],showMobile:!1},component:()=>vt((()=>__import__("./index.66be01a2.js")),["/assets/index.66be01a2.js","/assets/vendor.0ef042a4.js"])}]},{path:"/basic/transfer",name:"TransferPage",meta:{title:"transfer-page",icon:"el-icon-bangzhu",permission:["admin"],showMobile:!1},component:()=>vt((()=>__import__("./index.1cdf440a.js")),["/assets/index.1cdf440a.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/video",name:"VideoPage",meta:{title:"video-page",icon:"el-icon-video-camera",showMobile:!1},component:()=>vt((()=>__import__("./index.0dd232f7.js")),["/assets/index.0dd232f7.js","/assets/vendor.0ef042a4.js"])},{path:"/basic/toolbar",name:"ToolBarPage",meta:{title:"toolbar-page",icon:"el-icon-s-cooperation",showMobile:!1},component:()=>vt((()=>__import__("./index.3331cf18.js")),["/assets/index.3331cf18.js","/assets/vendor.0ef042a4.js"])}]}];var gl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hl});const fl=[{path:"/docs",name:"DocsPage",meta:{icon:"el-icon-folder-opened",title:"docs-page",showMobile:!1},component:()=>vt((()=>__import__("./index.098afc83.js")),["/assets/index.098afc83.js","/assets/index.deda27a4.css","/assets/vendor.0ef042a4.js","/assets/formDemo.c24296ae.js","/assets/steps.694f802d.js","/assets/table.32bd42fa.js"])}];var bl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fl}),vl=[{path:"/component",name:"Components",meta:{title:"component-page",icon:"el-icon-setting",keepAlive:!0,showMobile:!1},component:()=>vt((()=>__import__("./index.1bbe4f49.js")),["/assets/index.1bbe4f49.js","/assets/vendor.0ef042a4.js"])}],yl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vl});var _l=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:[{path:"/external",name:"External",meta:{icon:"el-icon-link",title:"external-link"},children:[{path:"https://jarrychen.cn",name:"Blog",meta:{icon:"el-icon-collection",title:"vuepress-blog"}},{path:"https://github.com/RyanChent/vite-backen-admin",name:"BackenAdmin",meta:{icon:"el-icon-s-management",title:"backen-admin"}},{path:"https://vue3js.cn/docs/zh/api/",name:"Vue3Api",meta:{icon:"el-icon-paperclip",title:"vue3-api"}},{path:"https://element-plus.gitee.io/#/zh-CN/component/installation",name:"Element-plus",meta:{icon:"el-icon-platform-eleme",title:"element-plus"}},{path:"https://vant-contrib.gitee.io/vant/v3/#/zh-CN",name:"Vant-next",meta:{icon:"el-icon-paperclip",title:"vant-next"}},{path:"https://next.router.vuejs.org/zh/api/",name:"Vue-Router-Next",meta:{icon:"el-icon-paperclip",title:"vue-router"}}]}]});const wl=[{path:"/functional",redirect:"/functional/socket",name:"FunctionAl",meta:{icon:"el-icon-setting",title:"functional-component"},component:P,children:[{path:"/functional/socket",name:"SocketPage",meta:{icon:"el-icon-phone-outline",title:"socket-page",showMobile:!1,permission:["admin","customer"]},component:()=>vt((()=>__import__("./index.54fa56ae.js")),["/assets/index.54fa56ae.js","/assets/vendor.0ef042a4.js"])}]}];var xl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wl});const Cl=[{path:"/login",hidden:!0,name:"login",meta:{title:"login-page",icon:"el-icon-share"},component:()=>vt((()=>__import__("./index.1108d1b8.js")),["/assets/index.1108d1b8.js","/assets/index.30a4b9e2.css","/assets/vendor.0ef042a4.js","/assets/login.1109e8b8.js"])},{path:"/forget",hidden:!0,name:"forget",meta:{title:"forget-page",icon:"el-icon-edit"},component:()=>vt((()=>__import__("./index.f4030442.js")),["/assets/index.f4030442.js","/assets/index.614f110b.css","/assets/vendor.0ef042a4.js","/assets/login.1109e8b8.js"])},{path:"/register",hidden:!0,name:"register",meta:{title:"register-page",icon:"el-icon-edit"},component:()=>vt((()=>__import__("./index.e9f13786.js")),["/assets/index.e9f13786.js","/assets/index.2e3799ff.css","/assets/vendor.0ef042a4.js","/assets/login.1109e8b8.js"])}],Sl=Object.values({"./subRouters/a-dashboard.ts":ml,"./subRouters/basicComponent.ts":gl,"./subRouters/docs.ts":bl,"./subRouters/dragComponent.ts":yl,"./subRouters/externalLink.ts":_l,"./subRouters/functional.ts":xl}).map((({default:e})=>e[0])),kl=T({history:I(),routes:Cl,scrollBehavior:(e,t,l)=>l||{left:0,top:0}}),Ol=(e,t=1)=>{let l="{\n";for(const[o,n]of Object.entries(e))if(pt(n))l+=`${"\t".repeat(t)}${o}: ${isNaN(n)?`'${n}'`:n},\n`;else if(Array.isArray(n))l+=`${"\t".repeat(t)}${o}: ${jl(n,t+1)},\n`;else if(gt(n)){const e=n.toString();if(e.includes("function")){const n=e.slice(e.indexOf(" ")+1,e.indexOf("("));l+=`${"\t".repeat(t)}${o}: ${e.replace(` ${n}`,"")},\n`}else l+=`${"\t".repeat(t)}${o}: ${e},\n`}else l+=`${"\t".repeat(t)}${o}: ${Ol(n,t+1)},\n`;return l=l.replaceAll("this.","")+`${"\t".repeat(t-1)}}`,l},jl=(e,t=1)=>{let l="[";return e.forEach(((o,n)=>{pt(o)?l+=`${isNaN(o)?`'${o}'`:o}${n<e.length-1?", ":""}`:Array.isArray(o)?l+=`\n${"\t".repeat(t)}${jl(o,t+1)},`:gt(o)?l+=`\n${"\t".repeat(t)}${o.toString()},\n`:l+=`\n${"\t".repeat(t)}${Ol(o,t+1)},`})),l=l.replaceAll("this.","")+"]",l},El=(e,t,l,o)=>{switch(o.includes(l)||o.push(l),mt(e[t])){case"Number":case"Symbol":case"String":case"Boolean":return{label:t,key:l,value:e[t],type:mt(e[t])};case"Function":return{label:t,key:l,value:e[t].toString(),type:"Function"};case"Array":return{label:t,desc:`Array(${e[t].length})`,type:"Array",key:l,children:e[t].map(((n,a)=>El(e[t],a,`${l}[${a}]`,o)))};case"Object":return{label:t,desc:`Object(${Object.keys(e[t]).length})`,type:"Object",key:l,children:Object.keys(e[t]).map((n=>El(e[t],n,`${l}.${n}`,o)))}}},Ml=(e,t=new WeakMap)=>{if(e instanceof RegExp)return new RegExp(e);if(e instanceof Date)return new Date(e);if("object"!=typeof e||!e)return e;if(t.has(e))return t.get(e);const l=Array.isArray(e)?[]:{};t.set(e,l);for(const o in e)e.hasOwnProperty(o)&&(l[o]=Ml(e[o],t));return l};let Pl=[];const Tl={Dashboard:()=>vt((()=>__import__("./index.591ef30e.js")),["/assets/index.591ef30e.js","/assets/index.ee4810e0.css","/assets/vendor.0ef042a4.js"]),Icons:()=>vt((()=>__import__("./index.3f7c507a.js")),["/assets/index.3f7c507a.js","/assets/vendor.0ef042a4.js"]),Dialogs:()=>vt((()=>__import__("./index.f4a7b587.js")),["/assets/index.f4a7b587.js","/assets/index.579b07db.css","/assets/vendor.0ef042a4.js"]),Echarts:()=>vt((()=>__import__("./index.1c19ee74.js")),["/assets/index.1c19ee74.js","/assets/vendor.0ef042a4.js"]),Form:()=>vt((()=>__import__("./index.219e4f04.js")),["/assets/index.219e4f04.js","/assets/formDemo.c24296ae.js","/assets/vendor.0ef042a4.js"]),Editor:()=>vt((()=>__import__("./index.395c6e00.js")),["/assets/index.395c6e00.js","/assets/vendor.0ef042a4.js"]),ArrayTable:()=>vt((()=>__import__("./pc.3ca9acf4.js")),["/assets/pc.3ca9acf4.js","/assets/table.32bd42fa.js","/assets/vendor.0ef042a4.js"]),SlotsTable:()=>vt((()=>__import__("./pc-s.30db9dce.js")),["/assets/pc-s.30db9dce.js","/assets/table.32bd42fa.js","/assets/vendor.0ef042a4.js"]),Upload:()=>vt((()=>__import__("./index.83f34852.js")),["/assets/index.83f34852.js","/assets/index.9e84fbef.css","/assets/vendor.0ef042a4.js"]),Steps:()=>vt((()=>__import__("./index.48fd23cf.js")),["/assets/index.48fd23cf.js","/assets/index.deda27a4.css","/assets/vendor.0ef042a4.js","/assets/steps.694f802d.js"]),Tree:()=>vt((()=>__import__("./index.c537bdd8.js")),["/assets/index.c537bdd8.js","/assets/index.8dc67c24.css","/assets/vendor.0ef042a4.js"]),Json:()=>vt((()=>__import__("./index.a820dfdd.js")),["/assets/index.a820dfdd.js","/assets/vendor.0ef042a4.js"]),Array:()=>vt((()=>__import__("./index.66be01a2.js")),["/assets/index.66be01a2.js","/assets/vendor.0ef042a4.js"]),Transfer:()=>vt((()=>__import__("./index.1cdf440a.js")),["/assets/index.1cdf440a.js","/assets/vendor.0ef042a4.js"]),Video:()=>vt((()=>__import__("./index.0dd232f7.js")),["/assets/index.0dd232f7.js","/assets/vendor.0ef042a4.js"]),Docs:()=>vt((()=>__import__("./index.098afc83.js")),["/assets/index.098afc83.js","/assets/index.deda27a4.css","/assets/vendor.0ef042a4.js","/assets/formDemo.c24296ae.js","/assets/steps.694f802d.js","/assets/table.32bd42fa.js"]),Component:()=>vt((()=>__import__("./index.1bbe4f49.js")),["/assets/index.1bbe4f49.js","/assets/vendor.0ef042a4.js"]),Socket:()=>vt((()=>__import__("./index.54fa56ae.js")),["/assets/index.54fa56ae.js","/assets/vendor.0ef042a4.js"])},Il=(e,t,l)=>e.filter((e=>{if(((e,t)=>{var l,o;return!(e.hidden||(null==(l=e.meta)?void 0:l.hasOwnProperty("showMobile"))&&(null==(o=e.meta)?void 0:o.showMobile)!==t)})(e,l)){if(((e,t)=>{var l;return!(null==(l=e.meta)?void 0:l.permission)||t.some((t=>e.meta.permission.includes(t)))})(e,t)){if(Pl.push(e.name),ut(e.component))switch(e.component){case"RouterView":e.component=P;break;default:e.component=Tl[e.component]}if(Array.isArray(e.children)&&e.children.length){if(e.children=Il(e.children,t,l),!e.children[0])return Pl.splice(Pl.indexOf(e.name),1),!1;e.hasOwnProperty("redirect")&&(e.redirect=e.children[0].path)}return!0}return!1}return!1})),zl=async(e,t)=>{return(l={role:e[0],isMobile:t},Xl({url:"/getRouter",params:l,method:"get",type:"backen",notip:!0})).then((l=>Il(l,e,t))).catch((l=>{if(l.isAxiosError&&Array.isArray(Sl)&&Sl.length)return Il(Ml(Sl),e,t)}));var l},Al={state:{routes:Cl,addRoutes:[],loading:!1},mutations:{SET_ROUTES(e,t){e.addRoutes=t,e.routes=[...Cl,...t]},RESET_ROUTES(e){e.routes=Cl,e.addRoutes=[],Pl=[]},SET_LOADING(e,t){e.loading=t}},actions:{generateRoutes:({commit:e},t)=>new Promise((async(l,o)=>{(e=>{for(const t of e)kl.hasRoute(t)&&kl.removeRoute(t)})(Pl),e("RESET_ROUTES");const n=ht();try{let o=[];o=await zl(t,n),n&&(o=[...o,{path:"/me",name:"UserPage",hidden:!0,meta:{title:"user-page"},component:()=>vt((()=>__import__("./index.05470513.js")),["/assets/index.05470513.js","/assets/index.ce911dea.css","/assets/vendor.0ef042a4.js"])}],Pl.push("UserPage")),o=[...o,{path:"/:w+",name:"*",hidden:!0,redirect:"/404"},{path:"/404",hidden:!0,name:"NotFound",meta:{title:"404-page"},component:()=>vt((()=>__import__("./index.a7e730c7.js")),["/assets/index.a7e730c7.js","/assets/index.7851f03d.css","/assets/vendor.0ef042a4.js"])}],Pl=[...Pl,"*","NotFound"],e("SET_ROUTES",o),l(o)}catch(a){o(a)}})),setLoading({commit:e},t){e("SET_LOADING",t)}}};var Ll=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",permission:Al});const Vl={state:{searchValue:""},mutations:{SET_SEARCHVALUE(e,t){e.searchValue=t}},actions:{setSearchValue({commit:e},t){e("SET_SEARCHVALUE",t)}}};var Rl,$l,Nl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",search:Vl});($l=Rl||(Rl={})).TOKEN="token",$l.USER_INFO="userinfo";const Dl=e=>Xl({url:"/forgetpwd",params:e,type:"backen",method:"get"}),Ul=e=>Xl({url:"/resetpwd",data:e,type:"backen",method:"post"}),Fl=e=>Xl({url:"/register",data:e,type:"backen",method:"post"}),Bl=()=>Xl({url:"/getCaptcha",type:"backen",method:"get",notip:!0}),Hl=new sl,ql={state:{token:Hl.getItem(Rl.TOKEN),userInfo:Hl.getItem(Rl.USER_INFO),roles:[]},mutations:{SET_USERINFO(e,t){e.userInfo=t,Hl.setItem(Rl.USER_INFO,t)},SET_TOKEN(e,t){e.token=t,Hl.setItem(Rl.TOKEN,t)},CLEAR_STATE(e){},SET_ROLES(e,t){e.roles=t}},actions:{login:({commit:e},t)=>new Promise(((l,o)=>{const n=86400*(6*Number(t.noLogin)+1);var a;(a=t,Xl({url:"/login",data:a,type:"backen",method:"post",notip:!0})).then((o=>{e("SET_TOKEN",o.token,n);const a=JSON.parse(JSON.stringify(o));delete a.token,e("SET_USERINFO",r(s({},a),{role:"admin",lang:t.lang})),l("登陆成功")})).catch((o=>{e("SET_TOKEN","test",n),e("SET_USERINFO",{username:t.username,email:`${t.username}@qq.com`,avatar:"/assets/avatar.jpg",signature:"我是测试用户",theme:"#409eff",sound:70,bright:100,lang:t.lang,album:"pic",role:"admin",createDate:new Date,updateDate:new Date}),l("登陆成功")}))})),getInfo:({commit:e},t=["admin"])=>(e("SET_ROLES",t),Promise.resolve(t)),logout({commit:e}){Promise.resolve().then((()=>{Hl.clear(),e("CLEAR_STATE"),location.reload()}))},setUserInfo({commit:e},t){e("SET_USERINFO",t)}}};var Kl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",user:ql});const Wl=z({state:{},mutations:{},actions:{},modules:Object.values({"./modules/config.ts":cl,"./modules/lang.ts":dl,"./modules/permission.ts":Ll,"./modules/search.ts":Nl,"./modules/user.ts":Kl}).reduce(((e,t)=>{const[l,o]=Object.entries(t).flat(2);return e[l]=o,e}),{})}),Gl=new sl,Jl=["/login","/forgetpwd","/register","/resetpwd","/getCaptcha"],Xl=A.create({timeout:6e4,baseURL:window._config.github});Xl.interceptors.request.use((e=>{e.baseURL=window._config[e.type||"github"];const t=Gl.getItem("token");if(ut(t)||Jl.includes(e.url))return"backen"===e.type&&(e.headers.token=t),"get"===e.method&&(e.params=Object.assign({},e.params,{t:(new Date).getTime()})),e.url.toLowerCase().includes("download")&&(e.responseType="blob"),e.url.toLowerCase().includes("upload")&&(e.headers["Content-Type"]="multipart/form-data"),e;throw new Error("登陆超时，请重新登录")}),(e=>Promise.reject(e))),Xl.interceptors.response.use((e=>{const{data:t,config:l}=e;return e.headers["content-disposition"]?Promise.resolve(e):t.success||200===t.code?(l.notip||((e,t="fail")=>{var l,o;const n=ht();"fail"===t?!n&&L({type:"error",title:"出错了",message:e.message||"出错了"}):n?null==(o=(l=V)[t])||o.call(l,e.message||"操作成功"):L({type:t,title:"操作成功",message:e.message})})(t.message||t.result,"success"),Promise.resolve(t.result||t)):(401===t.code&&Wl.dispatch("logout"),[500,403,404,502,503].includes(t.code)?Promise.reject(t):t?Promise.resolve(t):void 0)}),(e=>{const{config:t}=e;return t&&t.retry?(t.$retryCount=t.$retryCount||0,t.$retryCount>=t.retry?Promise.reject(e):(t.$retryCount+=1,new Promise((e=>setTimeout(e,t.retryDelay||1))).then((()=>Xl(t))))):Promise.reject(e)}));const Yl="/users/RyanChent/repos",Ql="/repos/RyanChent",Zl=({repo:e="vite-backen-admin",page:t=1,per_page:l=20})=>Xl({url:`${Ql}/${e}/commits`,method:"get",params:{per_page:l,page:t}});let eo=null;const to=(e,t)=>{const l=u(),o=N("updateRoutes"),n=N("isMobile");return{user:d({get:()=>l.state.user.userInfo,async set(e){const{role:t,lang:a}=l.state.user.userInfo;await l.dispatch("setUserInfo",e),e.role!==t&&await l.dispatch("getInfo",[e.role]).then(o),e.lang!==a&&(await l.dispatch("setLanguage",e.lang),n.value&&(Gt(Ht("user-page")),V(Ht("change-language-success"))))}}),visible:d({get:()=>e.modelValue,set(e){t("update:modelValue",e)}})}},lo=()=>{const e=D([]),t=p(!1);return{repoData:e,repoLoading:t,getAllRepoData:()=>{t.value=!0,Xl({url:Yl,method:"get"}).then((t=>{Array.isArray(t)&&t.length&&(e.value=t)})).finally((()=>{t.value=!1}))}}},oo=()=>{const e=p("repo"),t=(()=>{const e=p(!1),t=D([]),l=p(!1);let o=0;return U((()=>{(null==eo?void 0:eo.disconnect)&&(eo.disconnect(),eo=null)})),{timelineLoading:e,getCommitsData:()=>{e.value=!0,o+=1,Zl({page:o}).then((e=>{l.value=0===e.length,e.length>0&&(t.value=[...t.value,...e.map((e=>e.commit))])})).catch((()=>{o-=1})).finally((()=>{e.value=!1}))},commitsData:t,finished:l}})(),l=lo();return m((()=>e.value),(async()=>{switch(await h(),e.value){case"timeline":if(!eo){const e=document.getElementById("last-one");e&&(eo=new el(e,(([e])=>{e.isIntersecting&&(t.finished.value||t.getCommitsData())})))}break;case"repo":l.repoData.value.length||l.getAllRepoData()}}),{immediate:!0}),s(s({active:e},t),l)},no=(e,t)=>Object.assign({},to(e,t),ao()),ao=()=>{const e=p(!1);return{ShareSelect:t=>{switch(t.key){case"weibo":V.fail("暂不可用");break;case"link":Wt(location.href).then((()=>V.success("复制成功")));break;case"poster":case"qrcode":case"wechat":case"wechat-moments":V.fail("暂不可用");break;case"qq":window.open(`http://connect.qq.com/widget/shareqq/index.html?url=${location.href}?sharesource=qzone&title=${document.title}&pics=${location.origin}/favicon.ico&summary=vite-backen-cli`);break;case"qzone":window.open(`https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${location.href}?sharesource=qzone&title=${document.title}&pics=${location.origin}/favicon.ico&summary=vite-backen-cli`)}e.value=!1},options:[[{name:"微信",icon:"wechat",key:"wechat"},{name:"朋友圈",icon:"wechat-moments",key:"wechat-moments"},{name:"微博",icon:"weibo",key:"weibo"},{name:"QQ",icon:"qq",key:"qq"},{name:"QQ空间",key:"qzone",icon:"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1577376065,62724058&fm=26&gp=0.jpg"}],[{name:"复制链接",icon:"link",key:"link"},{name:"分享海报",icon:"poster",key:"poster"},{name:"二维码",icon:"qrcode",key:"qrcode"}]],showShare:e}};function io(e,t="{y}-{m}-{d} {h}:{i}:{s}"){if(0===arguments.length)return"";let l;"object"==typeof e?l=e:("string"==typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"==typeof e&&10===e.toString().length&&(e*=1e3),l=new Date(e));const o={y:l.getFullYear(),m:l.getMonth()+1,d:l.getDate(),h:l.getHours(),i:l.getMinutes(),s:l.getSeconds(),a:l.getDay()},n=t.replace(/{(y|m|d|h|i|s|a)+}/g,((e,t)=>{let l=o[t];return"a"===t?["日","一","二","三","四","五","六"][l]:(e.length>0&&l<10&&(l="0"+l),l||0)}));return n}const so=(e,t,l="")=>{const o=document.createElement("a"),n=t.includes(l)?t:t+l;"download"in o?(o.href=URL.createObjectURL(e),o.download=n,o.style.display="none",document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)):window&&window.navigator&&window.navigator.msSaveBlob(e,n)},ro=e=>e.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join(""),co=(e=35)=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})).slice(0,e+1),uo=(e,t)=>{let l=!1;"#"==e[0]&&(e=e.slice(1),l=!0);const o=parseInt(e,16),n=Math.max(0,Math.min((o>>16)+t,255)),a=Math.max(0,Math.min((o>>8&255)+t,255));return(l?"#":"")+(Math.max(0,Math.min((255&o)+t,255))|a<<8|n<<16).toString(16)},po=(e,t=.2)=>(e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)?"rgba("+mo(e).join(",")+","+t+")":e,mo=e=>{if(4===e.length){let t="#";for(let l=1;l<4;l+=1)t+=e.slice(l,l+1).concat(e.slice(l,l+1));e=t}const t=[];for(let l=1;l<7;l+=2)t.push(parseInt("0x"+e.slice(l,l+2)));return t},ho=(e,t,l)=>{let o,n;const a=function(){if(o&&clearTimeout(o),l){const l=!o;o=setTimeout((()=>o=null),t),l&&(n=e.apply(this,arguments))}else o=setTimeout((()=>n=e.apply(this,arguments)),t);return n};return a.cancel=function(){clearTimeout(o),o=null},a},go=(e,t,l={})=>{let o,n,a,i=0;const s=function(){i=Number(l.leading)||(new Date).getTime(),o=null,e.apply(n,a),o||(n=a=null)},r=function(){const r=(new Date).getTime();i||!1!==l.leading||(i=r);const c=t-(r-i);n=this,a=arguments,c<=0||c>t?(o&&(clearTimeout(o),o=null),i=r,e.apply(n,a),o||(n=a=null)):o||!1===l.trailing||(o=setTimeout(s,c))};return r.cancel=function(){clearTimeout(o),i=0,o=null},r},fo=g({name:"RightPreview",componentName:"ManageRightPreview",props:{parseTime:{type:Function,default:()=>{}}},setup:()=>oo(),render(){return v(y("el-tabs"),{modelValue:this.active,"onUpdate:modelValue":e=>this.active=e,type:"border-card"},{default:()=>[b(v(y("el-tab-pane"),{label:"时间线",name:"timeline",class:"timeline-panel","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","element-loading-customClass":"loading-panel"},{default:()=>[v(y("el-timeline"),null,{default:()=>[this.commitsData.map((({committer:e,message:t})=>v(y("el-timeline-item"),null,{default:()=>[v("p",{style:{fontWeight:"bold",fontSize:".9rem",lineHeight:"26px"}},[t]),v("p",{style:{lineHeight:"26px"}},[e.name,v("span",{style:"padding: 0 7px;"},[F("提交于")]),this.parseTime(e.date)])]}))),b(v("div",{id:"last-one","element-loading-text":"加载中，请稍后","element-loading-spinner":"el-icon-loading",style:{height:this.finished?"auto":"40px",marginTop:this.finished?"20px":"0"}},[this.finished?v("span",null,[F("———— 没有更多了 ————")]):0===this.commitsData.length&&v(y("el-empty"),{description:"接口调用过于频繁，请稍候再试"},null)]),[[_("loading"),this.timelineLoading]])]})]}),[[_("loading"),this.timelineLoading]]),b(v(y("el-tab-pane"),{label:"repository",name:"repo",class:"repository-panel","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},{default:()=>[v("header",null,[v(y("el-input"),null,null)]),0===this.repoData.length?v(y("el-empty"),{description:"接口调用过于频繁，请稍候再试"},null):v("main",{class:"repo-panel"},[this.repoData.map((e=>v("div",null,[v("div",{class:"ribbon"},[v("a",{href:e.clone_url,target:"_blank",rel:"external nofollow"},[F("fork me on github")])]),v("p",{class:"name"},[v("span",null,[e.name]),v(y("el-button"),{type:"primary",size:"mini",plain:!0,onClick:async t=>{t.stopPropagation(),await Wt(`git clone ${e.clone_url}`),this.$message.success("复制成功，请粘贴到terminal中执行")}},{default:()=>[F("Clone")]})]),v("p",{class:"desc"},[e.description]),v("p",{class:"footer"},[e.language&&v(y("el-tag"),{type:"success"},{default:()=>[e.language]}),v("span",null,[v("i",{class:"el-icon-star-off",style:"padding-right: 5px"},null),e.stargazers_count]),e.license&&v("span",null,[e.license])]),v("p",{style:"color: #909299; font-size: .7rem"},[F("Updated at   "),this.parseTime(e.updated_at)])])))])]}),[[_("loading"),this.repoLoading]])]})}});var bo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fo});const vo=g({name:"InfoPreview",componentName:"ManageInfoPreview",components:{RightPreview:fo},props:{user:{type:Object,default:()=>({})}},setup:()=>({panel:N("panel")}),render(){return v("section",{class:"preview-panel",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[v(y("el-card"),{header:"About Me",class:"info-card"},{default:()=>[v("div",{class:"top-info"},[v(y("el-avatar"),{src:this.user.avatar},null),v("p",null,[v("span",null,[this.user.username]),F("("),this.user.email,F(")")]),v("p",null,[this.user.signature])]),v(y("el-divider"),{"content-position":"center"},{default:()=>[F("配置信息")]}),v("ul",null,[v("li",null,[v("i",{class:"el-icon-user"},null),F("角色："),{admin:"管理员",custom:"普通用户"}[this.user.role]]),v("li",null,[v("i",{class:"iconfont vite-icon-i18n"},null),F("语言："),{"zh-cn":"中",en:"英"}[this.user.lang]]),v("li",null,[v("i",{class:"el-icon-magic-stick"},null),F("主题："),v("div",{style:{backgroundColor:this.user.theme,width:"26px",height:"26px",borderRadius:"50%",display:"inline-block"}},null)])]),v(y("el-divider"),{"content-position":"center"},{default:()=>[F("其他信息")]}),v("ul",null,[v("li",null,[v("i",{class:"el-icon-date"},null),F("创建时间："),io(this.user.createDate)]),v("li",null,[v("i",{class:"el-icon-date"},null),F("修改时间："),io(this.user.updateDate)])]),v("p",null,[v(y("el-image"),{src:"https://github-readme-stats.vercel.app/api?username=RyanChent&show_icons=true&theme=ts",fit:"cover","preview-src-list":["https://github-readme-stats.vercel.app/api?username=RyanChent&show_icons=true&theme=ts"]},null)]),v("p",null,[v(y("el-button"),{type:"primary",size:"small",plain:!0,onClick:()=>this.panel="edit"},{default:()=>[F("编辑")]})])]}),v(y("el-card"),{class:"other-info-card"},{default:()=>[v(fo,{parseTime:io},null)]})])}});var yo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vo});const _o=g({name:"ColorPicker",componentName:"ManageColorPicker",props:{color:{type:String,default:""}},setup(e,{emit:t}){const{color:l}=((e,t)=>{const l=u();return{color:d({get(){let t="";return t=ut(e.color)&&e.color.startsWith("#")?e.color:l.state.config.primaryColor,document.body.style.setProperty("--primary-color",t),document.body.style.setProperty("--primary-bg-color",po(uo(t,35))),t},set(o){ut(o)&&(ut(e.color)&&t("update:color",o),l.dispatch("changePrimaryColor",o),document.body.style.setProperty("--primary-color",o),document.body.style.setProperty("--primary-bg-color",po(uo(o,35))))}})}})(e,t);return{color:l}},render(){return v(y("el-color-picker"),{modelValue:this.color,"onUpdate:modelValue":e=>this.color=e,size:"mini"},null)}});var wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_o});const xo=g({name:"InfoEdit",componentName:"ManageInfoEdit",components:{ColorPicker:_o},props:{user:{type:Object,default:()=>({})}},setup:(e,{emit:t})=>((e,t)=>{const l=p(Ml(B(e.user))),o=N("panel"),n=()=>o.value="preview",a=p("basic");return{copyUser:l,backPreview:n,editPanel:a,handleAvatar:e=>{const t=new FileReader;t.onload=e=>l.value.avatar=e.target.result,t.readAsDataURL(e)},confirmInfo:()=>{l.value.updateDate=io(new Date),t("update:user",l.value),n()}}})(e,t),render(){const e=y("Upload");return v("section",{class:"edit-panel"},[v(y("el-tabs"),{"tab-position":"left",modelValue:this.editPanel,"onUpdate:modelValue":e=>this.editPanel=e,stretch:!0},{default:()=>[v(y("el-tab-pane"),{label:"基本信息",name:"basic"},{default:()=>[v("p",{class:"edit-row image"},[v(y("el-avatar"),{src:this.copyUser.avatar},null),v(e,{action:"",accept:".png, .jpeg, .jpg, .gif",showFileList:!1,beforeUpload:this.handleAvatar},{default:()=>v(y("el-button"),{type:"primary",plain:!0,style:"margin-top: 20px",size:"small",icon:"el-icon-edit"},{default:()=>[F("更换头像")]}),tip:()=>null})]),v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"el-icon-message"},null),F("邮箱：")]),v(y("el-input"),{modelValue:this.copyUser.email,"onUpdate:modelValue":e=>this.copyUser.email=e,clearable:!0,size:"small"},null)]),v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"el-icon-user"},null),F("用户名：")]),v(y("el-input"),{modelValue:this.copyUser.username,"onUpdate:modelValue":e=>this.copyUser.username=e,clearable:!0,size:"small"},null)]),v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"el-icon-edit"},null),F("个性签名：")]),v(y("el-input"),{modelValue:this.copyUser.signature,"onUpdate:modelValue":e=>this.copyUser.signature=e,clearable:!0,size:"small"},null)])]}),v(y("el-tab-pane"),{label:"配置信息",name:"config"},{default:()=>[v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"el-icon-s-custom"},null),F("角色：")]),v(y("el-select"),{size:"mini",modelValue:this.copyUser.role,"onUpdate:modelValue":e=>this.copyUser.role=e},{default:()=>[v(y("el-option"),{label:"管理员",value:"admin"},null),v(y("el-option"),{label:"普通用户",value:"customer"},null)]})]),v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"iconfont vite-icon-i18n"},null),F("语言：")]),v(y("el-select"),{size:"mini",modelValue:this.copyUser.lang,"onUpdate:modelValue":e=>this.copyUser.lang=e},{default:()=>[v(y("el-option"),{label:"中文",value:"zh-cn"},null),v(y("el-option"),{label:"English",value:"en"},null)]})]),v("p",{class:"edit-row"},[v("span",null,[v("i",{class:"el-icon-magic-stick"},null),F("主题：")]),v(_o,{color:this.copyUser.theme,"onUpdate:color":e=>this.copyUser.theme=e},null)])]}),v(y("el-tab-pane"),{label:"修改密码",name:"pwd"},{default:()=>[v("p",{class:"edit-row"},[v("span",null,[F("新密码：")]),v(y("el-input"),{modelValue:this.copyUser.newpwd,"onUpdate:modelValue":e=>this.copyUser.newpwd=e,clearable:!0,size:"small"},null)]),v("p",{class:"edit-row"},[v("span",null,[F(" 确认密码：")]),v(y("el-input"),{modelValue:this.copyUser.confirm,"onUpdate:modelValue":e=>this.copyUser.confirm=e,clearable:!0,size:"small"},null)]),v("p",{class:"edit-row"},[v("span",null,[F("验证码：")]),v("div",{style:"flex: 1;"},[v(y("el-input"),{modelValue:this.copyUser.verify,"onUpdate:modelValue":e=>this.copyUser.verify=e,clearbale:!0,size:"small"},null)])])]})]}),v("footer",null,[v(y("el-button"),{type:"info",plain:!0,onClick:this.backPreview,size:"small"},{default:()=>[F("返回")]}),v(y("el-button"),{type:"primary",plain:!0,onClick:this.confirmInfo,size:"small"},{default:()=>[F("确定")]})])])}});var Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xo});const So=g({name:"PersonInfo",componentName:"ManagePersonDialog",__file:"@PC/globalHeader/personInfo",components:{InfoPreview:vo,InfoEdit:xo},props:{modelValue:{type:Boolean,default:!1}},setup:(e,{emit:t})=>((e,t)=>{const l=p(""),o=p("preview"),n=to(e,t);return R((async()=>{await h(),l.value="maximize"})),m((()=>n.visible.value),(()=>{n.visible.value||(o.value="preview")})),m((()=>o.value),(async()=>{await h(),"preview"===o.value?l.value="maximize":l.value=""})),$("panel",o),s({modalClass:l,panel:o},n)})(e,t),render(){const e=y("Dialogs");return v(e,{modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e,title:"个人信息",customClass:"manage-person-info",width:750,modalClass:this.modalClass,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0,dragging:!0},{default:()=>[v(H,{enterActiveClass:"animated fadeIn"},{default:()=>[b(v(vo,{user:this.user,key:"preview"},null),[[q,"preview"===this.panel]]),"edit"===this.panel&&v(xo,{user:this.user,"onUpdate:user":e=>this.user=e,key:"edit"},null)]})]})}});var ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:So});function Oo(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const jo=g({name:"RightNav",componentName:"ManageRightNav",__file:"@PC/globalHeader/rightNav",components:{PersonDialog:So},setup(){const e=p(!1),t=u(),l=c();return{handleCommand:t=>{switch(t){case"info":e.value=!0;break;case"docs":l.replace("/docs");break;case"logout":l.replace("/login")}},userInfo:d((()=>t.state.user.userInfo)),personVisible:e}},render(){const e=this.$slots;return v(w,null,[v(y("el-dropdown"),{size:"default",onCommand:this.handleCommand},{dropdown:()=>{let t,l,o;return gt(e.dropdown)?e.dropdown():v(y("el-dropdown-menu"),null,{default:()=>[v(y("el-dropdown-item"),{command:"info",icon:"el-icon-user"},Oo(t=Ht("personal-info"))?t:{default:()=>[t]}),v(y("el-dropdown-item"),{command:"docs",icon:"el-icon-document"},Oo(l=Ht("docs"))?l:{default:()=>[l]}),v(y("el-dropdown-item"),{divided:!0,command:"logout",icon:"el-icon-switch-button"},Oo(o=Ht("logout"))?o:{default:()=>[o]})]})},default:()=>v("div",{class:"person-info","aria-labelledby":"user-personal-info",role:"user"},[v(y("el-avatar"),{src:ut(this.userInfo.avatar)?this.userInfo.avatar:"/assets/avatar.jpg",alt:"user-avatar",style:"width: 40px; height: 40px;"},null),v("span",null,[ut(this.userInfo.username)?this.userInfo.username:"Jarry Chen"])])}),v(y("person-dialog"),{modelValue:this.personVisible,"onUpdate:modelValue":e=>this.personVisible=e},null)])}});var Eo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jo});const Mo=(e,t)=>e.map((e=>{var t;if(!e.hidden&&(null==(t=e.meta)?void 0:t.title)){const t={title:e.meta.title,path:e.redirect||e.path};return Array.isArray(e.children)&&e.children.length?Mo(e.children):t}})).filter(Boolean).flat(1),Po=g({name:"HeadSearch",componentName:"ManageHeadSearch",__file:"@PC/Search",setup(){const e=u(),t=N("isMobile"),l=d({get:()=>e.state.search.searchValue,set(t){e.dispatch("setSearchValue",t)}}),o=d((()=>e.state.permission.routes)),n=Mo(o.value,t.value);return{routes:o,searchValue:l,fetchSuggestions:(e,t)=>{ut(e)?t(n.filter((t=>Ht(t.title).includes(e)||e.includes(Ht(t.title))))):t(n)},showSearch:p(!1),isMobile:N("isMobile")}},render(){const e=this.$slots;return v(w,null,[v(y("van-icon"),{name:"search",onClick:e=>{e.stopPropagation(),this.showSearch=!this.showSearch,this.showSearch||(this.searchValue="")},title:"搜索",style:{margin:"0 3px","vertical-align":"center",cursor:"pointer"}},null),v(y("el-autocomplete"),{modelValue:this.searchValue,"onUpdate:modelValue":e=>this.searchValue=e,placeholder:"请输入",size:"small","value-key":"title",clearable:!0,class:{show:this.showSearch,"manage-head-search":!0,pc:!this.isMobile&&this.showSearch},debounce:500,ref:e=>{this.showSearch&&(null==e?void 0:e.focus)&&e.focus()},"fetch-suggestions":this.fetchSuggestions,onSelect:e=>{e.path.startsWith("http")||e.path.startsWith("//")?location.href=e.path:this.$router.replace(e.path)}},{suffix:()=>v("i",{class:"el-icon-edit el-input__icon"},null),default:({item:t})=>gt(e.dropdown)?e.dropdown(t):v(w,null,[v("span",{title:Ht(t.title),class:{primary:["http","//"].some((e=>t.path.startsWith(e)))}},[Ht(t.title)]),["http","//"].some((e=>t.path.startsWith(e)))&&v("i",{class:"el-icon-link primary"},null)])})])}});var To=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Po});const Io=g({name:"Configuration",componentName:"ManageConfiguration",components:{colorPicker:_o},setup(e){const t=u();return M(),((e,t,l)=>{const o=p(!1),n=d({set(e){t.dispatch("changeMode",e),document.body.setAttribute("mode",e)},get:()=>t.state.config.mode}),a=d({set(e){t.dispatch("changeNavMode",e),"horizontal"===e&&(c.value=!1)},get:()=>t.state.config.navMode}),i=d({set(e){t.dispatch("changeFixHead",e)},get:()=>t.state.config.fixHead}),s=d({set(e){t.dispatch("changeFixSide",e)},get:()=>t.state.config.fixSide}),r=d({set(e){t.dispatch("changeTagView",e)},get:()=>t.state.config.tagView}),c=d({set(e){t.dispatch("changeCollapse",e)},get:()=>t.state.config.collapse}),u=d({set(e){t.dispatch("changeUniqueOpen",e)},get:()=>t.state.config.uniqueOpen});return{drawer:o,mode:n,navMode:a,tagView:r,collapse:c,fixHead:i,fixSide:s,uniqueOpen:u,copyConfig:async e=>{const l=Ol(t.state.config);await Wt(l),gt(e)&&e(`复制成功：${l}`)},resetConfig:e=>{t.dispatch("resetConfig").then((()=>{n.value="light",gt(e)&&e("重置成功")}))}}})(0,t)},render(){return v(w,null,[v("i",{class:"el-icon-share config-theme",title:Ht("vite-backen-config"),onClick:()=>this.drawer=!0},null),v(y("el-drawer"),{title:Ht("vite-backen-config"),modelValue:this.drawer,"onUpdate:modelValue":e=>this.drawer=e,direction:"rtl","append-to-body":!0,"custom-class":"theme-config-drawer","destroy-on-close":!0,size:"20%"},{default:()=>[v("ul",{class:"theme-config-panel",onContextmenu:e=>{e.preventDefault(),e.stopPropagation()}},[v("li",null,[v("span",{class:"desc"},[F("模式：")]),v(y("el-switch"),{class:"mode-switch","active-value":"light","active-color":"#FFD700","active-icon-class":"iconfont vite-icon-sun","inactive-value":"dark","inactive-color":"#8DEEEE","inactive-icon-class":"iconfont vite-icon-moon",modelValue:this.mode,"onUpdate:modelValue":e=>this.mode=e},null)]),v("li",null,[v("span",{class:"desc"},[F("主题色：")]),v(_o,null,null)]),v("li",null,[v("span",{class:"desc"},[F("导航栏模式：")]),v("section",{class:"nav-mode"},[v(y("el-tooltip"),{effect:"dark",placement:"top",content:Ht("left-menu")},{default:()=>[v("div",{class:{vertical:!0,selected:"vertical"===this.navMode},onClick:()=>this.navMode="vertical"},null)]}),v(y("el-tooltip"),{effect:"dark",placement:"top",content:Ht("top-menu")},{default:()=>[v("div",{class:{horizontal:!0,selected:"horizontal"===this.navMode},onClick:()=>this.navMode="horizontal"},null)]})])]),v("li",null,[v("span",{class:"desc"},[F("标签视图：")]),v(y("el-switch"),{modelValue:this.tagView,"onUpdate:modelValue":e=>this.tagView=e,"active-color":"var(--primary-color)"},null)]),v("li",null,[v("span",{class:"desc"},[F("折叠菜单：")]),v(y("el-switch"),{modelValue:this.collapse,"onUpdate:modelValue":e=>this.collapse=e,"active-color":"var(--primary-color)"},null)]),v("li",null,[v("span",{class:"desc"},[F("手风琴模式：")]),v(y("el-switch"),{modelValue:this.uniqueOpen,"onUpdate:modelValue":e=>this.uniqueOpen=e,"active-color":"var(--primary-color)"},null)]),v("li",null,[v("span",{class:"desc"},[F("固定顶部：")]),v(y("el-switch"),{modelValue:this.fixHead,"onUpdate:modelValue":e=>this.fixHead=e,"active-color":"var(--primary-color)"},null)]),v("li",null,[v("span",{class:"desc"},[F("固定侧栏：")]),v(y("el-switch"),{modelValue:this.fixSide,"onUpdate:modelValue":e=>this.fixSide=e,"active-color":"var(--primary-color)"},null)])]),v("footer",{class:"theme-config-footer",onContextmenu:e=>{e.preventDefault(),e.stopPropagation()}},[v(y("el-button"),{type:"primary",icon:"el-icon-document-copy",onClick:()=>this.copyConfig(this.$message.success)},{default:()=>[F("复制")]}),v(y("el-button"),{type:"warning",icon:"el-icon-refresh",onClick:()=>this.resetConfig(this.$message.warning)},{default:()=>[F("重置")]})])]})])}});var zo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Io});const Ao={notify:"通知",message:"消息",wait:"待办"},Lo=function(e,t){const{messagePropsCopy:l}=this,o=e=>["./","..","@","http","/","//"].some((t=>null==e?void 0:e.startsWith(t)))?v(y("el-avatar"),{src:e,alt:e},null):(null==e?void 0:e.startsWith("van-"))?v(y("van-icon"),{name:null==e?void 0:e.slice("van-".length)},null):v("i",{class:e},null);return v("li",{key:`${e}${t[l.id]||""}`,class:{column:"wait"===e}},[{notify:v(w,null,[v("div",{class:"info-img"},[o(t[l.icon])]),v("div",{class:"info-text"},[v("p",null,[t[l.content]]),v("p",null,[t[l.date]])])]),message:v(w,null,[v("div",{class:"info-img"},[o(t[l.icon]),F(" ")]),v("div",{class:"info-text"},[ut(t[l.name])&&v("p",null,[t[l.name],F(" 回复了 你")]),v("p",null,[t[l.content]]),v("p",null,[t[l.date]])])]),wait:v(w,null,[v("p",null,[t[l.content]]),v("p",null,[v(y("el-tag"),{type:t[l.status],size:"small"},{default:()=>[t[l.statusText]]})]),ut(t[l.tip])&&v("p",null,[t[l.tip]])])}[e]])},Vo=g({name:"MessageList",componentName:"ManageMessageList",props:{message:{type:Object,default:()=>({notify:[],message:[],wait:[]})},messageProps:{type:Object,default:()=>({})}},setup:e=>({messageTag:p("notify"),messagePropsCopy:d((()=>Object.assign({id:"id",icon:"icon",name:"name",content:"content",date:"date",status:"status",statusText:"statusText",tip:"tip"},e.messageProps)))}),render(){const e=this.$slots;return v(y("el-popover"),{placement:"bottom",width:300},{default:()=>{let t;return v(y("el-tabs"),{stretch:!0,modelValue:this.messageTag,"onUpdate:modelValue":e=>this.messageTag=e},"function"==typeof(l=t=Object.entries(this.message).map((([t,l])=>v(y("el-tab-pane"),{name:t,key:t,label:Ao[t]},{default:()=>[Array.isArray(l)&&l.length>0?v("ul",{class:"manage-message-list"},[l.map((e=>Lo.call(this,t,e)))]):gt(e[t])?e[t](l):v(y("el-empty"),{description:"暂无数据"},null)]}))))||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?t:{default:()=>[t]});var l},reference:()=>v(y("el-badge"),{"is-dot":!0,type:"danger"},{default:()=>[v("i",{class:{"header-message":!0,"el-icon-bell":!0}},null)]})})}});var Ro=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vo}),$o={notify:[{id:1,icon:"van-comment-circle",content:"vite-backen-admin 上线啦",date:"2021-07-08"}],message:[{id:1,icon:"/assets/avatar.jpg",name:"testkoa",content:"这是一条测试消息",date:"2021-07-08"}],wait:[{id:1,content:"websocket功能调试",status:"info",statusText:"未开始",tip:""},{id:2,content:"lowcode界面完善",status:"",statusText:"进行中",tip:""}]};const No=["/login","/forget","/register"],Do=()=>{const e=p(null),t=t=>{t.stopPropagation();const l=(t.wheelDelta?t.wheelDelta:40*-t.detail)>0?-50:50;e.value.$el.scrollLeft+=l};return U((()=>{var l;(null==(l=e.value)?void 0:l.$el)&&e.value.$el.removeEventListener("wheel",t)})),{headMenu:e,wheelScroll:t}};const Uo=g({name:"Header",componentName:"ManageHeader",__file:"@PC/globalHeader",components:{FullScreen:ll,i18nSwitch:nl,rightNav:jo,topSearch:Po,colorPicker:_o,configuration:Io,messageList:Vo,Menus:qt},props:{logo:{type:[Node,String],default:"/assets/logo.png"},siteName:{type:[Node,String],default:"vite-backen-admin"}},setup(){const{headMenu:e}=(()=>{const e=u(),{headMenu:t,wheelScroll:l}=Do();return m((()=>e.state.config.navMode),(async()=>{"horizontal"===e.state.config.navMode&&(await h(),t.value.$el.addEventListener("wheel",l))}),{immediate:!0}),{headMenu:t}})();return{headMenu:e}},render(){const e=this.$slots,{logo:t,siteName:l,$store:o}=this;return v("section",{class:"global-header"},[gt(e.logo)?e.logo():v("div",{class:"global-header-logo",onClick:()=>{this.$router.replace("/")},title:"首页"},[t instanceof Node?v(t,null,null):ut(t)&&v("img",{src:t,alt:"vite-backen-admin"},null),l instanceof Node?v(l,null,null):v("span",null,[l])]),v(K,{enterActiveClass:"animated fadeIn",leaveActiveClass:"animated fadeOut"},{default:()=>[gt(e.headmenu)?e.headmenu(o.state.permission.routes):"horizontal"===o.state.config.navMode&&v(qt,{ref:e=>e&&(this.headMenu=e)},null)]}),gt(e.headright)?e.headright():v("div",{class:"global-header-right-info"},[v(y("top-search"),null,null),v(y("message-list"),{message:$o},null),v(y("color-picker"),null,null),v(y("full-screen"),null,null),v(y("i18n-switch"),null,null),v(y("right-nav"),null,null),v(Io,null,null)])])}});var Fo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uo});const Bo=g({name:"Footer",componentName:"ManageFooter",__file:"@PC/globalFooter",setup:()=>()=>v("div",{class:"global-footer"},[v("p",null,[F("CopyRight © "),(new Date).getFullYear(),F(" JarryChen. All Right Reserved")]),v("p",{class:"beian-info"},[v("img",{style:"width: 20px; height: 20px",src:"https://jarrychen.cn/beian.png",alt:"备案"},null),v("a",{href:"http://www.beian.miit.gov.cn",target:"_blank",rel:"external noopener noreferrer"},[F(" 粤ICP备18009401号")])])])});var Ho=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bo});const qo=g({name:"ContextMenu",componentName:"ManageContextMenu",__file:"@PC/ContextMenus",emits:["update:visible"],props:{visible:{type:Boolean,default:!1},menus:{type:Array,default:()=>[]},left:[String,Number],top:[String,Number]},setup:(e,{emit:t})=>({rightVisible:d({get:()=>e.visible,set(e){t("update:visible",e)}})}),render(){return b(v("section",{class:"manage-right-menu",id:"right-menu",style:{left:"number"==typeof this.left?`${this.left}px`:this.left,top:"number"==typeof this.top?`${this.top}px`:this.top,display:this.visible?void 0:"none"},onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[v("ul",null,[this.menus.map(((e,t)=>v("li",{onClick:()=>{gt(e.click)&&e.click(),this.rightVisible=!1},key:t},[Ht(e.title)])))])]),[[_("click-outside"),()=>this.rightVisible=!1]])}});var Ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qo});const Wo=g({name:"Collapse",componentName:"ManagePCCollapse",setup(){const e=u(),t=M(),l=d({get:()=>e.state.config.collapse,set(t){e.dispatch("changeCollapse",t)}});return{collapse:l,clickCollapse:()=>{"/component"===t.path?l.value=!0:l.value=!l.value}}},render(){return v(y("el-button"),{type:"text",icon:this.collapse?"el-icon-s-unfold":"el-icon-s-fold",title:this.collapse?"展开":"折叠",onClick:this.clickCollapse,class:"collapse-button"},null)}});var Go=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wo});const Jo=g({name:"MultiTab",componentName:"ManageMultiTab",__file:"@PC/MultiTab",components:{RightContextMenu:g(qo),Collapse:Wo},props:{multiTab:{type:Boolean,default:!1},pageClass:{type:String,default:"backen-admin-pc-content"}},setup(e){const t=c(),l=u(),{menus:o,openRoutes:n,top:a,left:i,visible:s,currentTag:r,closeTag:g,rightClickTag:f,tagView:b}=((e,t)=>{const l=e.currentRoute,o=p([]),n=p(0),a=p(0),i=p(!1),s=p({title:"",path:""}),r=N("isMobile"),c=d((()=>t.state.config.tagView)),u=[{title:"close",click:()=>{if(o.value.length>1){const t=o.value.findIndex((e=>e.path===s.value.path)),n=o.value[t],a=o.value[t-1];o.value.splice(t,1),a&&n.path===l.value.path&&e.replace(a.path||"/")}}},{title:"close-right",click:()=>{const t=o.value.findIndex((e=>e.path===s.value.path));o.value=o.value.slice(0,t+1),e.replace(s.value.path||"/")}},{title:"close-other",click:()=>{o.value=[s.value],e.replace(s.value.path||"/")}}];return m((()=>l.value.path),(()=>{var e;No.includes(l.value.path)||o.value.some((e=>e.path===l.value.path))||o.value.push({title:(null==(e=l.value.meta)?void 0:e.title)||"",path:l.value.path,name:l.value.name})}),{immediate:!0}),m((()=>[t.state.user.roles,r.value]),(()=>{e.afterEach((()=>{o.value=o.value.filter((t=>e.hasRoute(t.name)))}))})),{openRoutes:o,top:n,left:a,visible:i,currentTag:s,menus:u,closeTag:(t,l)=>{var n;ut(l)&&o.value.splice(t,1);const a=Math.max(0,o.value.length-1);e.replace((null==(n=o.value[a])?void 0:n.path)||"/")},rightClickTag:(e,t)=>{e.preventDefault(),e.stopPropagation();const{clientX:l,clientY:o}=e;n.value=o,a.value=l,s.value=t,i.value=!0},tagView:c}})(t,l),{webPageFull:v,togglePageFull:y}=(e=>{const t=p(!1);return U((()=>{document.querySelector(`.${e.pageClass}`).classList.remove("manage-page-full"),t.value=!1})),{webPageFull:t,togglePageFull:e=>{document.querySelector(`.${e}`).classList.toggle("manage-page-full"),h((()=>{t.value=!t.value}))}}})(e),{headMenu:_,wheelScroll:w}=Do();return R((()=>{_.value.$el.addEventListener("wheel",w)})),{openRoutes:n,closeTag:g,webPageFull:v,togglePageFull:y,rightClickTag:f,headMenu:_,top:a,left:i,menus:o,visible:s,currentTag:r,tagView:b}},render(){return v("section",{class:"manage-head-multitab"},[v(qo,O({visible:this.visible,"onUpdate:visible":e=>this.visible=e},{top:this.top,left:this.left,menus:this.menus}),null),v("div",{class:"left-tags"},["vertical"===this.$store.state.config.navMode&&v(Wo,null,null),v(H,{ref:e=>e&&(this.headMenu=e),tag:"div",enterActiveClass:"animated fadeInDown",leaveActiveClass:"animated fadeOutUp"},{default:()=>[this.tagView&&this.openRoutes.map(((e,t)=>{let l;return v(y("el-tag"),{key:e.path,closable:t>0,onClose:()=>this.closeTag(t,e.path),onClick:()=>this.$router.replace(e.path),onContextmenu:t=>this.rightClickTag(t,e),title:Ht(e.title),class:{selected:this.$route.path===e.path}},"function"==typeof(o=l=Ht(e.title))||"[object Object]"===Object.prototype.toString.call(o)&&!k(o)?l:{default:()=>[l]});var o}))]})]),v("div",{class:"right-buttons"},[v("i",{class:{"el-icon":!0,iconfont:!0,"vite-icon-webfull-reset":this.webPageFull,"vite-icon-webfull":!this.webPageFull},title:this.webPageFull?"还原":"网页全屏",onClick:()=>this.togglePageFull(this.pageClass)},null)])])}});var Xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jo});function Yo(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const Qo=g({name:"BreadCrumb",componentName:"ManageBreadCrumb",__file:"@PC/BreadCrumb",props:{breadCrumb:{type:Array,default:()=>[]}},render(){let e;return v(y("el-breadcrumb"),{"separator-class":"el-icon-arrow-right"},Yo(e=this.breadCrumb.map(((e,t)=>{var l;let o;return v(y("el-breadcrumb-item"),{replace:!0,key:t,to:e.redirect||e.path},Yo(o=Ht(null==(l=e.meta)?void 0:l.title))?o:{default:()=>[o]})})))?e:{default:()=>[e]})}});var Zo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qo});const en=g({name:"PCLayout",componentName:"ManagePClayout",props:{headHeight:{type:String,default:"60px"},sidebarWidth:{type:String,default:"220px"},footerHeight:{type:String,default:"60px"}},components:{Menus:qt,globalHead:Uo,globalFooter:Bo,multiTab:Jo,breadCrumb:Qo},setup(e,{slots:t}){const l=M(),o=u();return()=>v(y("el-container"),{class:"backen-admin-pc",direction:"vertical"},{default:()=>["/404"!=l.path?v(w,null,[v(y("el-header"),{class:{"backen-admin-pc-navbar":!0,"fix-head":o.state.config.fixHead},height:e.headHeight},{default:()=>[gt(t.head)?t.head():v(y("global-head"),null,null)]}),v(y("el-container"),{direction:"horizontal",class:"backen-admin-pc-main"},{default:()=>[v(K,{enterActiveClass:"animated fadeInLeft",leaveActiveClass:"animated fadeOutLeft"},{default:()=>["vertical"===o.state.config.navMode&&v(y("el-aside"),{width:o.state.config.collapse?"65px":e.sidebarWidth,class:{"backen-admin-pc-sidebar":!0,"fix-side":o.state.config.fixSide}},{default:()=>[gt(t.menu)?t.menu(o.state.permission.routes):v(qt,null,null)]})]}),v(y("el-container"),{direction:"vertical",class:"backen-admin-pc-content"},{default:()=>[v(y("el-header"),{height:"40px",onContextmenu:e=>{e.preventDefault(),e.stopPropagation()}},{default:()=>[gt(t.tab)?t.tab():v(y("multi-tab"),null,null)]}),b(v(y("el-main"),{"element-loading-text":"页面加载中，请稍后","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},{default:()=>[!["/docs","/","/component"].includes(l.path)&&v(y("bread-crumb"),{breadCrumb:l.matched},null),gt(t.default)&&t.default()]}),[[_("loading"),o.state.permission.loading]]),v(y("el-footer"),{height:e.footerHeight},{default:()=>[gt(t.footer)?t.footer():v(y("global-footer"),null,null)]})]})]})]):gt(t.default)&&t.default()]})}});const tn=g({name:"MobileMenus",componentName:"ManageMobileMenus",__file:"@Mobile/Menus",components:{Menus:qt},props:{t:{type:Function,default:()=>function(){}},modelValue:{type:Boolean,default:!1},logo:{type:[Node,String],default:"/assets/logo.png"},siteName:{type:[Node,String],default:"vite-backen-admin"}},setup(e,{emit:t}){const l=M(),o=u(),n=d({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return m((()=>l.path),(()=>{n.value=!1}),{immediate:!0}),R((()=>{o.dispatch("changeNavMode","vertical"),o.dispatch("changeUniqueOpen",!0),o.dispatch("changeCollapse",!1)})),{show:n}},render(){const e=this.$slots,{logo:t,siteName:l}=this;return v(y("van-popup"),{show:this.show,"onUpdate:show":e=>this.show=e,position:"left",overlay:!1,"safe-area-inset-bottom":!0,teleport:document.body,class:"left-popup-menu","close-on-popstate":!0},{default:()=>[v("div",{class:"menu-panel"},[gt(e.logo)?e.logo():v("header",null,[t instanceof Node?v(t,null,null):ut(t)&&v("img",{src:t},null),l instanceof Node?v(l,null,null):ut(l)&&v("span",null,[l])]),v(qt,null,null)])]})}});var ln=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:tn});const on=g({name:"MobileFooter",componentName:"ManageMobileFooter",__file:"@Mobile/globalFooter",setup(){const e=c(),t=p("/basic");return m((()=>e.currentRoute.value.path),(e=>{"/me"!==e&&"/login"!==e&&(t.value=e)}),{immediate:!0}),W((()=>{e.replace(t.value)})),{route:t}},render(){return v(y("van-tabbar"),{placeholder:!0,route:!0},{default:()=>[v(y("van-tabbar-item"),{icon:"apps-o",replace:!0,to:this.route},{default:()=>[F("应用")]}),v(y("van-tabbar-item"),{icon:"user-circle-o",replace:!0,to:"/me"},{default:()=>[F("我")]})]})}});var nn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:on});const an=g({name:"MobileHeader",componentName:"ManageMobileHeader",__file:"@Mobile/globalHeader",components:{Search:Po},props:{modelValue:{type:Boolean,default:!1}},setup(e,{emit:t}){const l=M(),o=p(l.path),n=d({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return m((()=>l.path),(()=>{o.value=l.path})),{showLeft:n,current:o}},render(){let e;const t=this.$slots;return v(y("van-nav-bar"),{onClickLeft:()=>this.showLeft=!0,"safe-area-inset-top":!0},"function"==typeof(l=e=Object.assign({},"/me"!==this.current&&{left:()=>v(w,null,[v(y("van-icon"),{name:"arrow"},null),v("span",null,[F("菜单")])]),right:()=>gt(t.rightNav)?t.rightNav():v(Po,null,null)}))||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]});var l}});var sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:an});const rn=g({name:"mobileLayout",componentName:"ManageMobileLayout",components:{mobileMenus:tn,globalFooter:on,globalHeader:an},setup(){const e=M(),t=p(e.meta.title),l=p(!1),o=G({x:0,y:0});m((()=>e.path),(()=>{t.value=e.meta.title}));return{title:t,showLeft:l,touchStart:o,clickLeftOutside:e=>{e.stopPropagation(),o.x=e.changedTouches[0].clientX,o.y=e.changedTouches[0].clientY,l.value&&(l.value=!1)},touchToShowMenu:e=>{e.stopPropagation();e.changedTouches[0].clientX-o.x>=.4*window.innerWidth&&(l.value=!0)}}},render(){const e=this.$slots,t=this.$route,l=this.$store;return"/404"!==t.path?v("section",{class:"backen-admin-mobile",onTouchstart:this.clickLeftOutside,onTouchend:this.touchToShowMenu},[v("header",{class:"backen-admin-mobile-head",style:{display:"/me"===this.$route.path?"none":void 0}},[gt(e.head)?e.head(Ht(this.title),this.showLeft):v(an,{modelValue:this.showLeft,"onUpdate:modelValue":e=>this.showLeft=e},null)]),b(v("main",{class:"backen-admin-mobile-content","element-loading-text":"页面加载中，请稍后","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},[gt(e.menus)?e.menu():v(tn,{t:Ht,modelValue:this.showLeft,"onUpdate:modelValue":e=>this.showLeft=e},null),gt(e.default)&&e.default()]),[[_("loading"),l.state.permission.loading]]),v("footer",{class:"backen-admin-mobile-footer"},[gt(e.footer)?e.footer():v(on,null,null)])]):gt(e.default)&&e.default()}});var cn=["DialogPage","ComponentPage","ChartsPage","EditorPage","IconPage","StepsPage","TablePage","UploadPage","UserPageView"];const un=g({name:"NormalLayout",componentName:"ManageNormalLayout",components:{pcLayout:en,mobileLayout:rn},setup(){const e=N("isMobile"),t=()=>v(y("router-view"),null,{default:({Component:e,route:t})=>v(K,{enterActiveClass:"animated fadeIn"},{default:()=>{var l;return[(null==(l=t.meta)?void 0:l.keepAlive)?v(J,{include:cn},[v(e,null,null)]):v(e,null,null)]}})}),l=()=>v(y("el-backtop"),{bottom:100,right:40},null);return()=>e.value?v(y("mobile-layout"),null,{default:()=>v(w,null,[t(),l()])}):v(y("pc-layout"),null,{default:()=>v(w,null,[t(),l()])})}});const dn=g({name:"PCUserLayout",componentName:"ManageUserPCLayout",setup(e,{slots:t}){const l=u();return()=>v("section",{class:"vite-backen-pc-user"},[v("section",{class:"manage-pc-user"},[v("header",{class:"user-header"},[v("img",{src:"/assets/logo.png"},null),v("span",null,[F("vite-backen-admin")])]),b(v("div",{class:"user-form","element-loading-text":"页面加载中，请稍后","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},[new Array(8).fill(v("span",{class:"shinning"},null)),gt(t.default)&&t.default()]),[[_("loading"),l.state.permission.loading]])])])}});const pn=g({name:"MobileUserLayout",componentName:"ManageUserMobileLayout",setup(e,{slots:t}){const l=u();return()=>v("section",{class:"vite-backen-mobile-login blur"},[v("section",{class:"manage-mobile-login"},[new Array(8).fill(v("span",{class:"shinning"},null)),v("header",{class:"user-header"},[v("img",{src:"/assets/logo.png"},null),v("span",null,[F("vite-backen-admin")])]),b(v("div",{class:"user-form","element-loading-text":"页面加载中，请稍后","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},[gt(t.default)&&t.default()]),[[_("loading"),l.state.permission.loading]])])])}}),mn=()=>v(y("router-view"),null,{default:({Component:e,route:t})=>v(K,{"enter-active-class":"animated fadeIn"},{default:()=>{var l;return[(null==(l=t.meta)?void 0:l.keepAlive)?v(y("keep-alive"),null,{default:()=>[v(e,null,null)]}):v(e,null,null)]}})}),hn=g({name:"UserLayout",componentName:"ManageUserLayout",components:{pcLayout:dn,mobileLayout:pn},setup(){R((()=>{document.oncontextmenu=()=>!1})),W((()=>{document.oncontextmenu=()=>!0}));const e=N("isMobile");return()=>v(K,{"enter-active-class":"animated fadeIn"},{default:()=>[e.value?v(y("mobile-layout"),null,{default:mn}):v(y("pc-layout"),null,{default:mn})]})}}),gn=g({name:"Layout",componentName:"ManageLayout",components:{NormalLayout:un,UserLayout:hn},setup(){const{isPhone:e,updateRoutes:t,screenResize:l}=(()=>{const e=p(ht()),t=u(),l=c(),o=()=>{t.dispatch("generateRoutes",t.state.user.roles).then((e=>{e.forEach((e=>{l.addRoute(e)}));const{name:t,path:o}=l.currentRoute.value;l.hasRoute(t)?l.replace(o):l.replace("/basic")}))},n=ho((()=>{e.value!==ht()&&(o(),t.dispatch("resetConfig"),e.value=ht())}),500);return{isPhone:e,updateRoutes:o,screenResize:n}})();return $("isMobile",X(e)),$("updateRoutes",t),R((()=>window.addEventListener("resize",l))),U((()=>window.removeEventListener("resize",l))),{}},render(){return v(K,{"enter-active-class":"animated fadeIn"},{default:()=>[ut(this.$store.state.user.token)?v(y("normal-layout"),null,null):v(y("user-layout"),null,null)]})}}),fn=g({name:"App",components:{layout:gn},setup:()=>()=>v(gn,null,null)}),bn=new sl,vn=["/login","/forget","/register"];kl.beforeEach(((e,t,l)=>{Y.start(),Wl.dispatch("setLoading",!0),ut(e.meta.title)&&Gt(Ht(e.meta.title));const o=bn.getItem(Rl.TOKEN);if(ut(o))if(vn.includes(e.path))if("/login"===e.path){(ht()?Q.confirm({title:"提示",message:"是否退出登录？"}):Z.confirm("是否退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})).then((async()=>{await Wl.dispatch("logout")})).catch(console.log)}else l(),Y.done();else 0===Wl.state.user.roles.length?Wl.dispatch("getInfo",[Wl.state.user.userInfo.role]).then((async o=>{await Wl.dispatch("generateRoutes",o).then((o=>{o.forEach((e=>kl.addRoute(e)));const n=decodeURIComponent(t.query.redirect||e.path);e.path===n?l(r(s({},e),{replace:!0})):l({path:n})}))})).catch((t=>{Wl.dispatch("logout").then((()=>{l({path:"/login",query:{redirect:e.fullPath}})}))})):l();else vn.includes(e.path)?l():l({path:"/login",query:{redirect:e.fullPath}}),Y.done()})),kl.afterEach((()=>{setTimeout((()=>{Wl.dispatch("setLoading",!1)}),200),Y.done()}));const yn=[ee,te,le,oe,ne,ae,V,ie,se,re,ce,ue,Q,de,pe,me,he,ge,fe,be,ve,ye,_e,we,xe,Ce,Se,ke,Oe,je,Ee,Me,Pe,Te,Ie,ze,Ae,Le,Ve,Re,$e,Ne,De,Ue,Fe];const _n={name:"el-drag-dialog",mounted(e){const t=e.querySelector(".el-dialog__header"),l=e;t.style.cssText+=";cursor:move;",l.style.cssText+=";top:0px;";const o=window.document.currentStyle?(e,t)=>e.currentStyle[t]:(e,t)=>getComputedStyle(e,null)[t];t.onmousedown=e=>{const n=e.clientX-t.offsetLeft,a=e.clientY-t.offsetTop,i=l.offsetWidth,s=l.offsetHeight,r=document.body.clientWidth,c=document.body.clientHeight,u=l.offsetLeft,d=r-l.offsetLeft-i,p=l.offsetTop,m=c-l.offsetTop-s;let h=o(l,"left"),g=o(l,"top");h.includes("%")?(h=+document.body.clientWidth*(+h.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=e=>{let t=e.clientX-n,o=e.clientY-a;-t>u?t=-u:t>d&&(t=d),-o>p?o=-p:o>m&&(o=m),l.style.cssText+=`;left:${t+h}px;top:${o+g}px;`},document.onmouseup=e=>{document.onmousemove=null,document.onmouseup=null}}}};var wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_n});const xn={name:"drag-dom",mounted(e){tl(e)}};var Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:xn});const Sn=(e,t)=>{Array.isArray(t)&&t.length?(e.style.userSelect="none",kn.dragListInit.length||(document.body.addEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()})),kn.dragListInit=t.map((t=>Be.create(e.querySelector(t.dom),Object.assign({},ut(t.target)&&{draggable:t.target},gt(t.callback)&&{onEnd:t.callback}))))),kn.dragListInit.forEach((e=>e.options.disabled=!1))):(e.style.userSelect="auto",kn.dragListInit.forEach((e=>e.options.disabled=!0)))},kn={name:"draggable",dragListInit:[],mounted(e,{value:t}){Sn(e,t)},updated(e,{value:t}){Sn(e,t)},beforeUnmount(){document.body.removeEventListener("drop",(e=>{e.preventDefault(),e.stopPropagation()})),kn.dragListInit.forEach((e=>e.destroy&&e.destroy())),kn.dragListInit=[]}};var On=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kn});const jn={name:"permission",async mounted(e,{value:t},l){var o;let n=!0;try{switch(mt(t)){case"Boolean":n=t;break;case"Function":n=Boolean(t());break;case"Promise":n=Boolean(await t);case"Object":"Function"===mt(t.callback)&&(n=Boolean(t.callback())),"Promise"===mt(t.callback)&&(n=Boolean(await t.callback))}}catch(a){n||((null==(o=e.parentNode)?void 0:o.removeChild)?e.parentNode.removeChild(e):e.style.display="none")}},updated(e,{value:t},l,o){},beforeUnmount(e,{value:t},l){}};var En=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jn});const Mn={name:"print",mounted(e,{value:t}){const l=Object.assign({},{printable:e,type:"html",style:"@page { margin: 0 10mm; } h1 { font-size: 24px; text-align: center; line-height: 35px; }"},ut(t)&&{header:Ht(t)});h((()=>{Zt(l,!0)}))},unmounted(){(()=>{var e;const t=document.getElementById("printJS");dt(t)&&(null==(e=null==t?void 0:t.parentNode)||e.removeChild(t))})()}};var Pn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mn}),Tn={"el-icon":["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"],"iconfont vite-icon":["wide","wide-reset","webfull-reset","webfull","notice-panel","notice","sound","start","laptop","electric","life","home","comments","about","other","archive","sun","moon","i18n","doc","ppt","pdf","gif","xls","jpg","png","file","txt","wps","tar","rar","xsl","zip","tif","rp","swf","svg","psd","mp3","mp4","mov","flv","exe","html","7z","bmp","ai","avi","eps","qrcode"],"vant-icon":["arrow","arrow-left","arrow-up","arrow-down","success","cross","plus","minus","fail","circle","location-o","like-o","star-o","phone-o","setting-o","fire-o","coupon-o","cart-o","shopping-cart-o","cart-circle-o","friends-o","comment-o","gem-o","gift-o","point-gift-o","send-gift-o","service-o","bag-o","todo-list-o","balance-list-o","close","clock-o","question-o","passed","add-o","gold-coin-o","info-o","play-circle-o","pause-circle-o","stop-circle-o","warning-o","phone-circle-o","music-o","smile-o","thumb-circle-o","comment-circle-o","browsing-history-o","underway-o","more-o","video-o","shop-o","shop-collect-o","share-o","chat-o","smile-comment-o","vip-card-o","award-o","diamond-o","volume-o","cluster-o","wap-home-o","photo-o","gift-card-o","expand-o","medal-o","good-job-o","manager-o","label-o","bookmark-o","bill-o","hot-o","hot-sale-o","new-o","new-arrival-o","goods-collect-o","eye-o","delete-o","font-o","balance-o","refund-o","birthday-cake-o","user-o","orders-o","tv-o","envelop-o","flag-o","flower-o","filter-o","bar-chart-o","chart-trending-o","brush-o","bullhorn-o","hotel-o","cashier-o","newspaper-o","warn-o","notes-o","calendar-o","bulb-o","user-circle-o","desktop-o","apps-o","home-o","back-top","search","points","edit","qr","qr-invalid","closed-eye","down","scan","revoke","free-postage","certificate","logistics","contact","cash-back-record","after-sale","exchange","upgrade","ellipsis","description","records","sign","completed","failure","ecard-pay","peer-pay","balance-pay","credit-pay","debit-pay","cash-on-deliver","other-pay","tosend","pending-payment","paid","aim","discount","idcard","replay","shrink","location","like","star","phone","setting","fire","coupon","cart","shopping-cart","cart-circle","friends","comment","gem","gift","point-gift","send-gift","service","bag","todo-list","balance-list","clear","clock","question","checked","add","gold-coin","info","play-circle","pause-circle","stop-circle","warning","phone-circle","music","smile","thumb-circle","comment-circle","browsing-history","underway","more","video","shop","shop-collect","share","chat","smile-comment","vip-card","award","diamond","volume","cluster","wap-home","photo","gift-card","expand","medal","good-job","manager","label","bookmark","bill","hot","hot-sale","new","new-arrival","goods-collect","eye","delete","font","wechat","wechat-pay","alipay","photograph","youzan-shield","umbrella-circle","bell","printer","map-marked","card","add-square","live","lock","audio","graphic","column","invition","play","pause","stop","weapp-nav","ascending","descending","bars","wap-nav","enlarge","photo-fail","sort"]};const In=()=>{const e=d((()=>({"el-icon":Ht("el-icon"),"vant-icon":Ht("vant-icon"),"iconfont vite-icon":Ht("iconfont vite-icon")}))),t=p("el-icon");return{icons:Tn,name:t,enKeytoChKey:e,clickIcon:async(e,t,l)=>{let o;o="vant-icon"!==e?`<i class="${e}-${t}" />`:`<van-icon name="${t}" />`,await Wt(o),gt(l)&&l(`复制成功：${o}`)}}};const zn=g({name:"MobileIcons",componentName:"ManageMobileIcons",components:{Tabs:qe,Tab:Te,Grid:ze,GridItem:Ae},__file:"@Mobile/Icons",setup(){const{enKeytoChKey:e,name:t,clickIcon:l,icons:o}=In();return{icons:o,name:t,enKeytoChKey:e,clickIcon:l}},render(){let e;return v(qe,O({active:this.name,"onUpdate:active":e=>this.name=e},{sticky:!0,animated:!0,square:!0}),"function"==typeof(t=e=Object.entries(this.icons).map((([e,t])=>v(Te,{key:e,name:e,title:this.enKeytoChKey[e]},{default:()=>[v(ze,null,{default:()=>[Array.isArray(t)&&t.length>0&&t.map((t=>v(Ae,{onClick:()=>this.clickIcon(e,t,this.$toast),title:`${e}-${t}`},{default:()=>["vant-icon"!==e?v("i",{class:e+"-"+t},null):v(y("van-icon"),{name:t},null),v("span",null,[t])]})))]})]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!k(t)?e:{default:()=>[e]});var t}});var An=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zn});const Ln=function(){},Vn=(e,t=Function)=>(Array.isArray(e)?e:[e]).find((e=>e===t)),Rn=e=>({Array:[],Object:{},String:"",Number:0,Boolean:!1,Function:Ln,Symbol:Symbol()}[mt(e)]),$n=(e,t)=>{if("string"==typeof t)return{[t]:e[t]};if(Array.isArray(t)){const l={};return t.forEach((t=>{l[t]=e[t]})),l}return{}},Nn=()=>()=>{},Dn=(e,t,l)=>{const o=d((()=>Object.assign({},$n(e,Object.keys(l.props).filter((e=>"active"!==e))),{direction:"horizontal"}))),n=d({get:()=>e.active,set(e){t("update:active",e)}}),a=p(null);return m((()=>n.value),(()=>{var t,l,o,i;e.showFooter||a.value&&(null==(l=(t=a.value).setActiveItem)||l.call(t,n.value),null==(i=(o=a.value).swipeTo)||i.call(o,n.value))})),{stepsProps:o,activeIndex:n,carousel:a}},Un=(e,t,l)=>({prevStep:o=>{var n;t.value>0&&(t.value-=1,(null==(n=l.value)?void 0:n.prev)&&l.value.prev()),gt(e.prev)&&e.prev(),Xt(o)},confirmStep:t=>{gt(e.confirm)&&e.confirm(),Xt(t)},nextStep:o=>{var n;t.value<e.steps.length&&(t.value+=1,(null==(n=l.value)?void 0:n.next)&&l.value.next()),gt(e.next)&&e.next(),Xt(o)}});function Fn(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const Bn=g({name:"MobileSteps",componentName:"ManageMobileSteps",__file:"@Mobile/Steps",components:{Steps:je,Step:Oe},props:Object.assign({},je.props,{steps:{type:Array,default:()=>[]},next:{type:Function,default:Nn},prev:{type:Function,default:Nn},confirm:{type:Function,default:Nn},showFooter:{type:Boolean,default:!0},permitClick:{type:Boolean,default:!0}}),setup(e,{emit:t}){const{stepsProps:l,activeIndex:o,carousel:n}=Dn(e,t,je),{prevStep:a,confirmStep:i,nextStep:s}=Un(e,o,n);return{stepsProps:l,activeIndex:o,carousel:n,prevStep:a,confirmStep:i,nextStep:s}},render(){let e,t;const l=this.$slots;return v("section",{class:"manage-mobile-steps-page"},[v("header",null,[v(je,O(this.stepsProps,{active:this.activeIndex,onClickStep:e=>{this.permitClick&&(this.carousel&&(this.carousel.swipeTo(e),this.carousel.resize()),this.activeIndex=e)}}),Fn(e=this.steps.map(((e,t)=>{let l;return v(Oe,null,Fn(l=Object.assign({},{default:()=>gt(e.title)?e.title(e):v("p",{innerHTML:e.title},null)},e.icon&&{"active-icon":()=>gt(e.icon)?e.icon(e):v("i",{class:e.icon},null),"inactive-icon":()=>gt(e.icon)?e.icon(e):v("i",{class:e.icon},null)}))?l:{default:()=>[l]})})))?e:{default:()=>[e]})]),v("main",{class:"manage-mobile-steps-content"},[v(y("van-swipe"),{"show-indicators":!1,"lazy-render":!0,touchable:!1,onChange:e=>this.activeIndex=e,loop:!1,ref:e=>e&&(this.carousel=e)},Fn(t=this.steps.map(((e,t)=>v(y("van-swipe-item"),null,{default:()=>[gt(l[`step${t}`])&&l[`step${t}`]()]}))))?t:{default:()=>[t]})]),this.showFooter&&v("footer",{class:"manage-mobile-steps-footer"},[this.activeIndex>0&&v(y("van-button"),{type:"primary",plain:!0,hairline:!0,size:"small",onTouchstart:this.prevStep},{default:()=>[F("上一步")]}),this.activeIndex===this.steps.length-1&&v(y("van-button"),{type:"success",plain:!0,hairline:!0,size:"small",onTouchstart:this.confirmStep},{default:()=>[F("确定")]}),this.activeIndex<this.steps.length-1&&v(y("van-button"),{type:"primary",plain:!0,hairline:!0,size:"small",onTouchstart:this.nextStep},{default:()=>[F("下一步")]})])])}});var Hn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bn});const qn=(e,t)=>{const l=(t,l)=>new Promise(((o,n)=>e.fileList.value[l.index]?(e.fileList.value.splice(l.index,1),gt(e.beforeDelete)&&e.beforeDelete(t,l),o(null)):n()));return{beforeRead:(t,l)=>new Promise(((o,n)=>{const{type:a,size:i}=t;if(ut(e.accept)){const[t,l]=a.split("/");if(!e.accept.split(",").some((e=>{let o;if(e.includes("/")){const[n,a]=e.split("/");o=n===t&&("*"===a||a===l)}else o=l===e.slice(1);return o})))return V(`上传文件格式必须为${e.accept}`),n()}if(i>=e.maxSize)return V(`上传文件不能超过${(e=>{let t=0;for(;e>=1024&&t<5;)e=Math.floor(e/1024),t+=1;return`${e}${["kb","mb","gb","tb"][t]}`})(e.maxSize)}`),n();gt(e.beforeRead)&&e.beforeRead(t,l),o(null)})),afterRead:(o,n)=>{if(o.status="uploading",o.message="上传中...",gt(e.afterRead)&&e.afterRead(o,n),gt(e.httpRequest)){const a=new FormData;a.append("file",o.file),Object.entries(e.data).forEach((([e,t])=>{a.append(e,t)})),e.httpRequest(a).then((e=>{o.status="",o.message="",o.content=e.url,t("success",o,n)})).catch((e=>{e.isAxiosError?(o.status="",o.message=""):l(o,n)}))}else setTimeout((()=>{o.status="",o.message=""}),1e3)},beforeDelete:l,onOversize:(e,l)=>{t("oversize",e,l)},onClickPreview:(e,l)=>{t("click-preview",e,l)},onClosePreview:()=>{t("close-preview")},onDelete:(e,l)=>{t("delete",e,l)}}},Kn=e=>Xl({url:"/filedownload",method:"post",type:"backen",data:e});const Wn=g({name:"MobileUpload",componentName:"ManageMobileUpload",__file:"@Mobile/Uploader",emits:["oversize","click-preview","close-preview","delete","update:modelValue","getFile","success"],components:{Uploader:ce},props:Object.assign({},ce.props,{customClass:{type:String,default:""},httpRequest:{type:Function,default:e=>Xl({url:"/fileupload",method:"post",type:"backen",data:e})},data:{type:Object,default:()=>({})},draggable:{type:Boolean,default:!1}}),setup:(e,{emit:t})=>((e,t,l)=>{const o=Object.keys(l.props).filter((e=>"modelValue"!==e)),n=p(e.modelValue),a=r(s({},$n(e,[...o,"action","httpRequest","data"])),{fileList:n}),i=d((()=>Object.assign({},$n(e,o),qn(a,t)))),c=p(null);return m((()=>n.value),(()=>{t("update:modelValue",n.value)}),{deep:!0}),R((()=>{t("getFile",c)})),{uploadProps:i,fileList:n,fileRef:c}})(e,t,ce),render(){let e;const t=this.$slots;return b(v(ce,O({modelValue:this.fileList,"onUpdate:modelValue":e=>this.fileList=e},this.uploadProps,{ref:e=>e&&(this.fileRef=e),class:Object.assign({"manage-mobile-upload":!0},ut(this.customClass)&&{[this.customClass]:!0})}),"function"==typeof(l=e=Object.assign({"preview-cover":e=>{var l;return gt(t["preview-cover"])?t["preview-cover"](e):(null==(l=e.file)?void 0:l.name)&&v("div",{class:"preview-cover van-ellipsis",title:e.file.name},[e.file.name])}},gt(t.default)&&{default:t.default}))||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]}),[[_("draggable"),[this.draggable&&{dom:".van-uploader__wrapper",target:".van-uploader__preview-cover",callback:({newIndex:e,oldIndex:t})=>{[this.fileList[e],this.fileList[t]]=[this.fileList[t],this.fileList[e]]}}].filter(Boolean)]]);var l}});var Gn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wn});const Jn=g({name:"Auth",componentName:"ManageAuthList",props:{},setup(e){},render(){}});var Xn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Jn});const Yn=g({name:"CascaderPanel",componentName:"ManageCascaderPanel",__file:"@PC/CascaderPanel",props:{options:{type:Array,default:()=>[]}},setup:()=>({currentClick:p([])}),render(){const e=this.$slots;return v("section",{class:"manage-cascader-panel"},[v("ul",{class:"cascader-content"},[this.options.map((t=>v("li",{class:{selected:this.currentClick[0]&&this.currentClick[0].value===t.value},onClick:e=>{e.stopPropagation(),Array.isArray(t.children)?this.currentClick=[t]:this.currentClick=[]}},[gt(t.label)?t.label({data:t,level:1,parent:null}):gt(e.level1)?e.level1({data:t,level:1,parent:null}):v("span",{innerHTML:t.label},null),Array.isArray(t.children)&&v("i",{class:"el-icon-arrow-right"},null)])))]),this.currentClick.length>0&&this.currentClick.map(((t,l)=>v("ul",{class:"cascader-content"},[Array.isArray(t.children)&&t.children.length>0?t.children.map((o=>v("li",{onClick:e=>{e.stopPropagation(),Array.isArray(o.children)?this.currentClick[l+1]=o:this.currentClick=this.currentClick.slice(0,l+1)},class:{selected:this.currentClick[l+1]&&this.currentClick[l+1].value===o.value}},[gt(o.label)?o.label({data:o,level:l+2,parent:t}):gt(e[`level${l+2}`])?e[`level${l+2}`]({data:o,level:l+2,parent:t}):v("span",{innerHTML:o.label},null),Array.isArray(o.children)&&v("i",{class:"el-icon-arrow-right"},null)]))):gt(e.lastOne)?e.lastOne(this.currentClick[this.currentClick.length-1]):v(y("el-empty"),{description:"暂无数据"},null)])))])}});var Qn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Yn});const Zn=g({name:"CodePreview",componentName:"ManageCodePreview",setup:()=>({visibleCode:p(!1),height:p(0),code:p(null),enterCode:p(!1)}),render(){const e=this.$slots;return v("section",{class:"manage-code-preview",onMouseover:()=>this.enterCode=!0,onMouseout:()=>this.enterCode=!1},[v("div",{class:"preview"},[gt(e.default)&&e.default()]),v("div",{class:"code",style:{height:`${this.height}px`},ref:e=>e&&(this.code=e),onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[gt(e.code)&&e.code()]),v("footer",{class:"code-button",onClick:()=>{this.visibleCode=!this.visibleCode,this.visibleCode?this.height=parseInt(window.getComputedStyle(this.code.querySelector("pre")).height):this.height=0}},[v(y("el-button"),{type:"text",icon:this.visibleCode?"el-icon-caret-top":"el-icon-caret-bottom"},{default:()=>[v(K,{enterActiveClass:"animated fadeIn",leaveActiveClass:"animated fadeOut"},{default:()=>[this.enterCode&&v("span",null,[this.visibleCode?"隐藏":"显示",F("代码")])]})]}),this.visibleCode&&v(y("el-button"),{type:"text",icon:"el-icon-document-copy",class:"copy-button",onClick:async t=>{t.stopPropagation();const l=`${e.code()[0].el.innerText}\n——————————————\n作者：JarryChen\n原文：${location.href}\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。`;await Wt(l),this.$message.success("复制成功")}},{default:()=>[F("复制代码片段")]})])])}});var ea=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zn});const ta=g({name:"MinimizeButton",componentName:"ManageMinimizeButton",__file:"@PC/Dialog/Button/minimize",emits:["minimize"],props:{maximize:{type:Boolean,default:!1},minimize:{type:Boolean,default:!1}},setup:(e,{emit:t})=>()=>v("button",{type:"button","aria-label":"Minimize",class:"el-dialog__headerbtn",style:"right: 70px",onClick:()=>t("minimize",!e.minimize,!1)},[v("i",{class:"el-icon-minus el-icon",title:"最小化",style:"font-size: 14px"},null)])});var la=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ta});const oa=g({name:"MaximizeButton",componentName:"ManageMaximizeButton",__file:"@PC/Dialog/Button/maximize",emits:["maximize"],props:{maximize:{type:Boolean,default:!1},minimize:{type:Boolean,default:!1}},setup:(e,{emit:t})=>()=>v("button",{type:"button","aria-label":e.maximize?"Resize":"Maximize",class:{"el-dialog__headerbtn":!0},style:"right: 45px",onClick:()=>t("maximize",!e.maximize,!1)},[v("i",{class:{"el-icon":!0,"el-icon-full-screen":!e.maximize,"el-icon-copy-document":e.maximize},title:e.maximize?"还原":"最大化",style:"font-size: 14px"},null)])});var na=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:oa});const aa=g({name:"Dialogs",componentName:"ManageDialogs",__file:"@PC/Dialog",emits:["update:modelValue"],components:{minimizeButton:ta,maximizeButton:oa,Dialog:Ke},props:Object.assign({},Ke.props,{showMinimize:{type:Boolean,default:!1},showMaximize:{type:Boolean,default:!1},enterTransition:{type:String,default:"zoomIn"},fadeTransition:{type:String,default:"zoomOut"},dragging:{type:Boolean,default:!1}}),setup(e,{emit:t}){const{minimize:l,maximize:o,dialog:n,dialogProps:a}=((e,t,l)=>{const o=p(!1),n=p(!1),a=p(null),i=ut(e.customClass)?e.customClass+" ":"",s=d((()=>Object.assign({},$n(e,Object.keys(l.props)),{customClass:`${i}animated ${e.enterTransition}`,onClose:()=>{o.value=!1,n.value=!1,gt(e.onClose)&&e.onClose(),t("update:modelValue",!1)},"before-close":t=>{gt(e.beforeClose)&&e.beforeClose(),t()},"destroy-on-close":!0},(e.showMinimize||e.showMaximize)&&{"append-to-body":!0,modalClass:`${n.value?"maximize ":" "}${o.value?"minimize ":" "}`})));return{minimize:o,maximize:n,dialog:a,dialogProps:s}})(e,t,Ke);return R((()=>{if(e.dragging){_("el-drag-dialog").mounted(n.value.$refs.dialogRef)}})),{minimize:l,maximize:o,dialog:n,dialogProps:a}},render(){let e;const t=this.$slots;return v(Ke,O(this.dialogProps,{ref:e=>e&&(this.dialog=e)}),"function"==typeof(l=e=Object.assign({title:()=>v(w,null,[gt(t.title)?t.title(this.dialogProps.title):v("span",{class:"dialogs-title"},[this.dialogProps.title]),this.showMinimize&&v(ta,{minimize:this.minimize,maximize:this.maximize,onMinimize:(e,t)=>{this.minimize=e,this.maximize=t}},null),this.showMaximize&&v(oa,{maximize:this.maximize,minimize:this.minimize,onMaximize:(e,t)=>{this.maximize=e,this.minimize=t}},null)]),default:e=>gt(t.default)&&t.default(e)},gt(t.footer)&&{footer:e=>t.footer(e)}))||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]});var l}});var ia=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:aa});var sa={dependencies:{"@vueup/vue-quill":"^1.0.0-beta.7","animate.css":"^3.5.1",axios:"^0.21.1",echarts:"^5.1.2","element-plus":"^1.0.2-beta.48",html2canvas:"^1.0.0-rc.7",nprogress:"^0.2.0","postcss-pxtorem":"^5.1.1","print-js":"^1.6.0",qrcode:"^1.4.4",sortablejs:"^1.13.0",vant:"^3.0.18","video.js":"^7.11.8","videojs-contrib-hls":"^5.15.0","videojs-flash":"^2.2.1","videojs-hotkeys":"^0.2.27",vue:"^3.1.1","vue-i18n":"^9.1.6","vue-router":"^4.0.8",vuex:"^4.0.1",xlsx:"^0.17.0"},devDependencies:{"@testing-library/jest-dom":"^5.14.1","@testing-library/vue":"^5.8.1","@types/node":"^14.14.41","@typescript-eslint/eslint-plugin":"^4.25.0","@typescript-eslint/parser":"^4.25.0","@vitejs/plugin-vue":"^1.1.4","@vitejs/plugin-vue-jsx":"^1.1.3","@vue/compiler-sfc":"^3.0.5",autoprefixer:"^10.2.5",eslint:"^7.27.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^3.4.0","eslint-plugin-vue":"^7.10.0",less:"^4.1.1","less-loader":"^8.1.1","postcss-plugin-px2rem":"^0.8.1",prettier:"^2.3.0",sitemap:"^7.0.0","svg-sprite-loader":"^6.0.6",typescript:"^4.1.3",vite:"^2.3.4","vite-plugin-pwa":"^0.7.3","vite-plugin-style-import":"^0.9.2","vite-plugin-vuedoc":"^3.1.3"}};const ra=e=>{const t=[],l=Object.entries(e);for(let o=0;o<l.length;o+=3)l[o]&&t.push(v("tr",null,[v("td",null,[l[o][0]]),v("td",null,[l[o][1]]),l[o+1]&&v(w,null,[v("td",null,[l[o+1][0]]),v("td",null,[l[o+1][1]])]),l[o+2]&&v(w,null,[v("td",null,[l[o+2][0]]),v("td",null,[l[o+2][1]])])]));return t},ca=g({name:"AboutDocs",componentName:"ManageAboutDocs",render:()=>v("section",{class:"about-docs-page",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[v("div",{class:"ribbon"},[v("a",{href:"https://github.com/RyanChent/vite-backen-admin",target:"_blank",rel:"external nofollow"},[F("fork me on github")])]),v(y("el-card"),{header:"项目信息"},{default:()=>[v("table",{class:"not-el-table"},[v("tbody",null,[v("tr",null,[v("td",null,[F("版本")]),v("td",null,[v(y("el-tag"),{type:"primary"},{default:()=>[F("1.0.0")]})]),v("td",null,[F("项目地址")]),v("td",null,[v(y("el-link"),{type:"primary",underline:!1,href:"https://github.com/RyanChent/vite-backen-admin"},{default:()=>[F("vite-backen-admin")]})])]),v("tr",null,[v("td",null,[F("预览地址")]),v("td",null,[v(y("el-link"),{type:"primary",underline:!1,href:"https://jarrychen.xyz"},{default:()=>[F("vite-backen-admin")]})]),v("td",null,[F("文档地址")]),v("td",null,[v(y("el-link"),{type:"primary",underline:!1,href:"https://jarrychen.xyz/docs"},{default:()=>[F("vite-backen-admin")]})])])])])]}),Object.entries(sa).map((([e,t])=>v(y("el-card"),{header:Ht(e),key:e},{default:()=>[v("table",{class:"not-el-table"},[v("tbody",null,[ra(t)])])]})))])});var ua=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ca});const da=g({name:"Docs",componentName:"ManageDocs",components:{AboutPage:ca},props:{menus:{type:Array,default:()=>[]}},setup(e){const{current:t,mdRef:l,clickMdPage:o,cid:n}=(e=>{const t=p({path:"/about",title:"about-page",catalog:null}),l=p(null),o=p("");return{current:t,mdRef:l,clickMdPage:async e=>{t.value=Object.assign({},e,{catalog:null}),await h();const n=document.querySelector(".docs-content"),a=l.value.$el.querySelectorAll("h3");l.value.$el.querySelectorAll(".markdownIt-Anchor").forEach((e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),t.value.catalog=[...a].map((e=>{const t=e.innerText.replace(/#/g,"");return v("li",{class:{select:o.value===e.id},onClick:t=>{t.stopPropagation(),t.preventDefault(),o.value=e.id,n.scrollTo&&n.scrollTo({behavior:"smooth",top:e.offsetTop-100-e.offsetHeight})}},[t])}))},cid:o}})();return{current:t,mdRef:l,clickMdPage:o,cid:n}},render(){const{component:e}=this.current;return v("section",{class:"manage-docs-page"},[v("ul",{class:"sidebar-menu"},[v("li",{class:{"about-menu":!0,selected:"/about"===this.current.path},onClick:()=>this.current={path:"/about",title:"about-page",catalog:null}},[F("关于")]),this.menus.map((e=>v("li",{class:{selected:this.current.path===e.path},key:e.path,title:Ht(e.title),onClick:()=>this.clickMdPage(e)},[Ht(e.title)]))),v("li",{class:{"other-menu":!0,selected:"/element"===this.current.path},onClick:()=>this.current={path:"/element",title:"element-page",catalog:null}},[F("Element Plus")]),v("li",{class:{selected:"/vant"===this.current.path},onClick:()=>this.current={path:"/vant",title:"vant-page"}},[F("Vant Next")])]),v("main",{class:"docs-content"},[["/vant","/element","/about"].includes(this.current.path)?v(w,null,["/about"===this.current.path?v(y("about-page"),null,null):(t=this.current.path,v("iframe",{src:{"/element":"https://element-plus.org/#/zh-CN/component/installation","/vant":"https://vant-contrib.gitee.io/vant/v3/#/zh-CN/picker"}[t],allowfullscreen:!0,allowtransparency:!0,width:"100%",height:"100%",frameborder:"no",style:"outline: none; object-fit: contain"},null))]):e&&v(e,{ref:e=>e&&(this.mdRef=e)},null)]),Array.isArray(this.current.catalog)&&v("ul",{class:"docs-catalog"},[this.current.catalog])]);var t}});var pa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:da});const ma={title:{text:"ECharts 入门示例"},tooltip:{},legend:{data:["销量"]},xAxis:{data:["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]},yAxis:{},series:[{name:"销量",type:"bar",data:[5,20,36,10,10,20]}]},ha=(e,t={})=>{const l=We(document.getElementById(e));return l.setOption(Object.keys(t).length?t:ma),l};const ga=g({name:"Echarts",componentName:"ManageEcharts",__file:"@PC/Echarts",props:{domId:{type:String,default:"default-charts"},height:{type:String,default:"400px"},width:{type:String,default:"50%"},minWidth:{type:String,default:"350px"},minHeight:{type:String,default:"200px"},options:{type:Object,default:()=>({})}},setup(e){const t=p(null);let l,o,n;const a=l=>{t.value._dom.style.height=`${Math.min(Math.max(parseInt(l),parseInt(e.minHeight)),parseInt(e.height))}px`,t.value.resize()};return R((()=>{var i;t.value=ha(e.domId,e.options),o=null==(i=document.getElementById(e.domId))?void 0:i.parentElement,n=window.getComputedStyle(o).height,a(parseInt(n)),l=new Qt(o,(([{contentRect:e}])=>a(e.height))),window.addEventListener("resize",ho((()=>a(parseInt(n))),0))})),W((()=>{l.disconnect((()=>t.value.clear())),window.removeEventListener("resize",ho((()=>a(parseInt(n))),0)),l=null})),{charts:t}},render(){return v("div",{id:this.domId,style:{width:this.width,height:this.height,transition:"all 0.5s",minWidth:this.minWidth,minHeight:this.minHeight}},null)}});var fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ga});const ba=g({name:"Editor",componentName:"ManageEditor",__file:"@PC/Editor",emits:["update:modelValue"],components:{QuillEditor:Ge},props:{options:{type:Object,default:()=>({})},modelValue:{type:String,default:""}},setup(e,{emit:t}){const l=p(null),o=d((()=>Object.assign({},{theme:"snow",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],[{clean:"源码编辑"}],["link","image"]]}},e.options))),n=d({set(e){t("update:modelValue",e.replace(/&lt;/g,"<").replace(/&gt;/g,">"))},get:()=>e.modelValue.replace(/&lt;/g,"<").replace(/&gt;/g,">")});return m((()=>n.value),(()=>{l.value.innerHTML=n.value})),{options:o,modelValue:n,initQuillEditor:e=>{l.value=e.addContainer("ql-preview"),l.value.innerHTML=n.value}}},render(){return v("div",null,[v(y("quill-editor"),{options:this.options,content:this.modelValue,"onUpdate:content":e=>this.modelValue=e,contentType:"html",id:"vite-backen-editor",onReady:this.initQuillEditor},null)])}});var va=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ba});const ya=function(e){if(this.el instanceof HTMLElement){const t=(t,l)=>{if(!t){const e=Object.keys(l||{})[0];if(ut(e)){const t=this.el.querySelector(`label[for=${e}]`);this.el.scrollTo({behavior:"smooth",top:t.offsetTop-t.offsetHeight-100})}}gt(e)&&e(t,l)};this.validate(t)}},_a=(e,t)=>{const l=(l,o)=>{Xt(l);const{name:n,label:a,prop:i,attr:s,type:r,required:c=!0,slots:u}=o;if(ut(i)){switch(r){case"Boolean":case"String":case"Number":e[i]="";break;case"Array":e[i]=[];break;case"Object":e[i]={}}i in t.value&&(t.value[i]={props:{label:a,required:c},component:{name:n,attr:s,slots:u}})}},o=()=>{Object.keys(t).filter(Boolean).forEach((t=>{Array.isArray(t)?t.forEach((t=>{e.value.hasOwnProperty(t)||(e.value[t]=null)})):e.value.hasOwnProperty(t)||(e.value[t]=null)}))};return o(),{addFormItem:l,removeFormItem:(l,o)=>{Xt(l),Z.confirm(`此操作将删除表单项 ${o}，是否继续？`,"提示",{type:"warning"}).then((()=>{o in t.value&&(delete t.value[o],delete e.value[o])}))},getVModel:e=>{const{emits:t=[]}=e;return{Array:t.find((e=>e.startsWith("update"))),Object:Object.keys(t).find((e=>e.startsWith("update")))}[mt(t)]||""},quickAddConfirm:(e,t)=>{const{component:o={}}=t;ut(o.label)&&ut(o.prop)&&("el-input"!==o.tag?Array.isArray(o.slots)&&o.slots.length>0&&l(e,o):l(e,o))},initModel:o}},wa=(e,t,l)=>{const o=()=>{e.value=!1,t.value={label:"",name:"",prop:"",attr:{},rules:[],linkage:""}};return{confirmItemDiy:e=>{if(e){const n={el:e.$el,validate:e.validate};ya.call(n,((e,n)=>{e&&(l("confirm",t.value),o())}))}},cancelItemDiy:o,contentChange:e=>{t.value.name=e}}};var xa=["CascaderPanel","MobileUpload","Echarts","Editor","ImageUpload","Table","Transfer","Upload","ElAutocomplete","ElCheckbox","ElCheckboxGroup","ElColorPicker","ElDatePicker","ElInput","ElInputNumber","ElRadio","ElRadioButton","ElRadioGroup","ElRate","ElSelect","ElSlider","ElSwitch","ElTable","ElTimePicker","ElTransfer","ElTree","ElUpload","ElSelectV2","VanButton","VanField","VanRadio","VanRadioGroup","VanUploader","VanTreeSelect"];const Ca=g({name:"FormItemDiy",componentName:"ManageFormItemDiy",emits:["update:modelValue","confirm"],props:{modelValue:{type:Boolean,default:!1}},setup:(e,{emit:t})=>((e,t)=>{const l=d({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),o=p({label:"",name:"",prop:"",attr:{},rules:[],linkage:""}),n=p([]);return s({visible:l,formItem:o,componentList:n},wa(l,o,t))})(e,t),render(){let e;const t=y("Dialogs");if(!this.componentList.length){const e=[...new Set(Object.keys(this.$.appContext.components).map(ro))].filter((e=>xa.includes(ro(e))));this.componentList=e.map((e=>({label:Ht(e),value:e})))}return v(t,{modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e,title:"自定义表单项",showMaximize:!0,dragging:!0,customClass:"manage-diy-form-dialog",top:"80px"},{default:()=>[v(y("el-form"),{model:this.formItem,"label-width":"auto","label-suffix":" ：","status-icon":!0,ref:"form"},{default:()=>[v(y("el-form-item"),{prop:"label",label:"表单项描述",required:!0},{default:()=>[v(y("el-input"),{modelValue:this.formItem.label,"onUpdate:modelValue":e=>this.formItem.label=e,placeholder:"请输入表单项描述",clearable:!0},null)]}),v(y("el-form-item"),{prop:"content",label:"表单项组件",required:!0},{default:()=>{return[v(y("el-select"),{modelValue:this.formItem.name,placeholder:"请选择组件",clearable:!0,onChange:this.contentChange},(t=e=this.componentList.map((e=>v(y("el-option"),O(e,{key:e.value}),null))),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!k(t)?e:{default:()=>[e]}))];var t}}),"slots"in this.formItem&&v(y("el-form-item"),{prop:"slots",label:"子组件"},{default:()=>[v(y("el-input"),null,null)]}),v(y("el-form-item"),{prop:"prop",label:"表单字段",required:!0},{default:()=>[v(y("el-input"),{modelValue:this.formItem.prop,"onUpdate:modelValue":e=>this.formItem.prop=e,placeholder:"请输入表单字段",clearable:!0},null)]}),v(y("el-form-item"),{prop:"attr",label:"组件参数"},{default:()=>[v(y("el-input"),{clearable:!0},null)]}),v(y("el-form-item"),{prop:"rules",label:"表单项校验"},{default:()=>[v(y("el-input"),{clearable:!0},null)]}),v(y("el-form-item"),{prop:"linkage",label:"表单项联动"},{default:()=>[v(y("el-input"),{type:"textarea",modelValue:this.formItem.linkage,"onUpdate:modelValue":e=>this.formItem.linkage=e,placeholder:"请输入表单项联动处理",clearable:!0},null)]})]}),v("footer",{class:"form-footer"},[v(y("el-button"),{type:"primary",plain:!0,round:!0,onClick:()=>this.confirmItemDiy(this.$refs.form)},{default:()=>[F("确定")]}),v(y("el-button"),{type:"info",plain:!0,round:!0,onClick:this.cancelItemDiy},{default:()=>[F("取消")]})])]})}});var Sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ca}),ka=[{label:"快捷选项",value:"quick",children:[{label:"文本框",value:"text",component:{type:"String",name:"el-input",label:"",prop:"",attr:{}},children:[]},{label:"文本域",value:"textarea",component:{type:"String",name:"el-input",label:"",prop:"",attr:{type:"textarea"}},children:[]},{label:"下拉框(单选)",value:"select",component:{type:"String",name:"el-select",label:"",prop:"",attr:{},slots:[]},children:[]},{label:"下拉框(多选)",value:"select-multiple",component:{name:"el-select",type:"Array",label:"",prop:"",attr:{multiple:!0},slots:[]},children:[]},{label:"单选框",value:"radio",component:{type:"Boolean",name:"el-radio-group",label:"",prop:"",attr:{},slots:[]},children:[]},{label:"复选框",value:"checkbox",component:{type:"Array",name:"el-checkbox-group",label:"",prop:"",attr:{},slots:[]},children:[]}]},{label:"自定义",value:"diy"}];var Oa={ElRadioGroup:"ElRadio",ElCheckboxGroup:"ElCheckbox",ElSelect:"ElOption",ElButton:"span"};function ja(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const Ea=function(...e){const[t,l,o]=e,{component:{attr:n,events:a,name:i,slots:s},linkage:r}=o||{component:{}};let c=this.getVModel(t);return c=c.slice(c.lastIndexOf(":")+1),v("div",null,[t?v(t,Object.assign({},n||{},ut(c)?{[c]:this.copyModel[l],[`onUpdate:${c}`]:e=>{this.copyModel[l]=e,gt(r)&&r(this.copyModel,this.copySchema)}}:dt(a)&&Object.entries(a).reduce(((e,[t,l])=>{var o;return e[`on${ro(t)}`]=null==(o=null==l?void 0:l.bind)?void 0:o.call(l,this),e}),{})),{default:()=>[Array.isArray(s)&&s.map((e=>{const t=Oa[ro(i)];if(["El","Van"].some((e=>t.startsWith(e)))){const l=y(t);return v(l,e,{default:()=>[e.slot]})}return v("span",{innerHTML:e},null)})).filter(Boolean)]}):gt(i)?i({model:this.copyModel,item:o}):v("span",{innerHTML:this.copyModel[l]},null),this.dynamic&&v(y("el-button"),{type:"danger",icon:"el-icon-delete",circle:!0,size:"mini",onClick:e=>this.removeFormItem(e,l)},null)])},Ma=function(){const e=y("CascaderPanel");return v("footer",{class:"manage-dynamic-form-footer"},[v(y("el-popover"),{"popper-class":"manage-dynamic-form-content","show-arrow":!1,trigger:"manual",visible:this.showAddFormItem,"onUpdate:visible":e=>this.showAddFormItem=e,placement:"top"},{default:()=>v(e,{options:ka,ref:"cascader"},{level1:({data:e})=>v("span",{innerHTML:e.label,onClick:t=>{"diy"===e.value&&(this.showAddFormItem=!1,this.showDiyFormItem=!0)}},null),lastOne:e=>v("div",{class:"quick-config-panel"},[v("p",null,[v("span",null,[F("label：")]),v(y("el-input"),{modelValue:e.component.label,"onUpdate:modelValue":t=>e.component.label=t,size:"small",placeholder:"请输入schema label"},null)]),v("p",null,[v("span",null,[F("prop：")]),v(y("el-input"),{modelValue:e.component.prop,"onUpdate:modelValue":t=>e.component.prop=t,size:"small",placeholder:"请输入schema prop"},null)]),v("p",{style:"margin-top: 30px; justify-content: center;"},[v(y("el-button"),{size:"small",type:"primary",plain:!0,onClick:t=>{this.quickAddConfirm(t,e),this.showAddFormItem=!1}},{default:()=>[F("确定")]}),v(y("el-button"),{size:"small",type:"info",plain:!0,onClick:()=>this.showAddFormItem=!1},{default:()=>[F("取消")]})])])}),reference:()=>v(y("el-button"),{type:"primary",icon:"el-icon-plus",plain:!0,round:!0,onClick:e=>{e.stopPropagation(),this.showAddFormItem=!0}},{default:()=>[F("新增表单项")]})}),gt(this.$slots.footer)&&this.$slots.footer()])},Pa=g({name:"Form",componentName:"ManagePCForm",emits:["form-methods","validate","update:schema","update:model"],props:Object.assign({},Je.props,{schema:{type:Object,default:()=>{}},dynamic:{type:Boolean,default:!1},chaseError:{type:Boolean,default:!1}}),components:{DiyFormItem:Ca},setup:(e,{emit:t})=>((e,t,l)=>{const o=d((()=>Object.assign({},$n(e,Object.keys(l.props).filter((e=>"model"!==e))),{"status-icon":!0,"label-width":"auto",onValidate(e,l,o){t("validate",e,l,o)}}))),n=d({get:()=>e.model,set(e){t("update:model",e)}}),a=d({get:()=>e.schema,set(e){t("update:schema",e)}}),i=p(!1),r=p(!1),c=p(null);return R((()=>{var l;const{clearValidate:o,resetFields:n,validate:a,validateField:i}=c.value,s={clearValidate:o,resetFields:n,validate:a,validateField:i,el:null==(l=c.value)?void 0:l.$el};e.chaseError&&(s.validateChaseError=ya),t("form-methods",s)})),s({copyModel:n,copySchema:a,FormProps:o,showAddFormItem:i,showDiyFormItem:r,form:c},_a(n,a))})(e,t,Je),render(){let e;const t=this.$slots;return v("section",{class:"manage-dynamic-form"},[v(y("el-form"),O({model:this.copyModel},this.FormProps,{ref:e=>e&&(this.form=e)}),ja(e=Object.entries(this.copySchema).map((([e,l])=>{const{component:o,props:n}=l,a=y(ro(o.name));if(gt(t[e]))return t[e]({model:this.copyModel,item:l});{let t;return!n.hide&&v(y("el-form-item"),$n(l,Object.keys(n||{}).filter((e=>"label"!==e))),ja(t=Object.assign({default:Ea.bind(this,a,e,l)},"label"in(n||{})&&{label:()=>gt(n.label)?n.label():ut(n.label)&&v("span",{innerHTML:`${n.label} ：`},null)},gt(n.error)&&{error:n.error}))?t:{default:()=>[t]})}})))?e:{default:()=>[e]}),this.dynamic?Ma.call(this):gt(t.footer)&&t.footer(),v(Ca,O({modelValue:this.showDiyFormItem,"onUpdate:modelValue":e=>this.showDiyFormItem=e},{onConfirm:e=>{}}),null)])}});var Ta=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pa});const Ia=g({name:"Icons",componentName:"ManageIcons",__file:"@PC/Icons",setup(){const{enKeytoChKey:e,name:t,clickIcon:l,icons:o}=In();return{icons:o,name:t,enKeytoChKey:e,clickIcon:l}},render(){let e;return v(y("el-tabs"),{modelValue:this.name,"onUpdate:modelValue":e=>this.name=e,type:"border-card",stretch:!0},"function"==typeof(t=e=Object.entries(this.icons).map((([e,t])=>v(y("el-tab-pane"),{key:e,name:e,label:this.enKeytoChKey[e]},{default:()=>[v("ul",{class:"icon-list"},[Array.isArray(t)&&t.length>0&&t.map((t=>v("li",{key:t,onClick:()=>this.clickIcon(e,t,this.$message.success),title:`${e}-${t}`},["vant-icon"!==e?v("i",{class:e+"-"+t},null):v(y("van-icon"),{name:t},null),v("span",null,[t])])))])]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!k(t)?e:{default:()=>[e]});var t}});var za=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ia});const Aa=g({name:"FilePreview",componentName:"ManageFilePreview",__file:"@PC/Upload/Preview",components:{Dialog:aa},props:{file:{type:Object,default:()=>({})}},setup(e,{emit:t}){const l=p({}),o=p(null);return{visible:d({get(){if(Object.keys(e.file).length>0){const t=(({file:e})=>{const t=(e.url||"").split("/").pop()||"",l=(e.type||"").split("/").pop(),o={title:`${t}-预览`,showMaximize:!0,dragging:!0};let n=null;if(ut(l))switch(l){case"jpg":case"png":case"jpeg":case"gif":n=v("img",{src:e.url,alt:t,style:"object-fit: contain"},null);break;case"doc":case"docx":case"xls":case"xlsx":case"pdf":case"ppt":n=v("iframe",{src:`https://view.officeapps.live.com/op/view.aspx?src=${e.url}`,frameborder:"no",width:"100%",height:"100%",style:"min-height: 200px;object-fit: contain"},null);break;default:n=v("iframe",{src:e.url,frameborder:"no",width:"100%",height:"100%",style:"min-height: 200px;object-fit: contain"},null)}return{fileProps:o,fileComponent:n}})(e);return l.value=t.fileProps,o.value=t.fileComponent,!0}return!1},set(e){!1===e&&t("update:file",{})}}),fileProps:l,fileComponent:o}},render(){return v(aa,O({modelValue:this.visible,"onUpdate:modelValue":e=>this.visible=e},this.fileProps),{default:()=>[this.fileComponent]})}});var La=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Aa});var Va={pdf:"vite-icon-pdf",doc:"vite-icon-doc",ppt:"vite-icon-ppt",gif:"vite-icon-gif",xls:"vite-icon-xls",jpg:"vite-icon-jpg",png:"vite-icon-png",file:"vite-icon-file",txt:"vite-icon-txt",wps:"vite-icon-wps",tar:"vite-icon-tar",rar:"vite-icon-rar",xsl:"vite-icon-xsl",zip:"vite-icon-zip",tif:"vite-icon-tif",rp:"vite-icon-rp",swf:"vite-icon-swf",svg:"vite-icon-svg",psd:"vite-icon-psd",mp3:"vite-icon-mp3",mp4:"vite-icon-mp4",mov:"vite-icon-mov",flv:"vite-icon-flv",exe:"vite-icon-exe",html:"vite-icon-html","7z":"vite-icon-7z",bmp:"vite-icon-bmp",ai:"vite-icon-ai",avi:"vite-icon-avi",eps:"vite-icon-eps"};const Ra=g({name:"UploadList",componentName:"ManageUploadList",__file:"@PC/Upload/List",components:{Preview:Aa},props:{fileList:{type:Array,default:()=>[]}},setup:()=>({current:p({})}),render(){return v("section",null,[v("ul",{class:"manage-pc-upload-list"},[v(H,{enterActiveClass:"animated fadeInDown",leaveActiveClass:"animated fadeOutUp"},{default:()=>[this.fileList.length>0&&this.fileList.map((e=>v("li",{key:e.uid},[v("section",{class:"upload-file-content"},[v("div",null,[v(y("el-button"),{type:"text",onClick:()=>{var t;return this.$emit("download",(null==(t=e.response)?void 0:t.result)||{})}},{default:()=>{var t;return[v("i",{class:["iconfont",`${Va[e.raw.name.split(".").pop()]||"vite-icon-file"}`],style:"padding-right: 8px; font-size: 1.3rem"},null),(null==(t=e.response)?void 0:t.name)||e.raw.name]}})]),v("div",null,[e.response&&v(y("el-button"),{type:"success",icon:"el-icon-view",size:"mini",circle:!0,title:"预览",onClick:()=>{this.current=e.response.result}},null),v(y("el-button"),{type:"primary",icon:"el-icon-download",size:"mini",title:"下载",circle:!0,onClick:()=>{var t;return this.$emit("download",(null==(t=e.response)?void 0:t.result)||{})}},null),v(y("el-button"),{type:"danger",icon:"el-icon-delete",size:"mini",title:"删除",circle:!0,onClick:()=>this.$emit("remove",e,[])},null)])]),v(y("el-progress"),{percentage:e.percentage,status:"success",style:{display:e.percentage>=100&&"none"}},null)])))]})]),v(Aa,{file:this.current,"onUpdate:file":e=>this.current=e},null)])}});var $a=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ra});const Na=e=>{let t=0;for(;e>=1024;)e/=1024,t++;return`${e}${["b","kb","mb"][t]}`},Da=e=>({uploadProps:d((()=>Object.assign({},$n(e,Object.keys(Xe.props)),(e=>{const t=t=>{const l=e.fileList.findIndex((e=>e&&e.uid===t));l>-1&&e.fileList.splice(l,1)};return{beforeUpload:l=>new Promise(((o,n)=>{if(e.filesize>0){const{filesize:o}=l;if(o>=e.filesize)return Ye.error(`文件大小不能超过${Na(e.filesize)}`),t(l.uid),n()}if(ut(e.accept)){const o=l.name.slice(l.name.lastIndexOf(".")+1);if(!e.accept.includes(o))return Ye.error(`上传文件格式必须为${e.accept.replace(/,./g,"/")}`),t(l.uid),n()}return gt(e.beforeUpload)&&e.beforeUpload(l),ut(e.action)?o(null):n()})),onChange:(t,l)=>{const o=e.fileList.findIndex((e=>e&&e.uid===t.uid));t.response?t.response.success?(t.percentage=100,o>-1&&(e.fileList[o]=t)):(Ye.error("上传失败，请重试"),o>-1&&e.fileList.splice(o,1)):("fail"===t.status&&(Ye.error("上传失败，请重试"),o>-1&&e.fileList.splice(o,1)),o<0&&"ready"===t.status&&e.fileList.push(t)),gt(e.onChange)&&e.onChange(t,l)},onRemove:(l,o)=>{t(l.uid),gt(e.onRemove)&&e.onRemove(l,o)}}})(e))))}),Ua=g({name:"Upload",componentName:"ManagePCUpload",__file:"@PC/Upload",components:{FileList:Ra},props:Object.assign({},Xe.props,{filesize:{type:Number,default:0},customClass:{type:String,default:"manage-pc-upload"}}),setup(e,{emit:t}){const{uploadProps:l}=Da(e);return{uploadProps:l,download:({url:e})=>{ut(e)&&Kn({name:e.split("/").pop()}).then((t=>{t.data&&so(t.data,e.split("/").pop())}))}}},render(){let e;const t=this.$slots;return v("section",{class:this.customClass},[v(y("el-upload"),O(this.uploadProps,{class:"manage-pc-upload-component"}),(l=e=Object.assign({default:()=>gt(t.default)?t.default():v(w,null,[v("i",{class:"el-icon-upload"},null),v("div",{class:"el-upload__text"},[F("将文件拖到此处，或"),v("em",null,[F("点击上传")])])]),tip:()=>gt(t.tip)?t.tip():v("div",{class:"el-upload__tip"},[ut(this.accept)&&`只能上传${this.accept.replace(/,./g,"/")}文件，`,this.filesize>0&&`文件大小不可超过${Na(this.filesize)}`])},gt(t.file)&&{file:({file:e})=>t.file({file:e,download:this.download,remove:this.uploadProps.onRemove})}),"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]})),!this.uploadProps.showFileList&&(gt(t.filelist)?t.filelist():v(y("file-list"),{fileList:this.fileList,onDownload:this.download,onRemove:this.uploadProps.onRemove},null))]);var l}});var Fa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ua});const Ba={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},Ha=g({name:"ImagePreview",componentName:"ManageImagePreview",__file:"@PC/ImageUpload/Preview/index.tsx",emits:["update:modelValue","update:preview"],props:{imageList:{type:Array,default:()=>[]},preview:{type:Boolean,default:!1},modelValue:{type:Number,default:0}},setup(e,{emit:t}){const{visible:l,index:o}=((e,t)=>{const l=d({get:()=>e.modelValue,set(e){t("update:modelValue",e)}});return{visible:d({get:()=>e.preview,set(e){t("update:preview",e)}}),index:l}})(e,t),{transform:n,mode:a,toggleMode:i,imgStyle:r,handleActions:c,addImgEventListener:u,removeImgEventListener:h,ImgMouseDown:g}=(()=>{const e=p({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),t=p(Ba.CONTAIN),l=d((()=>{const{scale:l,deg:o,offsetX:n,offsetY:a,enableTransition:i}=e.value,s={transform:`scale(${l}) rotate(${o}deg)`,transition:i?"transform .3s":"",marginLeft:`${n}px`,marginTop:`${a}px`};return t.value.name===Ba.CONTAIN.name&&Object.assign(s,{maxWidth:"100%",maxHeight:"100%"}),s})),o=()=>{const l=t.value.name.toUpperCase();t.value=Ba["CONTAIN"===l?"ORIGINAL":"CONTAIN"],e.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},n=(t,l={})=>{const{zoomRate:o,rotateDeg:n,enableTransition:a}=s({zoomRate:.2,rotateDeg:90,enableTransition:!0},l);switch(t){case"zoomOut":e.value.scale=Math.max(.2,parseFloat((e.value.scale-o).toFixed(3)));break;case"zoomIn":e.value.scale=parseFloat((e.value.scale+o).toFixed(3));break;case"clocelise":e.value.deg+=n;break;case"anticlocelise":e.value.deg-=n}e.value.enableTransition=a},a=go((e=>({32:o(),38:n("zoomIn"),40:n("zoomOut")}[e.code])),200),i=go((e=>{const t=e.wheelDelta?e.wheelDelta:-e.detail;t>0&&n("zoomIn",{zoomRate:.015,enableTransition:!1}),t<=0&&n("zoomOut",{zoomRate:.015,enableTransition:!1})}),200);return{transform:e,mode:t,imgStyle:l,toggleMode:o,handleActions:n,addImgEventListener:()=>{document.addEventListener("keydown",a),document.addEventListener("wheel",i)},removeImgEventListener:()=>{document.removeEventListener("keydown",a),document.removeEventListener("wheel",i)},ImgMouseDown:t=>{const{offsetX:l,offsetY:o}=e.value,{pageX:n,pageY:a}=t,i=t=>{e.value.offsetX=l+t.pageX-n,e.value.offsetY=o+t.pageY-a};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",i)}))}}})();return R(u),U(h),m((()=>l.value),(()=>{!1===l.value&&(o.value=0,n.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1},a.value=Ba.CONTAIN,h())}),{immediate:!0}),{visible:l,index:o,transform:n,mode:a,toggleMode:i,imgStyle:r,handleActions:c,ImgMouseDown:g}},render(){return v(K,{enterActiveClass:"animated zoomIn",leaveActiveClass:"animated zoomOut"},{default:()=>[this.visible&&v("div",{class:"manage-pc-preview-viewer",tabindex:0},[v("header",null,[v("i",{class:"el-icon-close",title:"关闭",onClick:e=>{e.stopPropagation(),this.visible=!1}},null)]),this.imageList.length>1&&v(w,null,[v("span",{class:{"el-image-viewer__btn":!0,"el-image-viewer__prev":!0},title:"上一张",onClick:()=>{this.index=(this.index-1+this.imageList.length)%this.imageList.length,this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},[v("i",{class:"el-icon-arrow-left"},null)]),v("span",{class:{"el-image-viewer__btn":!0,"el-image-viewer__next":!0},title:"下一张",onClick:()=>{this.index=(this.index+1)%this.imageList.length,this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},[v("i",{class:"el-icon-arrow-right"},null)])]),v("section",{class:"el-image-viewer__canvas"},[this.imageList.map(((e,t)=>v(K,{enterActiveClass:"animated fadeInRightBig",leaveActiveClass:"animated fadeOutLeftBig"},{default:()=>[this.index===t&&v("img",{class:"el-image-viewer__img",src:e,key:e,style:this.imgStyle,onMousedown:this.ImgMouseDown},null)]})))]),v("footer",{class:"el-image-viewer__actions manage-pc-actions-bar"},[v("div",{class:"el-image-viewer__actions__inner"},[v("i",{class:"el-icon-zoom-out",onClick:()=>this.handleActions("zoomOut")},null),v("i",{class:"el-icon-zoom-in",onClick:()=>this.handleActions("zoomIn")},null),v("i",{class:"el-image-viewer__actions__divider"},null),v("i",{class:this.mode.icon,onClick:this.toggleMode},null),v("i",{class:"el-image-viewer__actions__divider"},null),v("i",{class:"el-icon-refresh-left",onClick:()=>this.handleActions("anticlocelise")},null),v("i",{class:"el-icon-refresh-right",onClick:()=>this.handleActions("clocelise")},null)])])])]})}});var qa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ha});const Ka=g({name:"ImageUpload",componentName:"ManageImageUpload",__file:"@PC/ImageUpload",emits:["update:fileList"],props:Object.assign({},Xe.props,{filesize:{type:Number,default:0},draggable:{type:Boolean,default:!1}}),components:{Upload:Ua,Preview:Ha},setup(e,{emit:t}){const l=u(),o=d((()=>l.state.user.token)),n=p(!1),a=p(0);return{token:o,imageList:d({get:()=>e.fileList,set(e){t("update:fileList",e)}}),preview:n,current:a}},render(){return v("section",null,[b(v(Ua,{action:this.action,filesize:this.filesize,headers:{token:this.token},fileList:this.imageList,"list-type":"picture-card",customClass:"manage-image-upload"},{default:()=>v("i",{class:"el-icon-plus"},null),file:({file:e,download:t,remove:l})=>v("div",{style:"height: 100%"},[v(y("el-image"),{class:"el-upload-list__item-thumbnail",src:e.url,alt:"",fit:"cover"},null),v("span",{class:"el-upload-list__item-actions"},[v("span",{class:"el-upload-list__item-preview"},[v("i",{class:"el-icon-zoom-in",onClick:t=>{t.stopPropagation(),this.current=this.imageList.findIndex((t=>t.uid===e.uid)),this.preview=!0}},null)]),v("span",{class:"el-upload-list__item-delete"},[v("i",{class:"el-icon-download",onClick:l=>{var o;l.stopPropagation(),t(null==(o=e.response)?void 0:o.result)}},null)]),v("span",{class:"el-upload-list__item-delete"},[v("i",{class:"el-icon-delete",onClick:t=>{t.stopPropagation(),l(e,this.imageList)}},null)])])])}),[[_("draggable"),[this.draggable&&{dom:".manage-image-upload .el-upload-list",target:".el-upload-list__item",callback:({newIndex:e,oldIndex:t})=>{[this.imageList[e],this.imageList[t]]=[this.imageList[t],this.imageList[e]]}}].filter(Boolean)]]),v(Ha,{modelValue:this.current,"onUpdate:modelValue":e=>this.current=e,preview:this.preview,"onUpdate:preview":e=>this.preview=e,imageList:this.imageList.map((e=>{var t,l;return(null==(l=null==(t=e.response)?void 0:t.result)?void 0:l.url)||e.url}))},null)])}});var Wa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ka});const Ga=["String","Number","Boolean","Function","Array","Object"],Ja=(e,t,l)=>t.showJson&&ho((()=>e.value="Array"===l?jl(t.json):Ol(t.json)),600)(),Xa=(e,t)=>{let l=e.replace("root","");return"Array"===t?(l=l.slice(1),l.startsWith("[")?l:`[${l}`):"Object"===t?l:void 0};function Ya(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const Qa=e=>{const t=((e,t)=>{const l=p(),o=p(),n=p();return"Array"===t&&(l.value=e.json.map(((e,t)=>`root.${t}]`)),o.value=jl(e.json),n.value=[{label:"[",key:"root",type:"Array",children:e.json.map(((t,o)=>El(e.json,o,`root.${o}]`,l.value)))},{label:"]",key:"]"}]),"Object"===t&&(l.value=Object.keys(e.json).map((e=>`root.${e}`)),o.value=Ol(e.json),n.value=[{label:"{",key:"root",type:"Object",children:Object.keys(e.json).map((t=>El(e.json,t,`root.${t}`,l.value)))},{label:"}",key:"}"}]),{valueType:Ga,jsonKey:l,jsonString:o,treeData:n,componentOnChange:(l,n)=>{const a=Xa(l.key,t);new Function("obj","value",`obj${a} = value`)(e.json,l[n]),Ja(o,e,t)},propertyKeyChange:(n,a,i)=>{if(ut(n)){const{data:s}=a.parent;let r=Xa(i.key,t);l.value=l.value.filter((e=>!e.includes(i.key)));const c=new Function("obj",`return obj${r}`)(e.json);new Function("obj",`delete obj${r}`)(e.json);let u=r.slice(0,r.lastIndexOf(i.label));console.log(u),"Array"===s.type&&(u+=`${n}]`),"Object"===s.type&&(u+=n),i.key=u,i.label=n,new Function("obj","value",`obj${u} = value`)(e.json,c),Ja(o,e,t)}},removeProperty:(n,a)=>{const i=(n.children||n).findIndex((e=>e.key===a));if(i>-1){(n.children||n).splice(i,1),l.value=l.value.filter((e=>!e.includes(a)));const o=Xa(a,t);new Function("obj",`delete obj${o}`)(e.json)}"Array"===n.type&&n.desc&&(n.desc=`Array(${n.children.length})`),"Object"===n.type&&n.desc&&(n.desc=`Object(${n.children.length})`),"Array"===t&&console.log(e.json),Ja(o,e,t)},dragPropertyDrop:(e,t,l,o)=>{},addProperty:(o,n)=>{const a={value:"",type:"String"};if(Array.isArray(o.children)&&("Array"===o.type&&(a.label=o.children.length,a.key=o.key+`[${a.label}]`,o.desc&&(o.desc=`Array(${a.label+1})`)),"Object"===o.type&&(a.label="a",a.key=o.key+".a",o.desc&&(o.desc=`Object(${o.children.length+1})`))),!l.value.includes(a.key)){l.value.push(a.key);const n=Xa(a.key,t);new Function("obj","value",`obj${n} = value`)(e.json,a.value),o.children.push(a)}!1===n.expanded&&(n.expanded=!0)},propertyTypeChange:n=>{const a=Xa(n.key,t);switch(n.type){case"Array":case"Object":Array.isArray(n.children)&&(l.value=l.value.filter((e=>!n.children.map((e=>e.key)).includes(e)))),delete n.value,n.children=[],n.desc="Array"===n.type?"Array(0)":"Object(0)",new Function("obj","value",`obj${a} = value`)(e.json,"Array"===n.type?[]:{});break;default:n.value="",delete n.desc,delete n.children,new Function("obj",`obj${a} = ''`)(e.json)}Ja(o,e,t)}}})(e,mt(e.json));return s({componentType:(e,l)=>{let o,n;switch(e.type||mt(e[l])){case"String":case"Number":return v(y("el-input"),{modelValue:e[l],"onUpdate:modelValue":t=>e[l]=t,clearable:!0,size:"mini",placeholder:Ht("please.input.something"),onClick:e=>e.stopPropagation(),onChange:ho((()=>t.componentOnChange(e,l)),200)},null);case"Boolean":return v(y("el-radio-group"),{modelValue:e[l],"onUpdate:modelValue":t=>e[l]=t,onChange:()=>t.componentOnChange(e,l)},{default:()=>[v(y("el-radio"),{label:!0},Ya(o=Ht("true"))?o:{default:()=>[o]}),v(y("el-radio"),{label:!1},Ya(n=Ht("false"))?n:{default:()=>[n]})]});case"Function":return v(y("el-input"),{modelValue:e[l],"onUpdate:modelValue":t=>e[l]=t,clearable:!0,type:"textarea",autosize:{minRows:6,maxRows:12},placeholder:Ht("please.input.something"),onClick:e=>e.stopPropagation(),onChange:ho((()=>t.componentOnChange(e,l)),200)},null)}}},t)},Za=function(e,t){let l;return t.hasOwnProperty("origin")||(t.origin=t.label),v("div",{class:"json-row"},[v("span",{class:"json-key"},[["root","}","]"].includes(t.key)?t.label:v(w,null,[v(y("el-input"),{size:"mini",modelValue:t.origin,"onUpdate:modelValue":e=>t.origin=e,onClick:e=>e.stopPropagation(),readonly:"Array"===e.parent.data.type,onChange:()=>this.propertyKeyChange(t.origin,e,t)},null),F("：")])]),v("div",{class:"json-value"},[["root","}","]"].includes(t.key)?"root"===t.key&&v("div",{class:"json-value"},[v(y("el-button"),{type:"text",icon:"el-icon-circle-plus-outline",style:"color: #67c23A",title:"添加属性",onClick:l=>{l.stopPropagation(),this.addProperty(t,e)}},null)]):v(w,null,[t.desc?v("span",{class:"primary",style:"font-style: oblique; padding-top: 2px"},[t.desc]):this.componentType(t,"value"),v(y("el-select"),{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,style:"margin-left: 10px; width: 150px",size:"mini",onChange:()=>this.propertyTypeChange(t),placeholder:Ht("please.select.something")},Ya(l=this.valueType.map((e=>v(y("el-option"),{label:Ht(e),value:e,key:e},null))))?l:{default:()=>[l]}),["Array","Object"].includes(t.type)&&v(y("el-button"),{type:"text",icon:"el-icon-circle-plus-outline",style:"color: #67c23A",title:"添加属性",onClick:l=>{l.stopPropagation(),this.addProperty(t,e)}},null),v(y("el-button"),{type:"text",icon:"el-icon-remove-outline",title:"移除属性",style:"color: #F56C6C",onClick:l=>{l.stopPropagation(),this.removeProperty(e.parent.data,t.key)}},null)])])])},ei=g({name:"JsonEditor",componentName:"ManageJsonEditor",__file:"@PC/JsonEditor",props:{json:{type:[Object,Array],default:()=>({})},showJson:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},setup:e=>Qa(e),render(){return v("section",{class:"manage-json-render"},[v(y("el-tree"),{data:this.treeData,"node-key":"key","default-expanded-keys":["root"],draggable:this.draggable,"highlight-current":!0,"auto-expand-parent":!0,ref:e=>e&&(this.treeRef=e),"allow-drag":e=>{var t,l;return!["root","}","]"].includes(e.data.key)&&"Array"!==(null==(l=null==(t=e.parent)?void 0:t.data)?void 0:l.type)},"allow-drop":(e,t,l)=>{var o,n,a,i;return!["root","}","]"].includes(t.data.key)&&(null==(n=null==(o=e.parent)?void 0:o.data)?void 0:n.key)===(null==(i=null==(a=t.parent)?void 0:a.data)?void 0:i.key)&&"inner"!==l},onNodeDrop:this.dragPropertyDrop},{default:({node:e,data:t})=>Za.call(this,e,t)}),this.showJson&&v("div",{class:"manage-json-show",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[v(y("el-input"),{type:"textarea",modelValue:this.jsonString,readOnly:!0,autosize:{minRows:28,maxRows:28}},null)])])}});var ti=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ei});const li=(e,t)=>{const l=p(null),o=u(),n=p(""),a=p(!1),i=p({}),c=p({}),h=p([]),g=p(0),f=d((()=>o.state.user.userInfo));let b=0;const v=p({status:"warning",statusText:"CLOSED"}),y=N("isMobile"),_=y.value?V.fail:Ye.error,w=(y.value?V:Ye).success,x=()=>{l.value||(v.status="",v.statusText="CONNECTING",b=0,"WebSocket"in window?(l.value=new WebSocket(window._config.ws),S()):_("浏览器暂不支持websocket"))},C=({data:e="{}"})=>{"{}"!==e&&j(JSON.parse(e))},S=()=>{l.value&&(l.value.onopen=()=>{v.value.status="success",v.value.statusText="CONNECTED",k(),O(),w("连接成功")},l.value.onclose=()=>{v.value.status="warning",v.value.statusText="CLOSED",w("断开连接"),Object.keys(i.value).length&&(b=0,g.value=0,i.value={},c.value={}),h.value.length&&(h.value=[]),l.value=null},l.value.onerror=()=>{v.value.status="danger",v.value.statusText="ERROR",x()},l.value.onmessage=C)},k=()=>{var e;a.value=!0,b+=1,(e={current:b},Xl({url:"/showchats",params:e,method:"get",type:"backen",notip:!0})).then((e=>{g.value<e.count&&(g.value=e.count,e.rows.forEach(j))})).finally((()=>{a.value=!1}))},O=()=>{Xl({url:"/showusers",method:"get",type:"backen",notip:!0}).then((e=>{h.value=e.map((e=>Object.assign(e,{label:`${e.username}(${e.email})`})))}))},j=e=>{if(c.value[e.cid])return;c.value[e.cid]=!0;const t=unescape(e.content),[l,o]=io(e.createDate,"{y}-{m}-{d} {h}:{m}:{s}").split(" "),n=r(s({},e),{content:t,createDate:o});i.value[l]?i.value[l].push(n):i.value[l]=[n]};return m(l,(()=>{t("get-socket",l.value)}),{immediate:!0}),{initSocket:x,sendMessage:()=>{if(ut(n.value)&&l.value){const e=Object.assign({},f.value,{content:escape(n.value.trim()),style:{}});l.value.send(JSON.stringify(e)),n.value=""}},socket:l,socketStatus:v,messageSend:n,messageLoading:a,messageList:i,currentUser:f,userList:h,getChatsHistory:k,getAllUsers:O}},oi=function(){return{onNodeClick:(e,t)=>{this.$emit("node-click",e,t,this.treeRef)},onNodeDrop:(e,t,l,o)=>{this.$emit("node-drop",e,t,l,o)},onNodeDragEnd:(e,t,l,o)=>{this.$emit("node-drag-end",e,t,l,o)},onNodeDragOver:(e,t,l)=>{this.$emit("node-drag-over",e,t,l)},onNodeDragLeave:(e,t,l)=>{this.$emit("node-drag-leave",e,t,l)},onNodeDragEnter:(e,t,l)=>{this.$emit("node-drag-enter",e,t,l)},onNodeDragStart:(e,t)=>{this.$emit("node-drag-start",e,t)},onNodeCollapse:(e,t)=>{this.$emit("node-collapse",e,t,this.treeRef)},onNodeExpand:(e,t)=>{this.$emit("node-expand",e,t,this.treeRef)},onCurrentChange:(e,t)=>{this.$emit("current-change",e,t)},onCheck:(e,t)=>{var l;this.single&&(null==(l=this.treeRef)?void 0:l.setCheckedKeys)&&this.treeRef.setCheckedKeys(t.checkedKeys.length>0?[e.id]:[]),this.$emit("check",e,t)},onCheckChange:(e,t,l)=>{this.$emit("check-change",e,t,l)},onNodeContextmenu:(e,t,l)=>{this.$emit("node-context-menu",e,t,l,this.treeRef)}}};const ni=function(e,t){return t.hasOwnProperty("editLabel")||(t.editLabel=!1),v("div",{class:"node-content"},[v("span",{class:{label:!0,readonly:!this.editable||!t.editLabel}},[gt(this.$slots.node)?this.$slots.node({node:e,data:t}):v(y("el-input"),{modelValue:t[this.props.label],"onUpdate:modelValue":e=>t[this.props.label]=e,placeholder:Ht("please.input.something"),size:"mini",onClick:e=>{e.stopPropagation(),t.editLabel=!0},onBlur:()=>t.editLabel=!1,readonly:!this.editable||!t.editLabel},null)]),this.editable&&v("span",{class:"edit-buttons"},[v(y("el-dropdown"),{onCommand:l=>this.addTreeNode(e,t,l),trigger:"click"},{default:()=>v(y("el-button"),{icon:"el-icon-plus",type:"text",title:"添加节点",onClick:e=>e.stopPropagation()},null),dropdown:()=>v(y("el-tooltip"),{placement:"right",effect:"light"},{default:()=>{let e;return v(y("el-dropdown-menu"),null,"function"==typeof(t=e=this.treeNodeAdd.map((e=>v(y("el-dropdown-item"),{command:e.command,key:e.command,icon:e.icon},{default:()=>[e.desc]}))))||"[object Object]"===Object.prototype.toString.call(t)&&!k(t)?e:{default:()=>[e]});var t},content:()=>v(w,null,[v("p",{class:"flex-row"},[v("span",null,[Ht(this.nodeKey),F("：")]),v(y("el-input"),{modelValue:t[`new${this.nodeKey}`],"onUpdate:modelValue":e=>t[`new${this.nodeKey}`]=e,placeholder:Ht("please.input.something"),size:"mini"},null)]),v("p",{class:"flex-row"},[v("span",null,[Ht(this.props.label),F("：")]),v(y("el-input"),{modelValue:t[`new${this.props.label}`],"onUpdate:modelValue":e=>t[`new${this.props.label}`]=e,placeholder:Ht("please.input.something"),size:"mini"},null)])])})}),v(y("el-button"),{icon:"el-icon-minus",type:"text",title:"移除节点",onClick:t=>this.removeTreeNode(t,e)},null)])])},ai=g({name:"Tree",componentName:"ManagePCTree",__file:"@PC/Tree",components:{ElTree:Ze},props:Object.assign({},Ze.props,{showSearch:{type:Boolean,default:!1},single:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}}),setup(e){const t=((e,t)=>{const l=p(null),o=p(""),n=p(!1),a=p({[e.nodeKey]:"",[e.props.label]:"",[e.props.children]:[],editLabel:!1}),i=d((()=>Object.assign({defaultExpandKeys:e.data.map((t=>t[e.nodeKey])),emptyText:"暂无数据"},$n(e,Object.keys(t.props)),{checkStrictly:e.single,checkOnClickNode:!0,expandOnClickNode:!1,filterNodeMethod:(t,l,o)=>{var n,a;return l[null==(n=e.props)?void 0:n.label].includes(t)||t.includes(l[null==(a=e.props)?void 0:a.label])}})));return m((()=>o.value),ho((()=>{var e;(null==(e=l.value)?void 0:e.filter)&&l.value.filter(o.value)}),500)),{treeProps:i,treeRef:l,searchValue:o,topPopoverShow:n,newNode:a,addFirstLayerNode:()=>{var t;i.value.data.push(Ml(Qe(a.value))),(null==(t=l.value)?void 0:t.updateKeyChildren)&&l.value.updateKeyChildren(a.value[e.nodeKey],[]),a.value.id="",a.value.label="",n.value=!1}}})(e,Ze),l=((e,t)=>({treeNodeAdd:[{command:"before",icon:"el-icon-top",desc:"节点前"},{command:"inner",icon:"el-icon-bottom-right",desc:"节点内"},{command:"after",icon:"el-icon-bottom",desc:"节点后"}],addTreeNode:(l,o,n)=>{var a,i,s,r;const c={[e.nodeKey]:o[`new${e.nodeKey}`],[e.props.label]:o[`new${e.props.label}`],editLabel:!1,[e.props.children]:[]};switch(n){case"before":(null==(a=t.value)?void 0:a.insertBefore)&&t.value.insertBefore(c,o);break;case"inner":(null==(i=t.value)?void 0:i.append)&&t.value.append(c,o),l.expanded=!0;break;case"after":(null==(s=t.value)?void 0:s.insertAfter)&&t.value.insertAfter(c,o)}delete o[`new${e.nodeKey}`],delete o[`new${e.props.label}`],(null==(r=t.value)?void 0:r.updateKeyChildren)&&t.value.updateKeyChildren(c[e.nodeKey],c[e.props.children])},removeTreeNode:(e,l)=>{var o;Xt(e),(null==(o=t.value)?void 0:o.remove)&&t.value.remove(l)}}))(e,t.treeRef);return s(s({},t),l)},render(){const e=this.$slots;return v("section",{class:"manage-pc-tree-page"},[v("header",{class:"manage-pc-tree-head"},[this.showSearch&&v(y("el-input"),{"suffix-icon":"el-icon-search",size:"small",placeholder:Ht("please.input.something"),modelValue:this.searchValue,"onUpdate:modelValue":e=>this.searchValue=e},null),this.editable&&v(y("el-popover"),{visible:this.topPopoverShow,"onUpdate:visible":e=>this.topPopoverShow=e,trigger:"click",width:"fit-content",placement:"right","show-arrow":!1},{default:()=>v(w,null,[v("p",{class:"flex-row"},[v("span",null,[Ht(this.nodeKey),F("：")]),v(y("el-input"),{placeholder:Ht("please.input.something"),size:"mini",modelValue:this.newNode[this.nodeKey],"onUpdate:modelValue":e=>this.newNode[this.nodeKey]=e},null)]),v("p",{class:"flex-row"},[v("span",null,[Ht(this.props.label),F("：")]),v(y("el-input"),{placeholder:Ht("please.input.something"),size:"mini",modelValue:this.newNode[this.props.label],"onUpdate:modelValue":e=>this.newNode[this.props.label]=e},null)]),v("p",{class:"flex-row"},[v(y("el-button"),{type:"success",size:"mini",onClick:this.addFirstLayerNode},{default:()=>[F("确定")]})])]),reference:()=>v(y("el-button"),{type:"success",circle:!0,style:"min-height: 0",icon:"el-icon-plus",size:"mini",title:"添加节点"},null)})]),v(Ze,O(Object.assign({},this.treeProps,oi.call(this)),{class:{single:this.single},ref:e=>e&&(this.treeRef=e)}),{default:({node:t,data:l})=>gt(e.default)?e.default({node:t,data:l}):ni.call(this,t,l)})])}});var ii=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ai});const si=g({name:"Socket",componentName:"ManageSocket",components:{Tree:ai},emits:["get-socket"],__file:"@PC/Socket",setup:(e,{emit:t})=>li(0,t),render(){return v("section",{class:"manage-socket-page"},[v(y("el-card"),{class:"left-tool"},{header:()=>v(w,null,[F("连接状态"),v(y("el-tag"),{type:this.socketStatus.status,size:"small"},{default:()=>[this.socketStatus.statusText]})]),default:()=>v(w,null,[v(y("el-input"),{modelValue:window._config.ws,readonly:!0,disabled:!0},{prepend:()=>"服务地址",suffix:()=>v(y("el-button"),{type:"primary",plain:!0,onClick:e=>{e.stopPropagation(),"success"!==this.socketStatus.status?this.initSocket():this.socket.close()}},{default:()=>["success"!==this.socketStatus.status?"开启":"关闭",F("连接")]})}),v("div",{class:"socket-tips"},[v("header",null,[F("提示")]),v("section",null,[F("  此功能仅为socket测试，仅可在本地环境中开发和测试，暂不提供对外服务。"),v("br",null,null),F("  使用时，需要先开启链接，开启成功便同步拉取用户数据和消息记录。")])]),v(ai,{data:this.userList,showSearch:!0,"empty-text":"请先开启服务"},{default:({data:e})=>v("div",{class:"user-node"},[v(y("el-avatar"),{size:"small",src:e.avatar,alt:e.email},null),v("span",null,[e.label])])}),v("div",{class:"socket-message-send"},[v(y("el-input"),{type:"textarea",placeholder:"请输入要发送的内容",modelValue:this.messageSend,"onUpdate:modelValue":e=>this.messageSend=e,autosize:{minRows:5,maxRows:10},clearable:!0,"show-word-limit":!0,onKeyup:({code:e})=>{"Enter"===e&&this.sendMessage(this.messageSend)},disabled:"success"!==this.socketStatus.status},null),v(y("el-button"),{type:"primary",round:!0,plain:!0,size:"small",disabled:"success"!==this.socketStatus.status,onClick:this.sendMessage},{default:()=>[F("发送")]})])])}),v(y("el-card"),{header:"消息记录",class:"right-content",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},{default:()=>[0===Object.keys(this.messageList).length?v(y("el-empty"),{description:"暂无数据"},null):Object.entries(this.messageList).map((([e,t])=>{return v(w,null,[v(y("el-divider"),null,(l=e,"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]})),v("ul",{class:"chats-history"},[t.map((e=>v("li",{key:e.uid+e.createDate,class:{my:e.uid===this.currentUser.uid}},[v("p",{style:"color: #67c23a; font-size: .8rem;"},[e.username,F(" "),e.createDate]),v("p",{style:e.style},[e.content])])))])]);var l}))]})])}});var ri=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:si});function ci(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const ui=g({name:"Steps",componentName:"ManageStepsPage",__file:"@PC/Steps",props:Object.assign({},et.props,{steps:{type:Array,default:()=>[]},next:{type:Function,default:Nn},prev:{type:Function,default:Nn},showFooter:{type:Boolean,default:!0},permitClick:{type:Boolean,default:!0},confirm:{type:Function,default:Nn}}),setup(e,{emit:t}){const{stepsProps:l,activeIndex:o,carousel:n}=Dn(e,t,et),{nextStep:a,prevStep:i,confirmStep:s}=Un(e,o,n);return{stepsProps:l,activeIndex:o,carousel:n,nextStep:a,prevStep:i,confirmStep:s}},render(){let e,t;const l=this.$slots;return v("section",{class:"manage-pc-steps-page"},[v("header",null,[v(y("el-steps"),O(this.stepsProps,{active:this.activeIndex}),ci(e=this.steps.map(((e,t)=>{let l;return v(y("el-step"),Object.assign({key:t,onClick:()=>{var l;this.permitClick&&(this.activeIndex=t,(null==(l=this.carousel)?void 0:l.setActiveItem)&&this.carousel.setActiveItem(t)),gt(e.click)&&e.click()}},ut(e.status)&&{status:e.status}),ci(l=Object.assign({},e.title&&{title:()=>gt(e.title)?e.title():v("span",{innerHTML:e.title},null)},e.icon&&{icon:()=>gt(e.icon)?e.icon():v("i",{class:e.icon},null)},e.description&&{description:()=>gt(e.description)?e.description():v("span",{innerHTML:e.description},null)}))?l:{default:()=>[l]})})))?e:{default:()=>[e]})]),v("main",{class:"manage-pc-steps-content"},[v(y("el-carousel"),{autoplay:!1,"initial-index":this.activeIndex,arrow:"never","indicator-position":"none",height:"calc(100vh - 450px)",ref:e=>e&&(this.carousel=e)},ci(t=this.steps.map(((e,t)=>v(y("el-carousel-item"),{key:t},{default:()=>[gt(l[`step${t}`])&&l[`step${t}`]()]}))))?t:{default:()=>[t]})]),this.showFooter&&v("footer",{class:"manage-pc-steps-footer"},[this.activeIndex>0&&v(y("el-button"),{size:"small",type:"primary",onClick:this.prevStep,plain:!0},{default:()=>[F("上一步")]}),this.activeIndex===this.steps.length-1&&v(y("el-button"),{type:"success",size:"small",onClick:this.confirmStep,plain:!0},{default:()=>[F("确定")]}),this.activeIndex<this.steps.length-1&&v(y("el-button"),{size:"small",type:"primary",plain:!0,onClick:this.nextStep},{default:()=>[F("下一步")]})])])}});var di=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ui});const pi=g({name:"SvgIcon",componentName:"ManageSvgIcon",__file:"@PC/SvgIcon",props:{name:{type:String,required:!0},color:{type:String,default:""}},setup:e=>({iconName:d((()=>`#icon-${e.name}`)),svgClass:d((()=>ut(e.name)?`svg-icon icon-${e.name}`:"svg-icon"))}),render(){return v("svg",O({class:this.svgClass},this.$attrs,{style:{color:this.color}}),[v("use",{"xlink:href":this.iconName},null)])}});var mi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:pi});const hi=g({name:"TableFooter",componentName:"ManageTableFooter",render(){const e=this.$parent;return v("footer",{class:"manage-pc-table-footer"},[e.footerControl&&v("div",{class:"left-footer-control"},[v(y("el-button"),{type:"text",onClick:()=>e.table.toggleAllSelection()},{default:()=>[F("全"),e.copyData.length===e.tableSelect.length&&"不",F("选")]}),v("span",{style:"color: var(--primary-color); padding: 0 7px;"},[F("/")]),v(y("el-button"),{type:"text",onClick:()=>e.copyData.forEach((t=>e.table.toggleRowSelection(t)))},{default:()=>[F("反选")]}),e.tableSelect.length>0&&v("span",{style:"padding-left: 10px"},[F("当前选中 "),e.tableSelect.length,F(" 条数据")])]),e.pagination&&e.paginationProps.total>0&&v(y("el-pagination"),O({style:{textAlign:e.paginationAlign}},e.paginationProps,{onSizeChange:t=>{e.paginationProps=Object.assign({},e.paginationProps,{pageSize:t})},onCurrentChange:t=>{e.tableSelect=[],e.paginationProps=Object.assign({},e.paginationProps,{currentPage:t})}}),null)])}});var gi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hi});const fi=g({name:"TableHead",componentName:"ManageTableHead",emits:["update:queryParam","update:queryItems"],components:{Form:Pa},computed:{model:{get(){return this.$parent.queryParam},set(e){this.$emit("update:queryParam",e)}},formItems:{get(){return this.$parent.queryItems},set(e){this.$emit("update:queryItems",e)}}},render(){const e=this.$slots,t=this.$parent;return v("header",{class:"manage-pc-table-header"},[v("div",{class:"left-nav"},[0===this.formItems.length&&gt(e.leftNav)?e.leftNav(t.copyData):v(Pa,{model:this.model,"onUpdate:model":e=>this.model=e,formItems:this.formItems,"onUpdate:formItems":e=>this.formItems=e,inline:!0,size:"small"},null)]),v("div",{class:"right-nav"},[gt(e.rightNav)&&e.rightNav(t.copyData),t.showRightNav&&v(w,null,[v(y("el-dropdown"),{trigger:"click",class:"manage-pc-header-dropdown",size:"medium",onCommand:async e=>{t.tableLoading=!0,await t.saveDataToXlsx(e),t.tableLoading=!1}},{default:()=>v("span",{class:"el-dropdown-link"},[v(y("el-button"),{type:"primary",size:"mini",plain:!0,round:!0},{default:()=>[F("导出数据 "),v("i",{class:"el-icon-arrow-down"},null)]})]),dropdown:()=>v(y("el-dropdown-menu"),null,{default:()=>[v(y("el-dropdown-item"),{command:"select"},{default:()=>[F("导出勾选数据")]}),v(y("el-dropdown-item"),{command:"page"},{default:()=>[F("导出当前页数据")]})]})}),0===t.copyData.length&&0===t.paginationProps.total&&v(y("el-button"),{type:"success",size:"mini",icon:"el-icon-upload",round:!0,plain:!0,onClick:()=>t.xlsxDialogVisible=!0},{default:()=>[F("导入数据")]}),v(y("el-button"),{type:"warning",size:"mini",circle:!0,plain:!0,title:"打印",icon:"el-icon-printer",onClick:async()=>{t.tableLoading=!0,await t.printTable(t.table.$el),t.tableLoading=!1}},null),v(y("el-dropdown"),{"hide-on-click":!1,trigger:"click",class:"manage-pc-header-dropdown",size:"medium"},{default:()=>v("span",{class:"el-dropdown-link"},[v("i",{class:"el-icon-menu"},null),v("i",{class:"el-icon-arrow-down"},null)]),dropdown:()=>{let e;return v(y("el-dropdown-menu"),null,"function"==typeof(l=e=t.copyColumns.map((e=>v(y("el-dropdown-item"),null,{default:()=>[v(y("el-checkbox"),{modelValue:e.show,"onUpdate:modelValue":t=>e.show=t},{default:()=>[e.label||{index:"索引列",selection:"选择列",expand:"展开列"}[e.type]]})]}))))||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]});var l}})])])])}});var bi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fi});const vi=g({name:"XlsxDialog",componentName:"ManageXlsxDialog",render(){const e=y("Dialogs"),t=y("Upload"),l=this.$parent;return v(e,O({modelValue:l.xlsxDialogVisible,"onUpdate:modelValue":e=>l.xlsxDialogVisible=e},{title:"文件数据导入",dragging:!0,destroyOnClose:!0,customClass:"manage-xlsx-upload",closeOnClickModal:!1,closeOnPressEscape:!1,width:"40%"}),{default:()=>[v(t,{drag:!0,showFileList:!1,action:"",accept:".xlsx,.xls,.csv",beforeUpload:async e=>{l.tableLoading=!0,await l.loadDataByXlsx(e),l.xlsxDialogVisible=!1,l.tableLoading=!1}},null)]})}});var yi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vi});const _i=(e,t,l,o)=>({saveDataToXlsx:async n=>{const a={select:t.value,page:l.value}[n],i=`${io(new Date)} 数据导出.xlsx`,s=((e,t)=>{const l={},n=e.map((e=>{if(!e.hasOwnProperty("type"))return gt(o[e.content])?l[e.prop||e.label]=o[e.content]:gt(e.content)?l[e.prop||e.label]=e.content:l[e.prop||e.label]=({row:t})=>t[e.prop],e.label})).filter(Boolean),a=e=>{let t="";return Array.isArray(e.children)?e.children.forEach((e=>{t+=a(e)})):t+=e.children||e,t};return[n,...t.map((e=>Object.keys(l).map((t=>a(l[t]({row:e}))))))]})(e.value,a),r=tt.utils.book_new(),c=tt.utils.aoa_to_sheet(s);tt.utils.book_append_sheet(r,c,"Sheet1"),tt.writeFile(r,i)},loadDataByXlsx:async t=>{const o=await new FileReader;await o.readAsArrayBuffer(t),o.onload=t=>{const o=tt.read(t.target.result,{type:"buffer"}),n=o.Sheets[o.SheetNames[0]],a=tt.utils.sheet_to_json(n);Array.isArray(a)&&a.length&&(e.value=[{type:"selection",show:!0},{type:"index",label:"序号",show:!0,width:70},...Object.keys(a[0]).map(((e,t)=>({label:e,prop:String(t+1),show:!0})))],l.value=a.map((e=>Object.keys(e).reduce(((t,l,o)=>(t[o+1]=e[l],t)),{}))))}},printTable:async e=>{await Zt({header:`${io(new Date)} 数据打印`,printable:e,type:"html",style:"@page { margin: 0 10mm; } h1 { font-size: 18px; text-align: center; line-height: 35px; }"},!0)}}),wi=function(){return{onSelectionChange:e=>{this.tableSelect=e,this.$emit("selection-change",this.tableSelect)},onCellMouseEnter:(...e)=>{this.$emit("cell-mouse-enter",...e)},onCellMouseLeave:(...e)=>{this.$emit("cell-mouse-leave",...e)},onCellClick:(...e)=>{this.$emit("cell-click",...e)},onCellDblclick:(...e)=>{this.$emit("cell-dbclick",...e)},onRowClick:(...e)=>{this.$emit("row-click",...e)},onRowContextmenu:(...e)=>{const[t,l,o]=e;o.stopPropagation(),o.preventDefault(),this.$emit("row-contextmenu",t,l,o)},onRowDblclick:(...e)=>{this.$emit("row-dblclick",...e)},onHeaderClick:(...e)=>{this.$emit("header-click",...e)},onHeaderContextmenu:(...e)=>{const[t,l]=e;l.stopPropagation(),l.preventDefault(),this.$emit("header-contextmenu",t,l)},onSortChange:({column:e,prop:t,order:l})=>{this.$emit("sort-change",e,t,l)},onFilterChange:e=>{this.$emit("filter-change",e)},onCurrentChange:(...e)=>{this.$emit("current-change",...e)},onHeaderDragend:(...e)=>{const[t,l,o,n]=e;n.stopPropagation(),this.$emit("header-dragend",t,l,o,n)},onExpandChange:(...e)=>{const[t,l]=e;this.$emit("expand-change",t,l)}}};const xi=lt.emits.filter((e=>!["select","select-all"].includes(e))),Ci=function(){return this.copyColumns.map(((e,t)=>{let l;return(e.show||!this.showRightNav)&&v(y("el-table-column"),O(Object.assign({},e,"index"===e.type&&{index:e=>{if(this.pagination){const{pageSize:t,currentPage:l}=this.paginationProps;return t*(l-1)+e+1}return e+1}}),{key:t}),"function"==typeof(o=l=Object.assign({},gt(e.header)&&{header:t=>e.header.call(this,t)},gt(e.content)&&{default:t=>e.content.call(this,t)},gt(this.$slots[e.header])&&{header:this.$slots[e.header]},gt(this.$slots[e.content])&&{default:this.$slots[e.content]}))||"[object Object]"===Object.prototype.toString.call(o)&&!k(o)?l:{default:()=>[l]});var o}))},Si=function(){var e,t;const l=null==(t=null==(e=this.$slots)?void 0:e.default)?void 0:t.call(e);let o=[];Array.isArray(l)&&(1===l.length&&"symbol"==typeof l[0].type?o=l[0].children:l.length>1&&(o=l),o.every((e=>{var t;return"ElTableColumn"===(null==(t=e.type)?void 0:t.name)}))&&(this.copyColumns=o.map((e=>{var t,l,o,n;return Object.assign({},e.props,this.showRightNav&&{show:!(null==(l=null==(t=e.props)?void 0:t.hasOwnProperty)?void 0:l.call(t,"show"))},(null==(o=e.children)?void 0:o.default)&&{content:e.children.default},(null==(n=e.children)?void 0:n.header)&&{header:e.children.header})}))))},ki=g({name:"Table",componentName:"ManageTable",__file:"@PC/Table",emits:[...xi,"get-table","update:data","update:pagination"],components:{Table:lt,TableHead:fi,TableFooter:hi,XlsxDialog:vi},props:Object.assign({},lt.props,{pagination:{type:[Boolean,Object],default:!1},columns:{type:Array,default:()=>[]},paginationAlign:{type:String,default:"right"},footerControl:{type:Boolean,default:!0},showRightNav:{type:Boolean,default:!1},showLeftNav:{type:Boolean,default:!1},queryItems:{type:Array,default:()=>[]},queryParam:{type:Object,default:()=>({})}}),setup:(e,{emit:t,slots:l})=>((e,t,l,o)=>{const n=p(null),a=p([]),i=p(!1),r=d((()=>Object.assign({},$n(e,Object.keys(o.props)),{}))),c=p(!1),u=d({get:()=>e.data,set(e){t("update:data",e)}}),h=p(e.columns.map((t=>Object.assign(t,e.showRightNav&&{show:!t.hasOwnProperty("show")})))),g=d({get:()=>Object.assign({pageSize:10,currentPage:1,prevText:"上一页",nextText:"下一页",layout:"sizes, prev, pager, next, jumper, total,"},"Object"===mt(e.pagination)&&e.pagination),set(e){t("update:pagination",e)}});return m((()=>n.value),(()=>{t("get-table",n.value)})),s({table:n,tableSelect:a,tableProps:r,copyColumns:h,copyData:u,paginationProps:g,xlsxDialogVisible:c,tableLoading:i},_i(h,a,u,l))})(e,t,l,lt),render(){const e=this.$slots;return gt(e.default)&&0===this.copyColumns.length&&Si.call(this),v("section",{class:"manage-pc-table"},[this.showRightNav&&v(vi,null,null),(this.showRightNav||this.showLeftNav||gt(e.leftNav)||gt(e.rightNav))&&v(fi,null,null),b(v("main",{"element-loading-text":"处理中，请稍后","element-loading-spinner":"el-icon-loading"},[v(lt,O(Object.assign({},this.tableProps,wi.call(this)),{ref:e=>e&&(this.table=e)}),{default:()=>Ci.call(this),empty:()=>gt(e.empty)?e.empty():v(y("el-empty"),{description:"暂无数据"},null),append:()=>gt(e.append)&&e.append(this.copyData)}),v(hi,null,null)]),[[_("loading"),this.tableLoading]])])}});var Oi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ki});const ji=g({name:"ToolBar",componentName:"ManageToolBar",__file:"@PC/Toolbar",props:{barList:{type:Array,default:()=>[]},direction:{type:String,default:"row"},draggable:{type:Boolean,default:!1}},setup:(e,{emit:t})=>(e=>{const t=u(),l=p(!0),o=p(null),n=d((()=>Object.assign({},"row"===e.direction&&{"el-icon-caret-right":!l.value,"el-icon-caret-left":l.value},"column"===e.direction&&{"el-icon-caret-bottom":!l.value,"el-icon-caret-top":l.value}))),a=async()=>{await h(),setTimeout((()=>{var e,t,l;const n=document.querySelector(".backen-admin-pc-content"),a=((null==(e=document.querySelector(".backen-admin-pc-navbar"))?void 0:e.clientHeight)||0)+((null==(t=null==n?void 0:n.querySelector(".el-header"))?void 0:t.clientHeight)||0)+50,i=(null==(l=document.querySelector(".backen-admin-pc-sidebar"))?void 0:l.clientWidth)||0;tl(o.value,i,a)}),500)};return e.draggable&&m((()=>[t.state.config.collapse,t.state.config.navMode]),(([e,t])=>{!e&&o.value&&parseInt(o.value.style.left)<=220&&(o.value.style.cssText=""),a()}),{immediate:!0}),ot((()=>{document.onmouseup=document.onmousemove=null})),{expand:l,toolBar:o,expandIconClass:n,dragToolBar:a}})(e),render(){const e=this.$slots;return v("div",{class:"manage-toolbar-list",ref:e=>e&&(this.toolBar=e)},[gt(e.default)&&0===this.barList.length?e.default():v("ul",{class:this.direction},[v("li",null,[v("i",{class:this.expandIconClass,title:this.expand?"收缩":"展开",onClick:()=>this.expand=!this.expand},null)]),this.barList.map((e=>{const{icon:t,click:l,title:o}=e,n=t.startsWith("van-")?v(y("van-icon"),{name:t.slice("van-".length)},null):v("i",{class:t},null);return v("li",{onClick:l,title:o,class:{expand:this.expand}},[n])}))])])}});var Ei=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ji});const Mi=g({name:"Transfer",componentName:"ManagePCTransfer",__file:"@PC/Transfer",components:{ElTransfer:nt},props:Object.assign({},nt.props,{selectedKeys:{type:Array,default:()=>[]}}),setup:(e,{emit:t})=>((e,t,l)=>{const o=p(null),n=d({get:()=>e.selectedKeys,set(e){t("update:selectedKeys",e)}});return{transferProps:d((()=>Object.assign({buttonTexts:["移除","添加"]},$n(e,Object.keys(l.props).filter((e=>"modelValue"!==e)))))),transferRef:o,transferKeys:n}})(e,t,nt),render(){let e;const t=this.$slots;return v("section",{class:"manage-pc-transfer"},[v(nt,O({modelValue:this.transferKeys,"onUpdate:modelValue":e=>this.transferKeys=e},this.transferProps,{ref:e=>e&&(this.transferRef=e)}),(l=e=Object.assign({},gt(t["left-footer"])&&{"left-footer":t["left-footer"]},gt(t["right-footer"])&&{"right-footer":t["right-footer"]},gt(t.default)&&{default:t.default}),"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!k(l)?e:{default:()=>[e]}))]);var l}});var Pi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Mi});const Ti=["el","van"],Ii=e=>Ti.some((t=>e.toLowerCase().startsWith(t))),zi=(e,t,l,o)=>{const n=Ii(e)?e.replace(/([A-Z])/g,"-$1").toLowerCase().slice(1):e;let a=`<${n} `;(dt(o)?Object.keys(o).filter((e=>e.startsWith("update:"))):[]).forEach((e=>{const l=e.slice(e.lastIndexOf(":")+1);a+=`\nv-model${"modelValue"===l?"":":"+l}=""\n`,delete t[l]}));const i=Ol(t);return Object.keys(t).length>0&&(a+=`v-bind="${i}">`),dt(l)&&Object.keys(l).length>0&&Object.entries(l).forEach((([e,t])=>{gt(t)?a+=`\n<template v-slot:${e}>\n${t()}</template>\n`:["key","prop","slots","emits"].every((e=>t.hasOwnProperty(e)))&&(a+=`\n<template v-slot:${e}>\n${zi(t.key,t.prop,t.slots,t.emits)}\n</template>\n`)})),[">"," "].includes(a[a.length-1])?a=a.slice(0,a.length-1)+" />":a+=`</${n}>`,a};class Ai{constructor(){this.isBrowser=!1,this.templateFile=(e="",t="",l="",o=!0)=>`<template>\n      <div>\n        ${e}\n      </div>\n</template>\n\n<script>\n${o?`import { defineComponent } from 'vue'\n${t}\nexport default defineComponent({\n    name: 'RenderUi',\n    components: {\n      ${l}\n    },\n    props: {},\n    setup (props, context) {\n        return {\n\n        }\n    }\n})`:`${t}\nexport default {\n    name: 'RenderUi',\n    props: {},\n    components: {\n      ${l}\n    },\n    data () {\n        return {\n\n        }\n    },\n    created () {\n\n    },\n    mounted () {\n\n    },\n    methods: {\n\n    },\n}`}\n<\/script>\n\n<style scoped lang="less">\n      \n</style>\n`,this.htmlFile=(e="",t="")=>`<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta\n        name="viewport"\n        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"\n    />\n    <link rel="stylesheet" href="https://unpkg.com/element-plus/lib/theme-chalk/index.css" />\n    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vant@next/lib/index.css" />\n    <title>${t}</title>\n    <style>\n\n    </style>\n  </head>\n  <body>\n    ${e}\n  </body>\n  <script><\/script>\n</html>\n`,this.isBrowser="undefined"!=typeof window}generateFile(e){const t=Object.assign({name:"test",domstr:"",composition:!0,source:!0,renderStr:"",importStr:"",componentStr:""},e);t.source?so(new Blob([this.templateFile(t.renderStr,t.importStr,t.componentStr,t.composition)]),t.name,".vue"):so(new Blob([this.htmlFile(t.domstr,t.name)]),t.name,".html")}}var Li=["ElMenuItem","ElSubmenu","ElMenuItemGroup","SubMenus","UploadList","FilePreview","ElCarouselItem","ElColorPicker","ElDropdownMenu","ElOption","ElBreadcrumbItem","ElCalendar","MobileSteps","Steps","CodePreview"];const Vi=()=>{const e=p([]),t=p({});return{vueRenderStr:e,vueScriptStr:t,handleComponentClick:(l,o,n)=>{t.value[l]=((e,t)=>t.__file?Ii(e)?"":`import ${e} from '${t.__file}'`:`import ${e} from '@/components'`)(l,o),e.value.push({component:B(o),prop:G(Ml(n.$props)),key:l,slots:G(Ml(n.$slots)),emits:G(Ml(o.emits)),tab:Object.keys(n.$props).length?"prop":"style",id:co()})}}},Ri=e=>{let t;const{proxy:{$message:l}}=at();return R((()=>{t=new Ai})),U((()=>{t=null})),{generateVue:(o,n)=>{var a;ut(o)?(t.generateFile({name:o,composition:n,renderStr:e.renderStr.map((e=>zi(e.key,e.prop,e.slots,e.emits))).join("\n"),importStr:e.importStr.filter(ut).map((e=>e.includes("{")?((e,t)=>{switch(t){case"(":return e.replaceAll("(","( ").replaceAll(")"," )");case"{":return e.replaceAll("{","{ ").replaceAll("}"," }");case"[":return e.replaceAll("[","[ ").replaceAll("]"," ]");default:return e}})(e,"{"):e)).join("\n"),componentStr:(a=e.importStr,a.filter(ut).map((e=>`${e.split(" ")[1].replaceAll("{","").replaceAll("}","")}`)).join(",\n\t  "))}),o=""):l.error(Ht("please.input.something"))},generateHTML:e=>{var o;ut(e)?(t.generateFile({name:e,domstr:null==(o=document.querySelector(".ui-render-content .render-panel"))?void 0:o.innerHTML,composition:!1,source:!1}),e=""):l.error(Ht("please.input.something"))}}};const $i=g({name:"UIRenderHead",componentName:"ManageUIRenderHead",props:{renderStr:{type:Array,default:()=>[]},importStr:{type:Array,default:()=>[]}},setup:e=>(e=>s({vueName:p(""),vueType:p(!0),htmlName:p("")},Ri(e)))(e),render(){return v("header",{class:"ui-render-head-tool"},[v(y("el-button"),{onClick:()=>this.$emit("reset")},{default:()=>[F("重置")]}),v(y("el-popover"),{trigger:"click",placement:"bottom",width:300,"popper-class":"source-config-popover"},{default:()=>v(w,null,[v("div",{class:"input-row"},[v("span",{class:"label-key"},[F("文件名：")]),v("div",{class:"content"},[v(y("el-input"),{modelValue:this.vueName,"onUpdate:modelValue":e=>this.vueName=e,clearable:!0,size:"small",placeholder:Ht("please.input.something")},null)])]),v("div",{class:"input-row"},[v("span",{class:"label-key"},[F("类型：")]),v("div",{class:"content"},[v(y("el-radio"),{modelValue:this.vueType,"onUpdate:modelValue":e=>this.vueType=e,label:!0},{default:()=>[F("Composition")]}),v(y("el-radio"),{modelValue:this.vueType,"onUpdate:modelValue":e=>this.vueType=e,label:!1},{default:()=>[F("Options")]})])]),v("div",{style:"text-align: center"},[v(y("el-button"),{type:"primary",size:"small",onClick:()=>this.generateVue(this.vueName,this.vueType)},{default:()=>[F("确定")]})])]),reference:()=>v(y("el-button"),{type:"success"},{default:()=>[F("保存源码")]})}),v(y("el-popover"),{trigger:"click",placement:"bottom",width:250},{default:()=>v("div",{style:"display: flex; justify-content: space-between; align-item: center"},[v(y("el-input"),{modelValue:this.htmlName,"onUpdate:modelValue":e=>this.htmlName=e,clearable:!0,size:"small",placeholder:Ht("please.input.something")},null),v(y("el-button"),{type:"primary",size:"small",style:"margin-left: 20px;",onClick:()=>this.generateHTML(this.htmlName)},{default:()=>[F("确定")]})]),reference:()=>v(y("el-button"),{type:"primary"},{default:()=>[F("保存构建后代码")]})})])}});var Ni=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$i});const Di=function(e){const t=Qe(y(e));let l;const o=v(t,O(((e={})=>{const t={},l=[Node,Object,Array,String,Number,Boolean];for(let o in e)if("Object"===mt(e[o])){const{default:n,type:a,types:i}=e[o];if(["Undefined","Null"].includes(mt(n)))if(Vn(a)||Vn(i))t[o]=Ln;else{let e;for(let n=l.length;n>=0;n--)if(e=Vn(a,l[n])||Vn(i,l[n])){t[o]=Rn(e());break}}else Vn(a)||Vn(i)||pt(n)?t[o]=n:t[o]=n()}else if(Vn(e[o]))t[o]=Ln;else for(let n=l.length;n>=0;n--)if(Vn(e[o],l[n])){t[o]=Rn(l[n]());break}return t})(t.props),{ref:e=>e&&(l=e)}),null);return v("li",{title:Ht(e),onClick:()=>{this.$emit("render",e,t,l)}},[v("span",{class:"component-key"},[Ht(e)]),v("div",{class:"component-img"},[o])])},Ui=g({name:"ComponentTools",componentName:"ManageComponentTools",setup:()=>(()=>{let e;const{appContext:{components:t}}=at(),l=[...new Set(Object.keys(t).map(ro).filter((e=>!Li.includes(e))))];let o=0;const n=p(l.slice(0,20));return R((()=>{e=new el(document.getElementById("last-component"),(([e])=>{if(e.isIntersecting){o+=1;const e=20*o,t=Math.min(20*(o+1),l.length);n.value=n.value.concat(l.slice(e,t))}}))})),U((()=>{e.disconnect(),e=null})),{components:t,componentKeys:n}})(),render(){return v("ul",{class:"infinite-component-list",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[this.componentKeys.map((e=>Di.call(this,e))),v("li",{id:"last-component",style:"height: 0;border: none"},null)])}});var Fi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ui});function Bi(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!k(e)}const Hi=(e,t)=>{let l,o;switch(mt(e[t])){case"String":case"Number":return v("div",{class:"prop-value"},[v(y("el-input"),{modelValue:e[t],"onUpdate:modelValue":l=>e[t]=l,clearable:!0,placeholder:Ht("please.input.something")},null)]);case"Boolean":return v("div",{class:"prop-value"},[v(y("el-radio"),{modelValue:e[t],"onUpdate:modelValue":l=>e[t]=l,label:!0},Bi(l=Ht("true"))?l:{default:()=>[l]}),v(y("el-radio"),{modelValue:e[t],"onUpdate:modelValue":l=>e[t]=l,label:!1},Bi(o=Ht("false"))?o:{default:()=>[o]})]);case"Array":return v(ei,{json:e[t]},null);case"Function":return v("div",{class:"prop-value"},[v(y("el-input"),{type:"textarea",modelValue:e[t],"onUpdate:modelValue":l=>e[t]=l,autosize:{minRows:6,maxRows:10},clearable:!0,placeholder:Ht("please.input.something")},null)]);case"Object":return v(ei,{json:e[t]},null);default:return null}},qi=function(){const e=t=>Array.isArray(t)?t.map((t=>(t.hasOwnProperty("showConfig")||(t.showConfig=!1),v(y("el-popover"),{trigger:"manual",placement:"right",visible:t.showConfig,"onUpdate:visible":e=>t.showConfig=e,offset:-200,title:Ht(t.key),"popper-class":"component-config-popover"},{reference:()=>v("div",{style:"width: fit-content;",onContextmenu:e=>this.contextMenuComponent(e,t),onClick:e=>this.clickComponent(e,t)},[v(t.component,O(t.prop,{style:"pointer-events: none"}),{default:()=>[dt(t.slots)&&Object.entries(t.slots).reduce(((t,[l,o])=>(gt(o)?t[l]=o:dt(o)&&(t[l]=e(Object.values(o))),t)),{})]})]),default:()=>(e=>{let t;return v(y("el-tabs"),{type:"border-card",modelValue:e.tab,"onUpdate:modelValue":t=>e.tab=t},{default:()=>[dt(e.prop)&&Object.keys(e.prop).length>0&&v(y("el-tab-pane"),{name:"prop",label:"组件配置"},Bi(t=Object.keys(e.prop).map((t=>v("div",{class:"input-row"},[v("span",{title:Ht(t),class:"prop-key"},[Ht(t)]),Hi(e.prop,t)]))))?t:{default:()=>[t]}),v(y("el-tab-pane"),{name:"style",label:"样式配置"},{default:()=>[v(y("el-input"),{type:"textarea",modelValue:e.style,"onUpdate:modelValue":t=>e.style=t,autosize:{minRows:10,maxRows:20}},null)]}),dt(e.slots)&&Object.keys(e.slots).length>0&&v(y("el-tab-pane"),{name:"slots",label:"子组件"},{default:()=>[v("div",null,[F("子组件")])]})]})})(t)})))):t;return e(this.renderStr)},Ki=g({name:"UIRenderContent",componentsName:"ManageUIRenderContent",components:{RightContextMenu:g(qo),JsonEditor:g(ei)},props:{renderStr:{type:Array,default:()=>[]}},setup:e=>(e=>{const t=p(0),l=p(0),o=p(!1),n=p({id:""}),a=[{title:"remove component",click:()=>{if(Array.isArray(e.renderStr)){const t=e.renderStr.findIndex((e=>e.id===n.value.id));t>-1&&e.renderStr.splice(t,1)}}}],i=()=>{var t;t=e.renderStr,Array.isArray(t)&&t.forEach((e=>{e.showConfig=!1}))},s=e=>{e.stopPropagation(),n.value.showConfig=!1};return R((()=>{document.addEventListener("click",s)})),U((()=>{document.removeEventListener("click",s)})),{rightMenus:a,top:t,left:l,visible:o,current:n,closeOthers:i,clickComponent:(e,t)=>{e.stopPropagation(),i(),t.showConfig=!0,n.value=t},contextMenuComponent:(e,a)=>{t.value=e.clientY,l.value=e.clientX,o.value=!0,n.value=a}}})(e),render(){return v("section",{class:"ui-render-content",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},[v("div",{class:"render-panel"},[qi.call(this)]),v(y("right-context-menu"),O({visible:this.visible,"onUpdate:visible":e=>this.visible=e},{top:this.top,left:this.left,menus:this.rightMenus}),null)])}});var Wi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ki});const Gi=g({name:"ComponentNode",componentName:"ManageComponentNode",components:{Tree:g(ai),RightContextMenu:g(qo)},props:{renderStr:{type:Array,default:()=>[]}},setup:e=>(e=>{const t=p(!1),l=p({}),o=p(0),n=p(0);return{visible:t,treeNodeRightClick:(e,a,i,s)=>{const{clientX:r,clientY:c}=e;o.value=c,n.value=r,l.value=a,t.value=!0},current:l,top:o,left:n,rightMenus:[{title:"remove component",click:()=>{const t=e.renderStr.findIndex((e=>e.id===l.value.id));t>-1&&e.renderStr.splice(t,1)}}]}})(e),render(){return v(w,null,[v(ai,{data:this.renderStr,showSearch:!0,"node-key":"id","empty-text":"暂无节点",onNodeContextMenu:this.treeNodeRightClick,props:{label:"key",children:"slots"}},null),v(qo,{visible:this.visible,"onUpdate:visible":e=>this.visible=e,top:this.top,left:this.left,menus:this.rightMenus},null)])}});var Ji=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gi});const Xi=g({name:"UIRender",componentName:"ManageUIRender",components:{UiRenderHead:$i,UiRenderTool:Ui,UiRenderContent:Ki,UiRenderTree:Gi},setup:()=>Vi(),render(){return v("section",{class:"manage-ui-render-page"},[v("div",{class:"ui-render-tree"},[v(y("ui-render-tree"),{renderStr:this.vueRenderStr},null)]),v("div",{class:"ui-render-show"},[v(y("ui-render-head"),{renderStr:this.vueRenderStr,importStr:Object.values(this.vueScriptStr),onReset:()=>{this.vueRenderStr=[],this.vueScriptStr={}}},null),v(y("ui-render-content"),{renderStr:this.vueRenderStr},null)]),v("div",{class:"ui-render-right-tools"},[v(y("ui-render-tool"),{onRender:this.handleComponentClick},null)])])}});var Yi=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Xi});const Qi=window.videojs||it,Zi=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"],es=({props:e,emit:t,video:l,player:o,reseted:n})=>{const a=()=>{if(l.value){const n=Object.assign({},e.globalOptions,e.options);!0===e.playsinline&&(l.value.setAttribute("playsinline",e.playsinline),l.value.setAttribute("webkit-playsinline",e.playsinline),l.value.setAttribute("x5-playsinline",e.playsinline),l.value.setAttribute("x5-video-player-type","h5"),l.value.setAttribute("x5-video-player-fullscreen",!1)),""!==e.crossOrigin&&(l.value.crossOrigin=e.crossOrigin,l.value.setAttribute("crossOrigin",e.crossOrigin));const a=(l,o)=>{l&&t(l,e.player),o&&t(e.customEventName,{[l]:o})};n.plugins&&delete n.plugins.__ob__,o.value=Qi(l.value,n,(function(){const l=Zi.concat(e.events).concat(e.globalEvents),o={};for(let e=0;e<l.length;e++)"string"==typeof l[e]&&o[l[e]]&&(e=>{o[e]=null,this.on(e,(()=>{a(e,!0)}))})(l[e]);this.on("timeupdate",(function(){a("timeupdate",this.currentTime())})),t("ready",this)}))}},i=e=>{o.value&&o.value.dispose&&("Flash"!==o.value.techName_&&o.value.pause&&o.value.pause(),o.value.dispose(),o.value=null,h((()=>{n.value=!1,h((()=>{n.value=!0,h((()=>{gt(e)&&e()}))}))})))};return m((()=>e.options),((e,t)=>{i((()=>{e&&e.sources&&e.sources.length&&a()}))}),{deep:!0}),{initialize:a,dispose:i}},ts=g({name:"VueVideoPlayer",componentName:"ManageVueVideoPlayer",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,default:()=>{}},events:{type:Array,default:()=>[]},globalOptions:{type:Object,default:()=>({controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}})},globalEvents:{type:Array,default:()=>[]},trackList:{type:Array,default:()=>[]}},setup(e,{emit:t}){const{player:l,reseted:o,video:n}={player:p(null),reseted:p(!0),video:p(null)},{initialize:a,dispose:i}=es({props:e,emit:t,player:l,video:n,reseted:o});return R((()=>{l.value||a()})),U((()=>{l.value&&i(null)})),{player:l,reseted:o,video:n,initialize:a,dispose:i}},render(){const e=this.$slots;return this.reseted&&v("div",{class:"video-player"},[gt(e.title)&&e.title(),v("video",{class:"video-js",ref:e=>e&&(this.video=e)},[this.trackList.map((e=>v("track",e,null)))]),gt(e.footer)&&e.footer()])}});var ls=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ts});class os{constructor({url:e,poster:t,title:l,widefull:o,webfull:n}){this.isBrowser=!1,this.wideScreen=null,this.webFullScreen=null,this.downLoad=null,this.url="",this.poster="",this.fullscreen=!1,this.title="",this.isBrowser="undefined"!=typeof window,this.url=e,this.poster=t,this.title=l,this.widefull=o,this.webfull=n}getConfig(){return{playbackRates:[.5,.7,1,1.25,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"2:1",fluid:!0,sources:[this.url],poster:this.poster,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,fullscreenToggle:!0,captionsButton:!0,chaptersButton:!0,playbackRateMenuButton:!0,LiveDisplay:!1,subtitlesButton:!0,remainingTimeDisplay:!0,progressControl:!0,volumeMenuButton:{inline:!1,vertical:!0}}}}downLoadVideo(){const e=this.url;Kn({url:e}).then((t=>{t.data&&so(t.data,e.split("/").pop())})).catch((t=>{var l;404===(null==(l=t.response)?void 0:l.status)&&A({url:e,method:"post",responseType:"blob",withCredentials:!0}).then((t=>{t.data&&so(t.data,e.split("/").pop())}))}))}wideScreenChange({el_:e}){let t="";this.widefull.value=!this.widefull.value,t=this.widefull.value?'<i class="iconfont vite-icon-wide-reset diy-icon" title="还原"/>':'<i class="iconfont vite-icon-wide diy-icon" title="宽屏"/>',e.querySelector(".vjs-icon-placeholder").innerHTML=t}webFullScreenChange({el_:e}){let t="";this.webfull.value=!this.webfull.value,t=this.webfull.value?'<i class="iconfont vite-icon-webfull-reset diy-icon" title="还原">':'<i class="iconfont vite-icon-webfull diy-icon" title="网页全屏"/>',e.querySelector(".vjs-icon-placeholder").innerHTML=t}videoDBClick(e){this.fullscreen?(Jt(document),this.fullscreen=!1):(e.webkitRequestFullScreen(),this.fullscreen=!0)}videoReady(e,t={wideScreen:!1,webFullScreen:!1,download:!1}){if(this.isBrowser){t.wideScreen&&!this.wideScreen&&(this.wideScreen=e.controlBar.addChild("button",{},11),this.wideScreen.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="iconfont vite-icon-wide diy-icon" title="宽屏"/>',this.wideScreen.on("click",(()=>this.wideScreenChange(this.wideScreen)))),t.webFullScreen&&!this.webFullScreen&&(this.webFullScreen=e.controlBar.addChild("button",{},12),this.webFullScreen.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="iconfont vite-icon-webfull diy-icon" title="网页全屏"/>',this.webFullScreen.on("click",(()=>this.webFullScreenChange(this.webFullScreen)))),t.download&&!this.downLoad&&(this.downLoad=e.controlBar.addChild("button",{},1),this.downLoad.el_.querySelector(".vjs-icon-placeholder").innerHTML='<i class="el-icon-download diy-icon" title="下载" />',this.downLoad.on("click",(()=>this.downLoadVideo())));e.controlBar.el_.querySelector(".vjs-picture-in-picture-control").innerHTML='<i class="el-icon-picture-outline-round" style="cursor: pointer" /><span class="vjs-control-text" aria-live="polite">Picture-in-Picture</span>'}}getFlagData(){return{webfull:this.webfull.value,widefull:this.widefull.value,fullscreen:this.fullscreen}}}let ns;const as=function(){return{onReady:e=>{ns&&(ns.videoReady(e,{wideScreen:this.wideScreen,webFullScreen:this.webFullScreen,download:this.download}),this.$emit("ready",e,ns))},onEnd:e=>{e.isFullscreen()&&e.exitFullscreen(),e.hasStarted(!1)}}},is=g({name:"VideoPlayer",componentName:"ManageVideoPlayer",components:{Player:ts},__file:"@PC/Video",props:{url:{type:String,default:"https://jarrychen.cn/video/tuoleijiya.MP4"},poster:{type:String,default:"https://jarrychen.cn/video/tuoleijiya.jpeg"},title:{type:String,default:"测试视频"},wideScreen:{type:Boolean,default:!1},webFullScreen:{type:Boolean,default:!1},download:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},setup(e){const{videoProps:t,widefull:l,webfull:o}=(e=>{const t=p(!1),l=p(!1);return ns=new os({url:e.url,poster:e.poster,title:e.title,widefull:t,webfull:l}),{videoProps:d((()=>Object.assign({},ns.getConfig(),e.options))),widefull:t,webfull:l}})(e);return{videoProps:t,widefull:l,webfull:o}},render(){return v("div",{class:{"vite-video-player":!0,webfull:this.webfull}},[v("div",{class:"video-control-topbar"},[this.title]),v(ts,O({options:this.videoProps,playsinline:!0,class:"vjs-custom-skin"},as.call(this)),null)])}});var ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:is}),rs=["Menus","ManageMenus","Header","ManageHeader","Footer","Icons","ManageIcons","ManageFooter","UIRender","ManageUIRender","UIRenderHead","ManageUIRenderHead","UIRenderContent","ManageUIRenderContent","ComponentTools","ManageComponentTools","MultiTab","ManageMultiTab","VideoPlayer","ManageVideoPlayer","JsonEditor","ManageJsonEditor","MobileIcons","ManageMobileIcons","Tree","ManagePCTree","Auth","ManageAuthList","Collapse","ManagePCCollapse","ComponentNode","ManageComponentNode","VueVideoPlayer","ManageVueVideoPlayer","ColorPicker","ManageColorPicker","Configuration","ManageConfiguration","Docs","ManageDocs","AboutDocs","ManageAboutDocs","RightPreview","ManageRightPreview","InfoPreview","ManageInfoPreview","PersonInfo","ManagePersonDialog","InfoEdit","ManageInfoEdit","FormItemDiy","ManageFormItemDiy","TableHead","ManageTableHead","XlsxDialog","ManageXlsxDialog","TableFooter","ManageTableFooter"];window.addEventListener("resize",ho((()=>{const e=document.documentElement.clientWidth||document.body.clientWidth,t=Math.max(1200,e)/100+"px";document.getElementsByTagName("html")[0].style["font-size"]=t}),500,!1));const cs=st(fn);var us;us=cs,Object.entries({"./actions/dragDialog.ts":wn,"./actions/dragOther.ts":Cn,"./actions/dragSortable.ts":On,"./actions/permission.ts":En,"./actions/printDom.ts":Pn}).forEach((e=>{const[t,{default:l}]=e.flat(2);ut(l.name)?us.directive(l.name,l):us.directive(t.slice(t.lastIndexOf("/")+1),l)})),us.directive("click-outside",He),(e=>{const t={tsx:{"./Mobile/globalFooter/index.tsx":nn,"./Mobile/globalHeader/index.tsx":sn,"./Mobile/Icons/index.tsx":An,"./Mobile/Menus/index.tsx":ln,"./Mobile/Steps/index.tsx":Hn,"./Mobile/Uploader/index.tsx":Gn,"./PC/Auth/index.tsx":Xn,"./PC/BreadCrumb/index.tsx":Zo,"./PC/CascaderPanel/index.tsx":Qn,"./PC/Code/index.tsx":ea,"./PC/ContextMenus/index.tsx":Ko,"./PC/Dialog/index.tsx":ia,"./PC/Docs/index.tsx":pa,"./PC/Echarts/index.tsx":fa,"./PC/Editor/index.tsx":va,"./PC/Form/index.tsx":Ta,"./PC/globalFooter/index.tsx":Ho,"./PC/globalHeader/colorPicker.tsx":wo,"./PC/globalHeader/fullScreen.tsx":ol,"./PC/globalHeader/index.tsx":Fo,"./PC/globalHeader/locale.tsx":al,"./PC/globalHeader/rightNav.tsx":Eo,"./PC/Icons/index.tsx":za,"./PC/ImageUpload/index.tsx":Wa,"./PC/JsonEditor/index.tsx":ti,"./PC/Menus/index.tsx":Kt,"./PC/MultiTab/index.tsx":Xo,"./PC/Search/index.tsx":To,"./PC/Socket/index.tsx":ri,"./PC/Steps/index.tsx":di,"./PC/SvgIcon/index.tsx":mi,"./PC/Table/footer.tsx":gi,"./PC/Table/head.tsx":bi,"./PC/Table/index.tsx":Oi,"./PC/Table/xlsx-dialog.tsx":yi,"./PC/Toobar/index.tsx":Ei,"./PC/Transfer/index.tsx":Pi,"./PC/Tree/index.tsx":ii,"./PC/UIRender/index.tsx":Yi,"./PC/Upload/index.tsx":Fa,"./PC/Video/index.tsx":ss,"./PC/Dialog/Button/maximize.tsx":na,"./PC/Dialog/Button/minimize.tsx":la,"./PC/Docs/About/index.tsx":ua,"./PC/Form/FormItemDiy/index.tsx":Sa,"./PC/globalHeader/configuration/index.tsx":zo,"./PC/globalHeader/messageList/index.tsx":Ro,"./PC/globalHeader/personInfo/edit.tsx":Co,"./PC/globalHeader/personInfo/index.tsx":ko,"./PC/globalHeader/personInfo/preview.tsx":yo,"./PC/globalHeader/personInfo/rightPreview.tsx":bo,"./PC/ImageUpload/Preview/index.tsx":qa,"./PC/Menus/subMenus/index.tsx":_t,"./PC/MultiTab/Collapse/index.tsx":Go,"./PC/UIRender/Content/index.tsx":Wi,"./PC/UIRender/Head/index.tsx":Ni,"./PC/UIRender/Node/index.tsx":Ji,"./PC/UIRender/Tools/index.tsx":Fi,"./PC/Upload/List/index.tsx":$a,"./PC/Upload/Preview/index.tsx":La,"./PC/Video/Player/index.tsx":ls},vue:{}};Object.values(s(s({},t.tsx),t.vue)).forEach((({default:t})=>{const{name:l,componentName:o}=t;let n="";n=ut(l)&&ut(o)?l.length>o.length?o:l:l||o,rs.includes(n)||e.component(n,t)}))})(cs),((e,t)=>{e.use(t,{i18n:Bt.global.t}),e.use(Bt)})(cs,rt),(e=>{yn.forEach((t=>e.use(t)))})(cs),cs.use(Wl).use(kl),kl.isReady().catch(console.log).finally((()=>cs.mount("#app")));export{da as D,ba as E,Ia as I,ei as J,zn as M,ai as T,Xi as U,is as V,Fl as a,Xt as b,Bl as c,Ml as d,_o as e,Dl as f,Zl as g,no as h,ut as i,Yt as l,io as p,Ul as r,Gt as s,Ht as t,co as u};
