var e=Object.defineProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n;import{g as i,p as o,l as r}from"./index.e7a460c1.js";import{r as s,x as c,B as d,d as m,f as u,g as p,e as h,h as f,C as g,F as v}from"./vendor.0ef042a4.js";const b={title:{text:"项目近30条提交记录",margin:[15,5],x:"center",textAlign:"center",link:"https://github.com/RyanChent/vite-backen-admin/commits"},toolbox:{feature:{saveAsImage:{show:!0},mark:{show:!0},magicType:{show:!0,type:["line","bar"]}}},tooltip:{trigger:"axis",enterable:!0,confine:!0,formatter:"提交次数：{c}"},xAxis:{type:"category",data:[],name:"时间",axisLabel:{interval:0},axisTick:{alignWithLabel:!0}},legend:{show:!0,left:"left"},yAxis:{type:"value",name:"提交数",axisLabel:{interval:0},axisTick:{alignWithLabel:!0}},series:[{data:[],type:"line",name:"vite-backen-admin",smooth:!0,showAllSymbol:!0}]},x=e=>{var m;const u=s(null),p=s({first:performance.timing.domInteractive-performance.timing.fetchStart,white:null==(m=performance.getEntriesByType("paint")[0])?void 0:m.startTime});return c((()=>{u.value||(u.value=r("/js/busuanzi.pure.mini.js"))})),d((()=>{document.body.removeChild(u.value)})),((e,i)=>{for(var o in i||(i={}))t.call(i,o)&&l(e,o,i[o]);if(a)for(var o of a(i))n.call(i,o)&&l(e,o,i[o]);return e})({performanceShow:p},(()=>{let e=1;const a=s(b),t=s(!1),n=()=>{t.value=!0,i({page:e,per_page:30}).then((t=>{const n={};a.value.xAxis.data=[...new Set(t.map((({commit:e})=>{var a,t;const l=o((null==(a=e.author)?void 0:a.date)||(null==(t=e.committer)?void 0:t.date),"{y}-{m}-{d}"),i=l.slice(l.indexOf("-")+1);return n[i]?n[i]+=1:n[i]=1,i})))],a.value.series[0].data=Object.values(n),e+=1})).catch(console.log).finally((()=>{t.value=!1}))};return n(),{getCommitData:n,commitEcharts:a,chartLoading:t}})())};const y=function(){return u(v,null,[u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"访问量",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[h(u("span",{id:"busuanzi_value_site_pv"},null),[[f("loading"),!0]]),u("i",{class:"el-icon-s-custom"},null)])]})]}),u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"访问数",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[h(u("span",{id:"busuanzi_value_site_uv"},null),[[f("loading"),!0]]),u("i",{class:"el-icon-s-check"},null)])]})]}),u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"首屏时间",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[u("span",null,[this.performanceShow.first,g(" ms")]),u("i",{class:"el-icon-timer"},null)])]})]}),u(p("el-tooltip"),{effect:"dark",content:`Domain：${location.origin}`,placement:"top-start"},{default:()=>[u(p("el-card"),{header:"白屏时间",class:"small-card"},{default:()=>[u("div",{class:"card-content"},[u("span",null,[this.performanceShow.white.toFixed(2),g(" ms")]),u("i",{class:"el-icon-timer"},null)])]})]})])},w=function(){const e=p("Echarts");return h(u(p("el-card"),{class:"echarts-card","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0,0,0,0.7)","element-loading-text":"统计图加载中，请稍候",onContextmenu:e=>{e.stopPropagation(),e.preventDefault()}},{default:()=>[this.commitEcharts.xAxis.data.length>0?u(e,{domId:"github-repo-commit",width:"100%",height:"475px",options:this.commitEcharts},null):u(p("el-empty"),{description:"接口调用频繁，请稍后再试"},null)]}),[[f("loading"),this.chartLoading]])},k=m({name:"DashBoard",componentName:"ManagePCDashBoard",setup:e=>x(),render(){return u("div",{class:"manage-dashboard-page"},[y.call(this),w.call(this)])}});export default k;
